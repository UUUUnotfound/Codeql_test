/*
 * JSP generated by Resin-3.1.8 (built Mon, 17 Nov 2008 12:15:21 PST)
 */

package _jsp._mobile._plugin._11;
import javax.servlet.*;
import javax.servlet.jsp.*;
import javax.servlet.http.*;
import weaver.hrm.*;
import java.net.URLEncoder;
import weaver.general.*;
import java.net.URLDecoder;

public class _viewblog__jsp extends com.caucho.jsp.JavaPage
{
  private static final java.util.HashMap<String,java.lang.reflect.Method> _jsp_functionMap = new java.util.HashMap<String,java.lang.reflect.Method>();
  private boolean _caucho_isDead;
  
  public void
  _jspService(javax.servlet.http.HttpServletRequest request,
              javax.servlet.http.HttpServletResponse response)
    throws java.io.IOException, javax.servlet.ServletException
  {
    javax.servlet.http.HttpSession session = request.getSession(true);
    com.caucho.server.webapp.WebApp _jsp_application = _caucho_getApplication();
    javax.servlet.ServletContext application = _jsp_application;
    com.caucho.jsp.PageContextImpl pageContext = _jsp_application.getJspApplicationContext().allocatePageContext(this, _jsp_application, request, response, null, session, 8192, true, false);
    javax.servlet.jsp.PageContext _jsp_parentContext = pageContext;
    javax.servlet.jsp.JspWriter out = pageContext.getOut();
    final javax.el.ELContext _jsp_env = pageContext.getELContext();
    javax.servlet.ServletConfig config = getServletConfig();
    javax.servlet.Servlet page = this;
    response.setContentType("text/html; charset=UTF-8");
    request.setCharacterEncoding("UTF-8");
    try {
      out.write(_jsp_string0, 0, _jsp_string0.length);
      
request.setCharacterEncoding("UTF-8");
response.setContentType("text/html;charset=UTF-8");

	//String userid = request.getParameter("userid");
	User user = HrmUserVarify.getUser (request , response) ;
	if(user == null)  return ;
	String userid=user.getUID()+"";
	String module = Util.null2String((String)request.getParameter("module"));
	String scope = Util.null2String((String)request.getParameter("scope"));

	String title = Util.null2String((String)request.getParameter("title"));
	String titleurl = URLEncoder.encode(title);

	String clienttype = Util.null2String((String)request.getParameter("clienttype"));
	String clientlevel = Util.null2String((String)request.getParameter("clientlevel"));
	String opengps = Util.null2String((String)request.getParameter("opengps"));

      out.write(_jsp_string1, 0, _jsp_string1.length);
      out.print((clienttype));
      out.write(_jsp_string2, 0, _jsp_string2.length);
      out.print((opengps));
      out.write(_jsp_string3, 0, _jsp_string3.length);
      out.print((clienttype.equals("Webclient")?"none":""));
      out.write(_jsp_string4, 0, _jsp_string4.length);
      out.print((userid));
      out.write(_jsp_string5, 0, _jsp_string5.length);
      out.print((request.getParameter("module")));
      out.write(_jsp_string6, 0, _jsp_string6.length);
      out.print((request.getParameter("scope")));
      out.write(_jsp_string7, 0, _jsp_string7.length);
      out.print((clienttype.equals("Webclient")?"none":""));
      out.write(_jsp_string8, 0, _jsp_string8.length);
      out.print((clienttype.equals("Webclient")?"none":""));
      out.write(_jsp_string9, 0, _jsp_string9.length);
      out.print((module));
      out.write(_jsp_string6, 0, _jsp_string6.length);
      out.print((scope));
      out.write(_jsp_string10, 0, _jsp_string10.length);
      out.print((module));
      out.write(_jsp_string6, 0, _jsp_string6.length);
      out.print((scope));
      out.write(_jsp_string11, 0, _jsp_string11.length);
      
 String blogid=request.getParameter("blogid");
 blogid=blogid==null?"":blogid;

      out.write(_jsp_string12, 0, _jsp_string12.length);
      if ("".equals(clienttype)||clienttype.equals("Webclient")) {
      out.write(_jsp_string13, 0, _jsp_string13.length);
      } else {
      out.write(_jsp_string14, 0, _jsp_string14.length);
      }
      out.write(_jsp_string15, 0, _jsp_string15.length);
      out.print((request.getParameter("mobileSession") ));
      out.write(_jsp_string16, 0, _jsp_string16.length);
      out.print((request.getParameter("module") ));
      out.write(_jsp_string17, 0, _jsp_string17.length);
      out.print((request.getParameter("scope") ));
      out.write(_jsp_string18, 0, _jsp_string18.length);
      out.print((blogid));
      out.write(_jsp_string19, 0, _jsp_string19.length);
      out.print((userid));
      out.write(_jsp_string20, 0, _jsp_string20.length);
      out.print((clienttype));
      out.write(_jsp_string21, 0, _jsp_string21.length);
      out.print((request.getParameter("module")));
      out.write(_jsp_string6, 0, _jsp_string6.length);
      out.print((request.getParameter("scope")));
      out.write(_jsp_string22, 0, _jsp_string22.length);
      out.print((userid));
      out.write(_jsp_string23, 0, _jsp_string23.length);
      out.print((clienttype));
      out.write(_jsp_string24, 0, _jsp_string24.length);
      out.print((opengps));
      out.write(_jsp_string25, 0, _jsp_string25.length);
      out.print((request.getParameter("module")));
      out.write(_jsp_string6, 0, _jsp_string6.length);
      out.print((request.getParameter("scope")));
      out.write(_jsp_string22, 0, _jsp_string22.length);
      out.print((userid));
      out.write(_jsp_string23, 0, _jsp_string23.length);
      out.print((clienttype));
      out.write(_jsp_string24, 0, _jsp_string24.length);
      out.print((opengps));
      out.write(_jsp_string26, 0, _jsp_string26.length);
      out.print(("".equals(blogid)?"navbtnslt":""));
      out.write(_jsp_string27, 0, _jsp_string27.length);
      out.print((request.getParameter("module")));
      out.write(_jsp_string6, 0, _jsp_string6.length);
      out.print((request.getParameter("scope")));
      out.write(_jsp_string22, 0, _jsp_string22.length);
      out.print((userid));
      out.write(_jsp_string23, 0, _jsp_string23.length);
      out.print((clienttype));
      out.write(_jsp_string24, 0, _jsp_string24.length);
      out.print((opengps));
      out.write(_jsp_string28, 0, _jsp_string28.length);
      out.print((request.getParameter("module")));
      out.write(_jsp_string6, 0, _jsp_string6.length);
      out.print((request.getParameter("scope")));
      out.write(_jsp_string22, 0, _jsp_string22.length);
      out.print((userid));
      out.write(_jsp_string23, 0, _jsp_string23.length);
      out.print((clienttype));
      out.write(_jsp_string24, 0, _jsp_string24.length);
      out.print((opengps));
      out.write(_jsp_string29, 0, _jsp_string29.length);
    } catch (java.lang.Throwable _jsp_e) {
      pageContext.handlePageException(_jsp_e);
    } finally {
      _jsp_application.getJspApplicationContext().freePageContext(pageContext);
    }
  }

  private java.util.ArrayList _caucho_depends = new java.util.ArrayList();

  public java.util.ArrayList _caucho_getDependList()
  {
    return _caucho_depends;
  }

  public void _caucho_addDepend(com.caucho.vfs.PersistentDependency depend)
  {
    super._caucho_addDepend(depend);
    com.caucho.jsp.JavaPage.addDepend(_caucho_depends, depend);
  }

  public boolean _caucho_isModified()
  {
    if (_caucho_isDead)
      return true;
    if (com.caucho.server.util.CauchoSystem.getVersionId() != 1886798272571451039L)
      return true;
    for (int i = _caucho_depends.size() - 1; i >= 0; i--) {
      com.caucho.vfs.Dependency depend;
      depend = (com.caucho.vfs.Dependency) _caucho_depends.get(i);
      if (depend.isModified())
        return true;
    }
    return false;
  }

  public long _caucho_lastModified()
  {
    return 0;
  }

  public java.util.HashMap<String,java.lang.reflect.Method> _caucho_getFunctionMap()
  {
    return _jsp_functionMap;
  }

  public void init(ServletConfig config)
    throws ServletException
  {
    com.caucho.server.webapp.WebApp webApp
      = (com.caucho.server.webapp.WebApp) config.getServletContext();
    super.init(config);
    com.caucho.jsp.TaglibManager manager = webApp.getJspApplicationContext().getTaglibManager();
    com.caucho.jsp.PageContextImpl pageContext = new com.caucho.jsp.PageContextImpl(webApp, this);
  }

  public void destroy()
  {
      _caucho_isDead = true;
      super.destroy();
  }

  public void init(com.caucho.vfs.Path appDir)
    throws javax.servlet.ServletException
  {
    com.caucho.vfs.Path resinHome = com.caucho.server.util.CauchoSystem.getResinHome();
    com.caucho.vfs.MergePath mergePath = new com.caucho.vfs.MergePath();
    mergePath.addMergePath(appDir);
    mergePath.addMergePath(resinHome);
    com.caucho.loader.DynamicClassLoader loader;
    loader = (com.caucho.loader.DynamicClassLoader) getClass().getClassLoader();
    String resourcePath = loader.getResourcePathSpecificFirst();
    mergePath.addClassPath(resourcePath);
    com.caucho.vfs.Depend depend;
    depend = new com.caucho.vfs.Depend(appDir.lookup("mobile/plugin/11/viewBlog.jsp"), 2994538888584249961L, false);
    com.caucho.jsp.JavaPage.addDepend(_caucho_depends, depend);
  }

  private final static char []_jsp_string20;
  private final static char []_jsp_string6;
  private final static char []_jsp_string12;
  private final static char []_jsp_string24;
  private final static char []_jsp_string5;
  private final static char []_jsp_string10;
  private final static char []_jsp_string26;
  private final static char []_jsp_string15;
  private final static char []_jsp_string16;
  private final static char []_jsp_string9;
  private final static char []_jsp_string18;
  private final static char []_jsp_string0;
  private final static char []_jsp_string13;
  private final static char []_jsp_string7;
  private final static char []_jsp_string1;
  private final static char []_jsp_string8;
  private final static char []_jsp_string14;
  private final static char []_jsp_string19;
  private final static char []_jsp_string23;
  private final static char []_jsp_string29;
  private final static char []_jsp_string25;
  private final static char []_jsp_string4;
  private final static char []_jsp_string2;
  private final static char []_jsp_string21;
  private final static char []_jsp_string11;
  private final static char []_jsp_string27;
  private final static char []_jsp_string3;
  private final static char []_jsp_string28;
  private final static char []_jsp_string22;
  private final static char []_jsp_string17;
  static {
    _jsp_string20 = "\">\r\n		<!-- \u5ba2\u6237\u7aef\u7c7b\u578b -->\r\n		<input type=\"hidden\" name=\"comefrom\" value=\"".toCharArray();
    _jsp_string6 = "&scope=".toCharArray();
    _jsp_string12 = "\r\n<body onload=\"setTimeout(function() { window.scrollTo(0, 1) }, 100);\" />\r\n\r\n<iframe name='hidden_frame' id=\"hidden_frame\" style='display:none'></iframe>\r\n\r\n<form id=\"dataForm\" action=\"/mobile/plugin/11/blogFileUpload.jsp\" enctype=\"multipart/form-data\" method=\"post\" target=\"hidden_frame\">\r\n	<input id=\"uploaddata\" type=\"hidden\" name=\"uploaddata\" />\r\n	<input id=\"uploadname\" type=\"hidden\" name=\"uploadname\" />\r\n</form>\r\n\r\n<div id=\"view_page\">\r\n	<div id=\"view_header\" style=\"".toCharArray();
    _jsp_string24 = "&opengps=".toCharArray();
    _jsp_string5 = "&module=".toCharArray();
    _jsp_string10 = "\";\r\n	   }\r\n	   \r\n	   //\u4e0b\u8f7d\u6587\u4ef6\r\n	   function downloads(fileid,obj,filename){\r\n	   		filename=filename?filename:\"\";\r\n	   		location = \"/download.do?fileid=\"+fileid+\"&filename=\"+filename+\"&module=".toCharArray();
    _jsp_string26 = "')\">\r\n								\u5173\u6ce8<span id=\"attentionCount\"></span>\r\n							</div>\r\n						</td>\r\n						<td width=\"25%\" align=\"center\">\r\n							<div class=\"navbtn ".toCharArray();
    _jsp_string15 = "\">\r\n		<table style=\"width: 100%; height: 40px;\">\r\n			<tr>\r\n				<td width=\"10%\" align=\"left\" valign=\"middle\" style=\"padding-left:5px;\">\r\n					<a href=\"javascript:goBack();\"  style=\"text-decoration: none;\">\r\n						<div style=\"width:56px;height:26px;background:url('/images/bg-top-btn_wev8.png') no-repeat;text-align:center;line-height:26px;color:#000;\">\r\n						\u8fd4\u56de\r\n						</div>\r\n					</a>\r\n				</td>\r\n				<td align=\"center\" valign=\"middle\">\r\n					<div id=\"view_title\">\u5de5\u4f5c\u5fae\u535a</div>\r\n				</td>\r\n				<td width=\"10%\" align=\"right\" valign=\"middle\" style=\"padding-right:5px;\">\r\n				</td>\r\n			</tr>\r\n		</table>\r\n	</div>\r\n	<div  class=\"content\" style=\"background:#fff;\">\r\n		<!-- \u5b58\u653e\u5fc5\u987b\u6570\u636e\u533a\u57df START -->\r\n		<input type=\"hidden\" name=\"sessionkey\" value=\"".toCharArray();
    _jsp_string16 = "\">\r\n		<input type=\"hidden\" name=\"module\" value=\"".toCharArray();
    _jsp_string9 = "' onclick='addUpload(event,this)'>\u9644\u4ef6</div>\":\"\") \r\n						   +\"</div>\";\r\n						   \r\n			   item.find(\".itemcontent\").append(editbox);\r\n		   }\r\n		   //item.find(\"textarea\").focus();\r\n		   if(isShowEditor()){\r\n			   highEditor(editorId,editorHeight);\r\n			   KE.html(editorId,content);\r\n		   }else\r\n			   $(\"#\"+editorId).val(content);\r\n		   \r\n		   \r\n		}  \r\n		\r\n		function doCancelReply(obj){\r\n		    var item=$(obj).parents(\".listitem\");\r\n		    item.find(\"#appendBtn\").removeClass(\"optdisable\");\r\n	 		item.find(\"#appendBtn\").attr(\"canClick\",\"1\");\r\n	 		item.find(\"#replyBlogBtn\").removeClass(\"optdisable\");\r\n	 		item.find(\"#replyBlogBtn\").attr(\"canClick\",\"1\");\r\n	 		item.find(\"#priReplyBlogBtn\").removeClass(\"optdisable\");\r\n	 		item.find(\"#priReplyBlogBtn\").attr(\"canClick\",\"1\");\r\n		    item.find(\".itemcontentReplybox\").remove();\r\n		}\r\n	   function doCancelEdit(obj){\r\n		   	var item=$(obj).parents(\".listitem\");\r\n		   	item.find(\"#appendBtn\").removeClass(\"optdisable\");\r\n	 		item.find(\"#appendBtn\").attr(\"canClick\",\"1\");\r\n	 		item.find(\"#replyBlogBtn\").removeClass(\"optdisable\");\r\n	 		item.find(\"#replyBlogBtn\").attr(\"canClick\",\"1\");\r\n	 		item.find(\"#priReplyBlogBtn\").removeClass(\"optdisable\");\r\n	 		item.find(\"#priReplyBlogBtn\").attr(\"canClick\",\"1\");\r\n		   item.find(\".itemcontenttitle\").show();\r\n		   item.find(\".itemcontentitdt\").show();\r\n		   item.find(\".itemoperation\").show();\r\n		   item.find(\".itemcontentEdit\").remove();\r\n		}\r\n	    \r\n	    function sendRemind(obj){\r\n	       if($(obj).attr(\"isRemind\")==\"true\")\r\n	          return ;	   \r\n		   var item=$(obj).parents(\".listitem\");\r\n		   var workdate=item.attr(\"workdate\");  //\u5de5\u4f5c\u65e5  \r\n		   var blogid=item.attr(\"userid\");  \r\n		  \r\n		   var paras=getUrlParam(\"sendRemind\"); \r\n		   util.getData({\r\n		    	\"loadingTarget\" : document.body,\r\n	    		\"paras\" : paras,//\u5f97\u6570\u636e\u7684URL,\r\n	    		\"datas\" :{blogid:blogid,workdate:workdate},\r\n	    		\"callback\" : function (data){\r\n	    		   $(obj).attr(\"isRemind\",\"true\");\r\n	    		   $(obj).html(\"\u5df2\u63d0\u9192\");\r\n	    		   $(obj).css(\"color\",\"red\");\r\n	    		}\r\n	       });		  \r\n		}\r\n	    \r\n	    //\u8ba1\u7b97\u65f6\u95f4\u95f4\u9694\u5929\u6570\r\n		function  getDaydiff(d1, d2){  \r\n		    var begindateStr=d1.split(\"-\");\r\n			var enddateStr=d2.split(\"-\");\r\n			var begindate,enddate;\r\n			begindate=new Date(begindateStr[0],begindateStr[1]-1,begindateStr[2]);\r\n			enddate=new Date(enddateStr[0],enddateStr[1]-1,enddateStr[2]); \r\n			var seprator=(begindate-enddate)/1000/60/60/24;\r\n			return seprator;\r\n	    }\r\n		\r\n		function contentActive(obj){\r\n		   var $this=$(obj);\r\n		   if($this.val()==\"\u8bf7\u8f93\u5165\u8bc4\u8bba\u5185\u5bb9\"||$this.val()==\"\u8bf7\u8f93\u5165\u5185\u5bb9\"){\r\n	          $this.val(\"\");\r\n	          $this.css({\"color\":\"#000000\",\"height\":\"80px\"});               	   \r\n		   }\r\n		}\r\n		\r\n		function contentNormal(obj){\r\n		   var $this=$(obj);\r\n		   if($this.val()==\"\"){\r\n	          $this.val(\"\u8bf7\u8f93\u5165\u8bc4\u8bba\u5185\u5bb9\");\r\n	          $this.css({\"color\":\"#ACACAC\",\"height\":\"80px\"});              	   \r\n		   }\r\n		}\r\n	    \r\n	    \r\n	 	//\u65f6\u95f4\u65e5\u671f\u683c\u5f0f\u5316\r\n	    Date.prototype.pattern=function(fmt) {     \r\n		    var o = {     \r\n		    \"M+\" : this.getMonth()+1, //\u6708\u4efd     \r\n		    \"d+\" : this.getDate(), //\u65e5     \r\n		    \"h+\" : this.getHours()%12 == 0 ? 12 : this.getHours()%12, //\u5c0f\u65f6     \r\n		    \"H+\" : this.getHours(), //\u5c0f\u65f6     \r\n		    \"m+\" : this.getMinutes(), //\u5206     \r\n		    \"s+\" : this.getSeconds(), //\u79d2     \r\n		    \"q+\" : Math.floor((this.getMonth()+3)/3), //\u5b63\u5ea6     \r\n		    \"S\" : this.getMilliseconds() //\u6beb\u79d2     \r\n		    };     \r\n		    var week = {     \r\n		    \"0\" : \"\\u65e5\",     \r\n		    \"1\" : \"\\u4e00\",     \r\n		    \"2\" : \"\\u4e8c\",     \r\n		    \"3\" : \"\\u4e09\",     \r\n		    \"4\" : \"\\u56db\",     \r\n		    \"5\" : \"\\u4e94\",     \r\n		    \"6\" : \"\\u516d\"    \r\n		    };     \r\n		    if(/(y+)/.test(fmt)){     \r\n		        fmt=fmt.replace(RegExp.$1, (this.getFullYear()+\"\").substr(4 - RegExp.$1.length));     \r\n		    }     \r\n		    if(/(E+)/.test(fmt)){     \r\n		        fmt=fmt.replace(RegExp.$1, ((RegExp.$1.length>1) ? (RegExp.$1.length>2 ? \"\\u661f\\u671f\" : \"\\u5468\") : \"\")+week[this.getDay()+\"\"]);     \r\n		    }     \r\n		    for(var k in o){     \r\n		        if(new RegExp(\"(\"+ k +\")\").test(fmt)){     \r\n		            fmt = fmt.replace(RegExp.$1, (RegExp.$1.length==1) ? (o[k]) : ((\"00\"+ o[k]).substr((\"\"+ o[k]).length)));     \r\n		        }     \r\n		    }     \r\n	    return fmt;     \r\n	   }\r\n	   \r\n	   function openUrl(url) {\r\n	   		jQuery(document.body).showLoading();\r\n		   	window.location.href=url;\r\n	   }\r\n	   \r\n	   function callbackUpload(name,data,index) {\r\n			//if(index) $('#uploadname'+index).val('');\r\n			//if(index && name) $('#uploadname'+index).val(name);\r\n			//if(index) $('#uploaddata'+index).val('');\r\n			if(data) $('#uploaddata').val(data);\r\n			if(name) $('#uploadname').val(name);\r\n			$(\"#dataForm\")[0].submit();\r\n			\r\n			//$.post(\"/mobile/plugin/100/process2.jsp\",{\"uploaddata\":uploadkey},function(data){\r\n				\r\n			//});\r\n		}\r\n		\r\n		var thisobj;\r\n		function addUpload(e,obj) {\r\n			//var index = $(\"#uploaddiv\").find(\"div\").size() + 1;\r\n			//$(\"#uploaddiv\").append('<div><input id=\"uploadname'+index+'\" name=\"uploadname\"><textarea id=\"uploaddata'+index+'\" name=\"uploaddata\" rows=\"5\" cols=\"30\"></textarea></div>');\r\n			var index=1;\r\n			thisobj=obj;\r\n			location = \"emobile:upload:callbackUpload:\"+index+\":\"+e.clientY+\":clearAppendix\";\r\n					   //\"emobile:upload:setAppendix:\" + fieldID + \":\" + event.clientY + \":\" + \"clearAppendix\";\r\n					   \r\n		}\r\n		function clearAppendix(){\r\n		}\r\n	   \r\n	    function callback(){\r\n	    	var editorId=$(thisobj).parents(\".listitem:first\").find(\"textarea[name=content]\").attr(\"id\");\r\n	    	var linkStr=$(\"#hidden_frame\").contents().find(\"#linkStr\").html();\r\n	    	KE.insertHtml(editorId,linkStr);\r\n	    }\r\n	    \r\n	   //\u6253\u5f00\u6587\u6863 \r\n	   function opendoc1(docid){\r\n	   		location = \"/mobile/plugin/2/view.jsp?detailid=\"+docid+\"&module=".toCharArray();
    _jsp_string18 = "\">\r\n		<!-- \u5f53\u524d\u9875\u7d22\u5f15 -->\r\n		<input type=\"hidden\" name=\"pageindex\" value=\"\">\r\n		<!-- \u6bcf\u9875\u8bb0\u5f55\u6761\u6570 -->\r\n		<input type=\"hidden\" name=\"pagesize\" value=\"5\">\r\n		<!-- \u603b\u8bb0\u5f55\u6761\u6570 -->\r\n		<input type=\"hidden\" name=\"count\" value=\"\">\r\n		<!-- \u662f\u5426\u6709\u4e0a\u4e00\u9875 -->\r\n		<input type=\"hidden\" name=\"ishavepre\" value=\"\">\r\n		<!-- \u662f\u5426\u6709\u4e0b\u4e00\u9875 -->\r\n		<input type=\"hidden\" name=\"ishavenext\" value=\"\">\r\n		<!-- \u603b\u9875\u6570 -->\r\n		<input type=\"hidden\" name=\"pagecount\" value=\"\">\r\n		\r\n		<!-- \u5206\u9875\u7ed3\u675f\u65e5\u671f -->\r\n		<input type=\"hidden\" name=\"enddatestr\" value=\"\">\r\n		<!-- \u5f53\u524d\u88ab\u67e5\u770b\u7684\u5fae\u535aid -->\r\n		<input type=\"hidden\" name=\"blogid\" value=\"".toCharArray();
    _jsp_string0 = "\r\n\r\n\r\n\r\n\r\n\r\n".toCharArray();
    _jsp_string13 = "display:block;".toCharArray();
    _jsp_string7 = "&blogid=\"+blogid;\r\n	};\r\n	function goBack() {\r\n		location = \"/home.do\";\r\n	}\r\n</script>\r\n\r\n	<script type=\"text/javascript\">\r\n		var today=new Date();\r\n  		function getDiscuddItem(item,isCurrentUser){\r\n			var todaydate=today.pattern(\"yyyy-MM-dd\");\r\n	        var week = {\"0\" : \"\u5468\u65e5\",\"1\" : \"\u5468\u4e00\",\"2\" : \"\u5468\u4e8c\",\"3\" : \"\u5468\u4e09\", \"4\" : \"\u5468\u56db\",\"5\" : \"\u5468\u4e94\",\"6\" : \"\u5468\u516d\"};\r\n	        var weekday=\"\";\r\n	        \r\n	        var discussid=item.id;\r\n	        var userid=item.userid;\r\n	        var username=item.username;\r\n			var workdate=item.workdate;\r\n			var tempdate=new Date(workdate.replace(/-/g,\"/\"));\r\n			var workdatetemp=tempdate.pattern(\"MM\u6708dd\u65e5\");\r\n			if(workdate==todaydate)\r\n			   weekday=\"\u4eca\u5929\";\r\n			else   \r\n			   weekday=week[tempdate.getDay()];\r\n			\r\n			var isCanAppend=(isCurrentUser==userid)&&(getDaydiff(todaydate,workdate)<=7);  //\u662f\u5426\u53ef\u4ee5\u8865\u4ea4\r\n			\r\n			var isCanRemind=(isCurrentUser!=userid)&&(getDaydiff(todaydate,workdate)<=7);  //\u662f\u5426\u53ef\u4ee5\u63d0\u9192\r\n			\r\n			var listItemString=\"\";\r\n			\r\n			if(discussid!=\"\"){\r\n			    var isReplenish=item.isReplenish;\r\n			    var content=item.content;\r\n			    var createdate=item.createdate\r\n			    var createtime=item.createtime;\r\n			    var createtimetemp=(new Date(createdate.replace(/-/g,\"/\"))).pattern(\"MM\u6708dd\u65e5\");\r\n			    var comefrom=item.comefrom;\r\n			    var isHasLocation=item.isHasLocation;\r\n			   \r\n			    if(comefrom==\"1\")  \r\n			        comefrom=\"(\u6765\u81eaIphone)\";\r\n			    else if(comefrom==\"2\")  \r\n			        comefrom=\"(\u6765\u81eaIpad)\";\r\n			    else if(comefrom==\"3\")  \r\n			        comefrom=\"(\u6765\u81eaAndroid)\";          \r\n			    else if(comefrom==\"4\")  \r\n			        comefrom=\"(\u6765\u81eaWeb\u624b\u673a\u7248)\";\r\n			    else\r\n			        comefrom=\"\";\r\n			    \r\n			    if(isHasLocation==\"1\") \r\n			    	comefrom=\"<span class='location' onclick='showLocation(\"+discussid+\")'>\u5730\u56fe\u67e5\u770b</span>&nbsp;&nbsp;\"+comefrom;\r\n			        \r\n			    todaydate=today.pattern(\"yyyy-MM-dd\");\r\n			    var isCanEdit=(isCurrentUser==userid)&&(getDaydiff(todaydate,createdate)<=3);  //\u662f\u5426\u53ef\u4ee5\u7f16\u8f91\r\n			    //\u56de\u590d\u5185\u5bb9\r\n			    var replaystr=\"\";\r\n				$.each(item.replyVoArray,function(i,replyItem){  \r\n				    replaystr=replaystr+getReplyItem(replyItem);\r\n				});\r\n			\r\n				listItemString =\"<table class='tblItemTitle' width='100%' height='100%' border='0' cellspacing='0' cellpadding='0'>\"\r\n						+\"		<tr>\"\r\n						+\"			<TD class='itempreview' valign='top'>\"\r\n						+\"				<div class='dateblock'>\"\r\n						+\"					<div class='weekdspblock'>\"+weekday+\"</div>\"\r\n						+\"					<div class='captdtblock'>\"+workdatetemp+\"</div>\"\r\n						+\"				</div>\"\r\n						+\"			</TD>\"\r\n						+\"			<TD class='itemcontent' valign='top' >\"\r\n						+\"				<div class='itemcontenttitle'>\"\r\n						+\"					<table width='100%' height='100%' border='0' cellspacing='0' cellpadding='0' style='table-layout:fixed;'>\"\r\n						+\"						<tr>\"\r\n						+\"							<TD class='ictwz' valign='top'>\"\r\n						+\"								<span class='ictwz_gw' onclick='openBlog(\"+userid+\")'>\"+username+\"</span>\"\r\n						+\"								<span class='ictwz_img'><IMG src='/mobile/plugin/11/images/blog/\"+(isReplenish==\"1\"?\"stateAppend_wev8.png\":\"stateOk_wev8.png\")+\"'></span>\"\r\n						+\"								<span class='ictwz_tm'>\"+createtimetemp+\"</span>\"\r\n						+\"							</TD>\"	\r\n						+\"						</TR>\"\r\n						+\"						<TR>\"\r\n						+\"							<TD class='itemoperation'>\"\r\n						+\"								\"+(isCanEdit?\"<div id='appendBtn' onclick='doEdit(this)'>\u7f16\u8f91</div>\":\"\")\r\n						+\"								<div id='replyBlogBtn' onclick='showReply(this,0)'>\u8bc4\u8bba</div>\"\r\n						+\"								<div id='priReplyBlogBtn' onclick='showReply(this,1)'>\u79c1\u8bc4</div>\"\r\n						+\"							</TD>\"\r\n						+\"						</TR>\"\r\n						+\"					</TABLE>\"\r\n						+\"				</div>\" 				\r\n						+\"			</TD>\"\r\n						+\"			<TD class='itemnavpoint'></TD>\"\r\n						+\"		</TR>\"\r\n						+\"		<TR  style='height:5px;'><TD></TD></TR>\"\r\n						+\"		<TABLE>\"\r\n						+\"		<table width='95%' height='100%' border='0' cellspacing='0' cellpadding='0'>\"\r\n						+\"		<TR>\"\r\n						+\"			<TD>\"\r\n						+\"				<div class='itemcontentitdt'>\"\r\n						+\"                <div class='blogCotent'>\"+content+\"</div>\" \r\n						+\"				  <div class='fromBlock' style='clear:both'>\"+comefrom+\"</div>\"\r\n				        +\"                <div class='reply'>\"+replaystr+\"</div>\"\r\n						+\"				</div>\"\r\n						+\"			</TD>\"\r\n						+\"		</TR>\"\r\n						+\"	</TABLE>\"\r\n						\r\n		}else {\r\n		      //\u56de\u590d\u5185\u5bb9\r\n			  var replaystr=\"\";\r\n			  $.each(item.replyVoArray,function(i,replyItem){  \r\n				    replaystr=replaystr+getReplyItem(replyItem);\r\n			  });\r\n			  \r\n			  listItemString =\"<table class='tblItemTitle' width='100%' height='100%' border='0' cellspacing='0' cellpadding='0'>\"\r\n						+\"		<tr>\"\r\n						+\"			<TD class='itempreview' valign='top'>\"\r\n						+\"				<div class='dateblock'>\"\r\n						+\"					<div class='weekdspblock'>\"+weekday+\"</div>\"\r\n						+\"					<div class='captdtblock'>\"+workdatetemp+\"</div>\"\r\n						+\"				</div>\"\r\n						+\"			</TD>\"\r\n						+\"			<TD class='itemcontent' valign='top' >\"\r\n						+\"				<div class='itemcontenttitle'>\"\r\n						+\"					<table width='100%' height='100%' border='0' cellspacing='0' cellpadding='0' style='table-layout:fixed;'>\"\r\n						+\"						<tr>\"\r\n						+\"							<TD class='ictwz' valign='top'>\"\r\n						+\"								<span class='ictwz_gw' onclick='openBlog(\"+userid+\")'>\"+username+\"</span>\"\r\n						+\"								<span class='ictwz_img'><IMG src='/mobile/plugin/11/images/blog/stateNo_wev8.png'></span>\"\r\n						+\"								<span class='ictwz_tm'>\u672a\u63d0\u4ea4</span>\"\r\n						+\"							</TD>\"	\r\n						+\"						</TR>\"\r\n						+\"						<TR>\"\r\n						+\"							<TD class='itemoperation'>\"\r\n						+\"								\"+(isCanAppend?\"<div id='appendBtn' onclick='doAppend(this)'>\"+(todaydate==workdate?\"\u63d0\u4ea4\":\"\u8865\u4ea4\")+\"</div>\":\"\")+\r\n														(isCanRemind?\"<div onclick='sendRemind(this)'>\u63d0\u9192</div>\":\"\")+\r\n														\"<div id='replyBlogBtn' onclick='showReply(this,0)'>\u8bc4\u8bba</div>\"+\r\n														\"<div id='priReplyBlogBtn' onclick='showReply(this,1)'>\u79c1\u8bc4</div>\"\r\n						+\"							</TD>\"\r\n						+\"						</TR>\"\r\n						+\"					</TABLE>\"\r\n						+\"				</div>\" 				\r\n						+\"			</TD>\"\r\n						+\"			<TD class='itemnavpoint'></TD>\"\r\n						+\"		</TR>\"\r\n						+\"		<TR  style='height:5px;'><TD></TD></TR>\"\r\n						+\"		<TABLE>\"\r\n						+\"		<table width='95%' height='100%' border='0' cellspacing='0' cellpadding='0'>\"\r\n						+\"		<TR>\"\r\n						+\"			<TD>\"\r\n						+\"				<div class='itemcontentitdt'>\"\r\n						+\"                <div class='blogCotent'></div>\"\r\n				        +\"                <div class='reply'>\"+replaystr+\"</div>\"\r\n				        +\"				  <div class='fromBlock' style='clear:both'></div>\"\r\n						+\"				</div>\"\r\n						+\"			</TD>\"\r\n						+\"		</TR>\"\r\n						+\"	</TABLE>\"					\r\n		\r\n		}\r\n	      return listItemString;\r\n	      \r\n	    }\r\n  		\r\n	function bindNavEvent() {\r\n		$(\".navbtn\").bind(\"click\", function () {\r\n			var oldObj = $(\".navbtnslt\"); \r\n			oldObj.removeClass(\"navbtnslt\");\r\n			$(this).addClass(\"navbtnslt\");\r\n			var url=$(this).attr(\"url\");\r\n			jQuery(document.body).showLoading();\r\n			window.location.href=url;\r\n		});\r\n	}\r\n	\r\n	 function getReplyItem(replyItem){\r\n	    \r\n	  var replyid=replyItem.id;\r\n	  var replyUserid=replyItem.userid;\r\n	  var replyUsername=replyItem.username;\r\n	  var replyCreatedate=replyItem.createdate;\r\n	  var replyCreatetime=replyItem.createtime;\r\n	  var replyCreatetimetemp=(new Date(replyCreatedate.replace(/-/g,\"/\")+\" \"+replyCreatetime)).pattern(\"MM\u6708dd\u65e5 HH:mm\");\r\n	  var replyComefrom=replyItem.comefrom;\r\n	  var replyContent=replyItem.content;\r\n	  var commentType=replyItem.commentType;\r\n	  \r\n	  var comefrom=replyItem.comefrom;\r\n	  var comefromtemp=\"\";\r\n	  if(comefrom!=\"0\"||commentType==\"1\")\r\n	      comefromtemp+=\"(\";\r\n	  if(commentType==\"1\")\r\n	      comefromtemp+=\"\u79c1\u8bc4&nbsp;\";\r\n	      \r\n	  if(comefrom==\"1\")  \r\n	    comefromtemp+=\"\u6765\u81eaIphone\";\r\n	  else if(comefrom==\"2\")  \r\n	    comefromtemp+=\"\u6765\u81eaIpad\";\r\n	  else if(comefrom==\"3\")  \r\n	    comefromtemp+=\"\u6765\u81eaAndroid\";          \r\n	  else if(comefrom==\"4\")  \r\n	    comefromtemp+=\"\u6765\u81eaWeb\u624b\u673a\u7248\";\r\n	        \r\n	   if(comefrom!=\"0\"||commentType==\"1\")\r\n	      comefromtemp+=\")\";  \r\n	      \r\n	  \r\n	  //\u56de\u590d\u5185\u5bb9\r\n	  var replaystr=\"<div class='commentonblock listitemco'>\"\r\n			+\"				<table width='100%' height='100%' border='0' cellspacing='0' cellpadding='0' style='table-layout:fixed;'>\"\r\n			+\"					<tr>\"\r\n			+\"						<TD width='5px'>\"\r\n			+\"						</TD>\"\r\n			+\"						<TD class='itemcontentReply'>\"\r\n			+\"							<div class='itemcontenttitle'>\"\r\n			+\"								<table width='100%' height='100%' border='0' cellspacing='0' cellpadding='0' style='table-layout:fixed;'>\"\r\n			+\"									<tr>\"\r\n			+\"										<TD class='ictwz'>\"\r\n			+\"											<span class='ictwz_gw'>\"+replyUsername+\"</span>\"\r\n			+\"											<span class='ictwz_img'><IMG src='/mobile/plugin/11/images/blog/stateRe_wev8.png' style='vertical-align: top;margin-top:1px;'></span>\"\r\n			+\"											<span class='ictwz_tm'>\"+replyCreatetimetemp+\"</span>\"\r\n			+\"										</TD>\"\r\n			+\"									</TR>\"\r\n			+\"								</TABLE>\"\r\n			+\"							</div>\"\r\n			+\"							<div class='itemcontentitdt'>\"\r\n			+\"                             <div class='replyContent'>\"+replyContent+\"</div>\"   \r\n	        +\"				               <div class='fromBlock' style='clear:both'>\"+comefromtemp+\"</div>\"\r\n	        +\"                          </div>\"   \r\n			+\"						</TD>\"\r\n			+\"						<TD width='5px'>\"\r\n			+\"						</TD>\"\r\n			+\"					</TR>\"\r\n			+\"				</TABLE>\"\r\n			+\"				</div>\"\r\n			\r\n			return replaystr;\r\n	    \r\n	    }\r\n	  \r\n	 function doAppend(obj){\r\n	 	if($(obj).attr(\"canClick\")==\"0\")\r\n		      	 return ;\r\n		$(obj).parent().find(\"#appendBtn\").addClass(\"optdisable\");\r\n	 	$(obj).parent().find(\"#appendBtn\").attr(\"canClick\",\"0\");\r\n	 	$(obj).parent().find(\"#replyBlogBtn\").addClass(\"optdisable\");\r\n	 	$(obj).parent().find(\"#replyBlogBtn\").attr(\"canClick\",\"0\");\r\n	 	$(obj).parent().find(\"#priReplyBlogBtn\").addClass(\"optdisable\");\r\n	 	$(obj).parent().find(\"#priReplyBlogBtn\").attr(\"canClick\",\"0\");\r\n		   var item=$(obj).parents(\".listitem\");\r\n		   var editorId=\"text_\"+new Date().getTime();\r\n		   if(item.find(\".itemReplayBox\").length<1){\r\n			   var appendBox=\"<div class='itemReplayBox'>\"\r\n							+\" <div class='bloginputblock'>\"\r\n							+\"		<textarea  style='width:100%;margin-top:5px;height:80px'\"  \r\n							+\"			name='content' id='\"+editorId+\"'></textarea>\"\r\n							+\" </div>\"\r\n							+\" <div class='operationBt' onclick='doSave(this)' action='saveBlog'>\u4fdd\u5b58</div>\"\r\n							+\" <div class='operationBt' style='margin-left:8px'  onclick='doCancel(this)'>\u53d6\u6d88</div>\"\r\n							+(isShowEditor()?\"<div class='operationBt' style='margin-left:8px;display:".toCharArray();
    _jsp_string1 = "\r\n<!DOCTYPE html>\r\n<html>\r\n<head>\r\n	<meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\" />\r\n	<meta name=\"author\" content=\"Weaver E-Mobile Dev Group\" />\r\n	<meta name=\"description\" content=\"Weaver E-mobile\" />\r\n	<meta name=\"keywords\" content=\"weaver,e-mobile\" />\r\n	<meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\r\n	<title>blogView</title>\r\n	<script type=\"text/javascript\" src=\"/js/jquery/jquery.js\"></script>\r\n	<script type=\"text/javascript\" src=\"/js/mylibs/showLoading/jquery.showLoading.js\"></script>\r\n	<script type=\"text/javascript\" src=\"/js/mylibs/asyncbox/AsyncBox.v1.4.js\"></script>\r\n	<link rel=\"stylesheet\" href=\"/js/mylibs/asyncbox/skins/ZCMS/asyncbox.css\">\r\n	<link rel=\"stylesheet\" href=\"/mobile/plugin/11/css/blog_wev8.css\">\r\n	<script type=\"text/javascript\" src=\"/js/script.js\"></script>\r\n	<script type=\"text/javascript\" src=\"/weaverEditor/kindeditor_wev8.js\"></script>\r\n	<script type=\"text/javascript\" src=\"/js/blog/blogUtil.js\"></script>\r\n	<script type=\"text/javascript\">\r\n	\r\n	var clientVersion=0;\r\n	var clienttype=\"".toCharArray();
    _jsp_string8 = "' onclick='addUpload(event,this)'>\u9644\u4ef6</div>\":\"\")\r\n							+\"</div>\"\r\n			   \r\n			   item.find(\".itemcontent\").append(appendBox);\r\n		   }\r\n		   if(isShowEditor()){\r\n			   highEditor(editorId,150);\r\n		   }else\r\n			   item.find(\"textarea[name='content']\").focus();\r\n		   \r\n		}  \r\n	    \r\n	  function doCancel(obj){\r\n		    var item=$(obj).parents(\".listitem\");\r\n		    item.find(\"#appendBtn\").removeClass(\"optdisable\");\r\n	 		item.find(\"#appendBtn\").attr(\"canClick\",\"1\");\r\n	 		item.find(\"#replyBlogBtn\").removeClass(\"optdisable\");\r\n	 		item.find(\"#replyBlogBtn\").attr(\"canClick\",\"1\");\r\n	 		item.find(\"#priReplyBlogBtn\").removeClass(\"optdisable\");\r\n	 		item.find(\"#priReplyBlogBtn\").attr(\"canClick\",\"1\");\r\n		   item.find(\".itemcontenttitle\").show();\r\n		   item.find(\".itemcontentitdt\").show();\r\n		   item.find(\".itemReplayBox\").remove();\r\n		}  \r\n	  function doEdit(obj){\r\n	  		if($(obj).attr(\"canClick\")==\"0\")\r\n		      	 return ;\r\n	  		var item=$(obj).parents(\".listitem\");\r\n	  		var editorId=\"text_\"+new Date().getTime();\r\n			var content=item.find(\".blogCotent\").html();\r\n			content=content.replace(/&nbsp;/g,' ');\r\n			var contentTemp=$(\"<div>\"+content+\"</div>\");\r\n			var editorHeight=item.find(\".blogCotent\").height();\r\n		    editorHeight=editorHeight>40?editorHeight:40;\r\n	        if(!isShowEditor()){\r\n	    	   if(confirm(\"\u5fae\u535a\u5185\u5bb9\u5305\u542bHTML\u683c\u5f0f,\u7f16\u8f91\u4f1a\u4e22\u5931\u683c\u5f0f\uff0c\u662f\u5426\u7f16\u8f91\uff1f\")){\r\n	    		   content=content.replace(/<br>/g, \"\\n\");\r\n		   	   	   content=contentTemp.text();\r\n	    	   }else\r\n	    		   return ;\r\n	        }	\r\n	  		\r\n			$(obj).parent().find(\"#appendBtn\").addClass(\"optdisable\");\r\n		 	$(obj).parent().find(\"#appendBtn\").attr(\"canClick\",\"0\");\r\n		 	$(obj).parent().find(\"#replyBlogBtn\").addClass(\"optdisable\");\r\n		 	$(obj).parent().find(\"#replyBlogBtn\").attr(\"canClick\",\"0\");\r\n		 	$(obj).parent().find(\"#priReplyBlogBtn\").addClass(\"optdisable\");\r\n		 	$(obj).parent().find(\"#priReplyBlogBtn\").attr(\"canClick\",\"0\");\r\n		      \r\n		    //item.find(\".itemcontenttitle\").hide();\r\n		    item.find(\".itemcontentitdt\").hide();\r\n		    //item.find(\".itemoperation\").hide();\r\n		    if(item.find(\".itemcontentEdit\").length<1){\r\n			   var editbox=\"<div class='itemcontentEdit'>\"\r\n						   +\"	<div class='bloginputblock'>\"\r\n						   +\"		<textarea style='width:100%;margin-top:5px;height:\"+editorHeight+\"px' name='content' id='\"+editorId+\"'></textarea>\"\r\n						   +\"	</div>\"\r\n						   +\"	<div class='operationBt' onclick='doSave(this)' action='updateBlog'>\u4fdd\u5b58</div>\"\r\n						   +\"   <div class='operationBt' style='margin-left:8px'  onclick='doCancelEdit(this)'>\u53d6\u6d88</div>\"\r\n						   +(isShowEditor()?\"<div class='operationBt' style='margin-left:8px;display:".toCharArray();
    _jsp_string14 = "display:none;".toCharArray();
    _jsp_string19 = "\">\r\n		<!-- \u5f53\u524d\u767b\u9646\u8005id -->\r\n		<input type=\"hidden\" name=\"userid\" value=\"".toCharArray();
    _jsp_string23 = "&clienttype=".toCharArray();
    _jsp_string29 = "')\">\r\n								\u8bc4\u8bba<span id=\"remindCount\"></span>\r\n							</div>\r\n						</td>\r\n					</tr>\r\n				</table>\r\n			</div>\r\n		</div>\r\n		\r\n		<!-- \u5fae\u8584\u9876\u90e8\u5bfc\u822a\u533a\u57df END -->\r\n		\r\n		<!-- \u5fae\u535a\u4fe1\u606f -->\r\n		<div class=\"pdecblock\" id=\"userInfo\"></div>\r\n		\r\n		<div class=\"blankLines\"></div>\r\n		\r\n		<!-- \u5217\u8868\u533a\u57df -->\r\n		<div class=\"listArea\" id=\"listArea\"></div>\r\n		\r\n		<div class=\"lastupdatedate\" id=\"lastupdatedate\">\r\n			\u6700\u540e\u66f4\u65b0&nbsp;\u4eca\u5929\uff1a16:12:18&nbsp;&nbsp;\r\n		</div>\r\n	</div>\r\n	</div>\r\n</body>\r\n</html>\r\n".toCharArray();
    _jsp_string25 = "')\">\r\n								\u4e3b\u9875<span id=\"unReadCount\"></span>\r\n							</div>\r\n						</td>\r\n						<td width=\"25%\" align=\"center\">\r\n							<div class=\"navbtn navbtncenter\" onclick=\"openUrl('/mobile/plugin/11/list.jsp?module=".toCharArray();
    _jsp_string4 = "' onclick='addUpload(event,this)'>\u9644\u4ef6</div>\":\"\")\r\n									+\"				</div>\"                    \r\n									+\"			</TD>\"\r\n									+\"			<TD class='itemnavpoint'>\"\r\n									+\"			</TD>\"\r\n									+\"		</TR>\"\r\n									+\"	</TABLE>\"\r\n									+\"  </div>\";\r\n					    $(\"#listArea\").append(todaystr);\r\n					    \r\n					}\r\n					\r\n					if(data.discessList.length==0&&ishavenext!=\"1\")\r\n					   listItemString=listItemString+\"<div class=\\\"listitem listitemmore\\\">\u6ca1\u6709\u53d1\u8868\u5fae\u535a</div>\";\r\n					\r\n					$.each(data.discessList, function (i, item){ \r\n						currentPageDataCnt++;\r\n						var workdate=item.workdate;\r\n						var discussid=item.id;\r\n						var userid=item.userid;\r\n						var isTodayItem=todaydate==workdate?\"true\":\"false\";\r\n						var unsubmit=discussid==\"\"?\"true\":\"false\";\r\n                        var itemstr=\"<div class='listitem' workdate='\"+workdate+\"' discussid='\"+discussid+\"' userid='\"+userid+\"' isTodayItem='\"+isTodayItem+\"' unsubmit='\"+unsubmit+\"'>\";\r\n                        itemstr=itemstr+getDiscuddItem(item,data.currentuserid);\r\n                        itemstr=itemstr+\" </div>\";\r\n                        \r\n                        listItemString=listItemString+itemstr;\r\n					\r\n					});\r\n					\r\n					listItemString += \"</div>\";\r\n					\r\n					if (isFirst == true && currentPageDataCnt != 0) {\r\n						//$(\"#listArea\").html(\"\");\r\n						if (ishavenext == \"1\") {\r\n							listItemString += \"<div class=\\\"listitem listitemmore\\\" id=\\\"listItemMore\\\">\u66f4\u591a...</div>\";\r\n						}\r\n						\r\n						$(\"#listArea\").append(listItemString);\r\n\r\n						$(\"#listItemMore\").bind(\"click\", function () {\r\n							$(\"#listItemMore\").html(\"<img src=\\\"/mobile/plugin/11/images/ajax-loader_wev8.gif\\\" style=\\\"vertical-align:middle;\\\">&nbsp;\u6b63\u5728\u52a0\u8f7d...\");\r\n							getDataList(getUrlParam(\"more\",$(\"input[name='enddatestr']\").val()), false);\r\n						});\r\n						\r\n					    if(isShowEditor())\r\n					    	highEditor(\"contentInput\",150);\r\n						\r\n						\r\n					} else {\r\n						$(\"#listItemMore\").before(listItemString);\r\n						if (ishavenext == \"1\") {\r\n							$(\"#listItemMore\").html(\"\u66f4\u591a...\");\r\n						} else {\r\n							$(\"#listItemMore\").hide();\r\n						}\r\n					}\r\n					\r\n				}\r\n			}\r\n	    });\r\n	    //\u6700\u540e\u66f4\u65b0\u65f6\u95f4\r\n	    $(\"#lastupdatedate\").html(\"\u6700\u540e\u66f4\u65b0&nbsp;\u4eca\u5929\uff1a\" + util.getCurrentDate4Format(\"hh:mm:ss\") + \"&nbsp;&nbsp;\");\r\n    }\r\n    /**\r\n     * resize\r\n     */\r\n	window.onresize = function () {\r\n	};\r\n	\r\n	function openBlog(blogid){\r\n	   jQuery(document.body).showLoading();\r\n	   window.location.href=\"/mobile/plugin/11/viewBlog.jsp?userid=".toCharArray();
    _jsp_string2 = "\";\r\n	var opengps=\"".toCharArray();
    _jsp_string21 = "\">\r\n		\r\n		<!-- \u5b58\u653e\u5fc5\u987b\u6570\u636e\u533a\u57df END -->\r\n		\r\n		<!-- \u5fae\u8584\u9876\u90e8\u5bfc\u822a\u533a\u57df START -->\r\n		\r\n		<div class=\"navblock\">\r\n			<div class=\"navbtnblock\">\r\n				<table width=\"100%\" height=\"100%\" border=\"0\" cellspacing=\"0\" cellpadding=\"0\" style=\"table-layout:fixed;color:#395582;\">\r\n					<tr>\r\n						<td width=\"25%\" align=\"center\">\r\n							<div class=\"navbtn navbtncenter navbtnleft\" onclick=\"openUrl('/mobile/plugin/11/mainPage.jsp?module=".toCharArray();
    _jsp_string11 = "\";\r\n	   } \r\n	</script>\r\n\r\n</head>\r\n".toCharArray();
    _jsp_string27 = " navbtncenter\" navbtncenter\" onclick=\"openUrl('/mobile/plugin/11/viewBlog.jsp?module=".toCharArray();
    _jsp_string3 = "\";\r\n	var today=new Date();\r\n	\r\n	$(document).ready(function () {\r\n		//bindNavEvent();\r\n		\r\n		if(clienttype==\"android\"||clienttype==\"androidpad\"){\r\n			clientVersion=mobileInterface.getClientVersion();\r\n		}\r\n		//\u52a0\u8f7d\u6570\u636e\r\n		getDataList(getUrlParam(\"view\"), true);\r\n	});\r\n	\r\n	/**\r\n	 * \u83b7\u53d6url\u53c2\u6570\r\n	 */\r\n	function getUrlParam(type,enddatestr) {\r\n		var sessionkey = $(\"input[name='sessionkey']\").val();\r\n		var module = $(\"input[name='module']\").val();\r\n		var scope = $(\"input[name='scope']\").val();\r\n		var blogid = $(\"input[name='blogid']\").val();\r\n		var userid = $(\"input[name='userid']\").val();\r\n		var comefrom = $(\"input[name='comefrom']\").val();\r\n		var pagesize =config.newListPageSize;\r\n		var paras = \"method=getpage&dataType=json&userid=\"+userid+\"&\";\r\n		if (type==\"more\") {\r\n			paras=paras+\"operation=getBlogListBydate&blogid=\"+blogid; //\u52a0\u8f7d\u975e\u7b2c\u4e00\u9875\r\n		}else if(type==\"view\") {\r\n		    paras=paras+\"operation=viewBlog&blogid=\"+blogid;            //\u52a0\u8f7d\u7b2c\u4e00\u9875\r\n		}\r\n		else if(type==\"saveBlog\") {\r\n		    paras=paras+\"operation=saveBlog\";            //\u63d0\u4ea4\u5fae\u535a\r\n		}\r\n		else if(type==\"replyBlog\")    \r\n		    paras=paras+\"operation=saveBlogReply\";       //\u63d0\u4ea4\u8bc4\u8bba\r\n		else if(type==\"updateBlog\")    \r\n		    paras=paras+\"operation=updateBlog\";          //\u66f4\u65b0\u5fae\u535a\r\n		else if(type==\"sendRemind\")    \r\n		    paras=paras+\"operation=sendRemind\";          //\u66f4\u65b0\u5fae\u535a    \r\n		paras =paras+\"&sessionkey=\" + sessionkey + \r\n			\"&module=\" + module + \r\n			\"&scope=\" + scope + \r\n			\"&pagesize=\" + pagesize + \r\n			\"&comefrom=\"  + comefrom +\r\n			\"&tk\" + new Date().getTime() +\"=1\";\r\n		\r\n		if (!util.isNullOrEmpty(enddatestr)) {\r\n			paras += \"&enddatestr=\" + enddatestr;\r\n		}\r\n		return paras;\r\n	}\r\n	\r\n	function getDataList(paras, isFirst){\r\n	    util.getData({\r\n	    	\"loadingTarget\" : document.body,\r\n    		\"paras\" : paras,//\u5f97\u6570\u636e\u7684URL,\r\n    		\"callback\" : function (data){\r\n		    	if(data.error){\r\n		    		$(\"#listArea\").html(\"<div class=\\\"listitem listitemmore\\\">\u6ca1\u6709\u6570\u636e</div>\");\r\n				} else {\r\n				   \r\n				    //\u9a8c\u8bc1\u6743\u9650 status<=0\u6ca1\u6709\u67e5\u770b\u6743\u9650\r\n				    if(data.status<=0){\r\n				       $(\"#listArea\").html(\"<div class=\\\"listitem listitemmore\\\">\u6ca1\u6709\u67e5\u770b\u6743\u9650</div>\");\r\n				       return ;\r\n				    }\r\n				       \r\n					var sessionkey = $(\"input[name='sessionkey']\").val();\r\n					var pageindex = data.pageindex;\r\n					var pagesize = data.pagesize;\r\n					var count = data.count;\r\n					var ishavepre = data.ishavepre;\r\n					var ishavenext = data.ishavenext\r\n					var pagecount = data.pagecount;\r\n					$(\"input[name='pageindex']\").val(pageindex);\r\n					$(\"input[name='pagesize']\").val(pagesize);\r\n					$(\"input[name='count']\").val(count);\r\n					$(\"input[name='ishavepre']\").val(ishavepre);\r\n					$(\"input[name='ishavenext']\").val(ishavenext);\r\n					$(\"input[name='pagecount']\").val(pagecount);\r\n					var listItemString = \"<div id=\\\"pagecontent_\" + pageindex + \"\\\">\";\r\n					var currentPageDataCnt = 0;\r\n					 \r\n					today=new Date(data.todaydate.replace(/-/g,\"/\")); \r\n					 \r\n					var enddatestr=data.enddatestr;    //\u5206\u9875\u7ed3\u675f\u65f6\u95f4\r\n					$(\"input[name='enddatestr']\").val(enddatestr);\r\n					//\u7528\u6237\u5fae\u535a\u4fe1\u606f\r\n					if(isFirst){\r\n					\r\n					   //\u83dc\u5355\u6570\u5b57\u63d0\u9192\r\n					   var unReadCount=data.menuItemCount[0];\r\n					   var remindCount=data.menuItemCount[1];\r\n						\r\n					   $(\"#unReadCount\").html(unReadCount>0?\"(\"+unReadCount+\")\":\"\");\r\n					   $(\"#remindCount\").html(remindCount>0?\"(\"+remindCount+\")\":\"\");\r\n					\r\n					   var userInfo=data.userInfo;\r\n					   var username=userInfo.username;\r\n					   var deptName=userInfo.deptName;\r\n					   var subName=userInfo.subName;\r\n					   var jobtitle=userInfo.jobtitle;\r\n					   var attentionCount=userInfo.attentionCount;\r\n					   \r\n					   var imageUrl=userInfo.imageUrl;\r\n					   var attentionMeCount=userInfo.attentionMeCount;\r\n					   var blogCount=userInfo.blogCount;\r\n					   \r\n					   var attentionName=\"\u4ed6\u5173\u6ce8\";\r\n					   var attentionMeName=\"\u5173\u6ce8\u4ed6\";\r\n					   if(data.currentuserid==userInfo.userid){\r\n					      attentionName=\"\u6211\u5173\u6ce8\";\r\n					      attentionMeName=\"\u5173\u6ce8\u6211\";\r\n					   }else if(userInfo.sex==\"1\"){\r\n					      attentionName=\"\u5979\u5173\u6ce8\";\r\n					      attentionMeName=\"\u5173\u6ce8\u5979\";\r\n					   }\r\n					   \r\n					   var userInfostr=\"<div class='persnlblock'>\"\r\n									+\"<table width='100%' height='100%' border='0' cellspacing='0' cellpadding='0' style='table-layout:fixed;'>\"\r\n									+\"	<tr>\"\r\n									+\"		<td width='5px'>\"\r\n									+\"		</td>\"\r\n									+\"		<td width='44px'>\"\r\n									+\"			<img src='\"+imageUrl+\"' width='39px' height='39px'>\"\r\n									+\"		</td>\"\r\n									+\"		<td width='*'>\"\r\n									+\"			<div class='namedepmtblock' >\"\r\n									+\"				<span class='namespan'>\"+username+\"&nbsp;&nbsp;</span><span class='depmtspan'>\"+jobtitle+\"</span>\"\r\n									+\"			</div>\"\r\n									+\"			<div class='addressblock'>\"+subName+\"&nbsp;&nbsp;\"+deptName+\"</div>\"\r\n									+\"		</td>\"\r\n									+\"		<td width='5px'>\"\r\n									+\"		</td></tr></table>\"\r\n									+\"	</div>\"\r\n									+\"<div class='blankLines'>&nbsp;</div>\"\r\n									+\"	<div class='blogrelevantblock'>\"\r\n									+\"		<span class='bloginfospan'>\u5fae\u535a\"+blogCount+\"\u6761&nbsp;&nbsp;</span>\"\r\n									+\"		<span class='bloginfospan'>\"+attentionName+attentionCount+\"\u4eba&nbsp;&nbsp;</span>\"\r\n									+\"		<span class='bloginfospan'>\"+attentionMeName+attentionMeCount+\"\u4eba</span>\"\r\n									+\"	</div>\";\r\n									\r\n						$(\"#userInfo\").html(userInfostr);			\r\n					}\r\n					\r\n					//\u4eca\u5929\u63d0\u4ea4\u7f16\u8f91\u5668\r\n					var todayIssubmit=data.todayIssubmit;  //\u4eca\u5929\u662f\u5426\u5df2\u7ecf\u63d0\u4ea4\r\n					var isCurrentUser=data.isCurrentUser;  //\u662f\u5426\u4e3a\u5f53\u524d\u7528\u6237\r\n					\r\n					var todaydate=today.pattern(\"yyyy-MM-dd\");\r\n					var todaydatetemp=today.pattern(\"MM\u6708dd\u65e5\");\r\n					var week = {\"0\" : \"\u5468\u65e5\",\"1\" : \"\u5468\u4e00\",\"2\" : \"\u5468\u4e8c\",\"3\" : \"\u5468\u4e09\", \"4\" : \"\u5468\u56db\",\"5\" : \"\u5468\u4e94\",\"6\" : \"\u5468\u516d\"};\r\n					var weekday=week[today.getDay()];      \r\n					\r\n					if(isCurrentUser==1){\r\n					    var todaystr=\"<div class='listitem' isToday='true' workdate='\"+todaydate+\"' userid='\"+data.currentuserid+\"'>\"\r\n									+\" 	<table width='100%' height='100%' border='0' cellspacing='0' cellpadding='0' style='table-layout:fixed;'>\"\r\n									+\"		<tr>\"\r\n									+\"			<TD class='itempreview' valign='top'>\"\r\n									+\"				<div class='dateblock'>\"\r\n									+\"					<div class='weekdspblock'>\u4eca\u5929</div>\"\r\n									+\"					<div class='captdtblock'>\"+todaydatetemp+\"</div>\"\r\n									+\"				</div>\"\r\n									+\"			</TD>\"\r\n									+\"			<TD class='itemcontent'>\"\r\n									+\"				<div class='bloginputblock'>\"\r\n									+\"					<textarea style='width:100%;color:#ACACAC; margin-top:5px;height:80px'\"\r\n									+\"						name='content' id='contentInput'></textarea>\"\r\n									+\"				</div>\"\r\n									+\"				<div>\"\r\n									+\"					<div class='operationBt' style='float:left' onclick='doSave(this)' action='saveBlog'>\u4fdd\u5b58</div>\"\r\n									+(isShowEditor()?\"  <div class='operationBt' style='margin-left:8px;display:".toCharArray();
    _jsp_string28 = "')\">\r\n								\u6211\u7684\r\n							</div>\r\n						</td>\r\n						<td width=\"*\" align=\"center\">\r\n							<div class=\"navbtn navbtncenter navbtnright\" onclick=\"openUrl('/mobile/plugin/11/comment.jsp?module=".toCharArray();
    _jsp_string22 = "&userid=".toCharArray();
    _jsp_string17 = "\">\r\n		<input type=\"hidden\" name=\"scope\" value=\"".toCharArray();
  }
}
