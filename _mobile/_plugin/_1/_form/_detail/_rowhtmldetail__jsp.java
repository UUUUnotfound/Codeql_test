/*
 * JSP generated by Resin-3.1.8 (built Mon, 17 Nov 2008 12:15:21 PST)
 */

package _jsp._mobile._plugin._1._form._detail;
import javax.servlet.*;
import javax.servlet.jsp.*;
import javax.servlet.http.*;
import weaver.mobile.webservices.workflow.WorkflowRequestTableRecord;
import weaver.mobile.webservices.workflow.WorkflowRequestTableField;
import weaver.workflow.datainput.DynamicDataInput;
import weaver.general.*;
import weaver.mobile.webservices.workflow.WorkflowServiceUtil;
import weaver.hrm.*;
import java.util.*;

public class _rowhtmldetail__jsp extends com.caucho.jsp.JavaPage
{
  private static final java.util.HashMap<String,java.lang.reflect.Method> _jsp_functionMap = new java.util.HashMap<String,java.lang.reflect.Method>();
  private boolean _caucho_isDead;
  
  public void
  _jspService(javax.servlet.http.HttpServletRequest request,
              javax.servlet.http.HttpServletResponse response)
    throws java.io.IOException, javax.servlet.ServletException
  {
    javax.servlet.http.HttpSession session = request.getSession(true);
    com.caucho.server.webapp.WebApp _jsp_application = _caucho_getApplication();
    javax.servlet.ServletContext application = _jsp_application;
    com.caucho.jsp.PageContextImpl pageContext = _jsp_application.getJspApplicationContext().allocatePageContext(this, _jsp_application, request, response, null, session, 8192, true, false);
    javax.servlet.jsp.PageContext _jsp_parentContext = pageContext;
    javax.servlet.jsp.JspWriter out = pageContext.getOut();
    final javax.el.ELContext _jsp_env = pageContext.getELContext();
    javax.servlet.ServletConfig config = getServletConfig();
    javax.servlet.Servlet page = this;
    response.setContentType("text/html; charset=UTF-8");
    request.setCharacterEncoding("UTF-8");
    try {
      out.write(_jsp_string0, 0, _jsp_string0.length);
      
response.setHeader("cache-control", "no-cache");
response.setHeader("pragma", "no-cache");
response.setHeader("expires", "Mon 1 Jan 1990 00:00:00 GMT");
 user = HrmUserVarify.getUser (request , response) ;
 String groupId = request.getParameter("groupId");
 String derecorderindex =  request.getParameter("derecorderindex");
 //workflowid =  request.getParameter("workflowid");
 nodeId =  request.getParameter("nodeId");
 String rowIndex = request.getParameter("rowIndex");
String cmd = request.getParameter("cmd");
//if("createDiv".equals(cmd)){
	//if(!"".equals(groupId)&&groupId != null){
		//int groupIdInt = Integer.parseInt(groupId);
		//if("".equals(derecorderindex) || null== derecorderindex){
			//derecorderindex = "0";
		//}
		//if("".equals(rowIndex)|| null == rowIndex){
			//rowIndex = "0";
		//}
		//int rowIndexInt = Integer.parseInt(rowIndex);
		//int derecorderindexInt = Integer.parseInt(derecorderindex);
		//String html = WorkflowServiceUtil.getMouseOverJsString(workflowid,nodeId,user,derecorderindexInt,groupIdInt,rowIndexInt);
		//System.out.println(html);
		//out.println(html);
	//}
//}


      out.write(_jsp_string1, 0, _jsp_string1.length);
      out.write(_jsp_string2, 0, _jsp_string2.length);
      out.write(_jsp_string3, 0, _jsp_string3.length);
      out.write(_jsp_string4, 0, _jsp_string4.length);
      out.write(_jsp_string5, 0, _jsp_string5.length);
    } catch (java.lang.Throwable _jsp_e) {
      pageContext.handlePageException(_jsp_e);
    } finally {
      _jsp_application.getJspApplicationContext().freePageContext(pageContext);
    }
  }

  private java.util.ArrayList _caucho_depends = new java.util.ArrayList();

  public java.util.ArrayList _caucho_getDependList()
  {
    return _caucho_depends;
  }

  public void _caucho_addDepend(com.caucho.vfs.PersistentDependency depend)
  {
    super._caucho_addDepend(depend);
    com.caucho.jsp.JavaPage.addDepend(_caucho_depends, depend);
  }

  public boolean _caucho_isModified()
  {
    if (_caucho_isDead)
      return true;
    if (com.caucho.server.util.CauchoSystem.getVersionId() != 1886798272571451039L)
      return true;
    for (int i = _caucho_depends.size() - 1; i >= 0; i--) {
      com.caucho.vfs.Dependency depend;
      depend = (com.caucho.vfs.Dependency) _caucho_depends.get(i);
      if (depend.isModified())
        return true;
    }
    return false;
  }

  public long _caucho_lastModified()
  {
    return 0;
  }

  public java.util.HashMap<String,java.lang.reflect.Method> _caucho_getFunctionMap()
  {
    return _jsp_functionMap;
  }

  public void init(ServletConfig config)
    throws ServletException
  {
    com.caucho.server.webapp.WebApp webApp
      = (com.caucho.server.webapp.WebApp) config.getServletContext();
    super.init(config);
    com.caucho.jsp.TaglibManager manager = webApp.getJspApplicationContext().getTaglibManager();
    com.caucho.jsp.PageContextImpl pageContext = new com.caucho.jsp.PageContextImpl(webApp, this);
  }

  public void destroy()
  {
      _caucho_isDead = true;
      super.destroy();
  }

  public void init(com.caucho.vfs.Path appDir)
    throws javax.servlet.ServletException
  {
    com.caucho.vfs.Path resinHome = com.caucho.server.util.CauchoSystem.getResinHome();
    com.caucho.vfs.MergePath mergePath = new com.caucho.vfs.MergePath();
    mergePath.addMergePath(appDir);
    mergePath.addMergePath(resinHome);
    com.caucho.loader.DynamicClassLoader loader;
    loader = (com.caucho.loader.DynamicClassLoader) getClass().getClassLoader();
    String resourcePath = loader.getResourcePathSpecificFirst();
    mergePath.addClassPath(resourcePath);
    com.caucho.vfs.Depend depend;
    depend = new com.caucho.vfs.Depend(appDir.lookup("mobile/plugin/1/form/detail/rowhtmldetail.jsp"), 8239158636688901950L, false);
    com.caucho.jsp.JavaPage.addDepend(_caucho_depends, depend);
  }

  private final static char []_jsp_string1;
  private final static char []_jsp_string3;
  private final static char []_jsp_string2;
  private final static char []_jsp_string0;
  private final static char []_jsp_string4;
  private final static char []_jsp_string5;
  static {
    _jsp_string1 = "\r\n<script>\r\n	/**\r\n	 * \u9884\u7b97\u8d39\u7528\u52a8\u6001\u751f\u6210\u660e\u7ec6\u7f16\u8f91\u9875\u9762\u540e\uff0c\u7ed1\u5b9a\u4e8b\u4ef6\u51fd\u6570\r\n	 **/\r\n	function dyeditPageFnaFyFun(groupid,rowId,fieldCount,isedit,isdisplay) {\r\n		return;\r\n	}\r\n\r\n    //\u52a8\u6001\u751f\u6210\u7f16\u8f91\u9875\u9762\r\n  function  dyeditPage(groupid,rowId,fieldCount,isedit,isdisplay){\r\n	    var isEditDisplay=\"\";\r\n        var elementCount = 0;\r\n        var tableObj =  document.createElement(\"table\");\r\n        //var divObj =  document.createElement(\"DIV\");\r\n        //divObj.setAttribute(\"id\",\"div\"+groupid+\"_\"+rowId);\r\n       \r\n        tableObj.setAttribute(\"id\",\"detailtable_\"+groupid+\"_\"+rowId);\r\n        //tableObj.setAttribute(\"onMouseOver\",\"detailtableMouseOver(\"+groupid+\",\"+rowId+\")\");\r\n        //tableObj.setAttribute(\"onMouseOut\",\"detailtableMouseOut(\"+groupid+\",\"+rowId+\")\");\r\n        var aObj = document.getElementById(\"a\"+groupid+\"_\"+rowId);\r\n        var trObj=aObj.parentNode.parentNode;\r\n        var topPosition = jQuery(trObj).position().top;\r\n        var leftPosiztion = jQuery(trObj).position().left;\r\n        var heightPosition = jQuery(trObj).height();\r\n        var tableHeightPosition = jQuery(tableObj).height();\r\n        var widthPosition = (jQuery(document).width() - leftPosiztion *2);\r\n        tableObj.setAttribute(\"width\",widthPosition+\"px\");\r\n        //divObj.setAttribute(\"style\",\"position:absolute;width:100%;height:100%;border-left:1px solid #c3c5ce;border-bottom:1px solid #c3c5ce;\");\r\n       // divObj.setAttribute(\"onclick\",\"detailtableMouseOut(\"+groupid+\",\"+rowId+\")\");\r\n        var tbodyObj = aObj.parentNode.parentNode.parentNode;\r\n        elementCount = 0;\r\n        var thValueArrays = new Array();\r\n        //\u63d0\u53d6\u6807\u9898\u7684\u90e8\u5206\r\n        for(var i=0;i<tbodyObj.childNodes.length;i++){\r\n          var thObj =  tbodyObj.childNodes[i];\r\n            if(thObj.nodeType == 1){\r\n               if(elementCount == 0){\r\n                  var thValueObjs = thObj.childNodes;\r\n                  for(var j=0;j<thValueObjs.length;j++){\r\n                       if(thValueObjs[j].nodeType == 1){\r\n                                thValueArrays.push(thValueObjs[j].innerHTML);\r\n                       }\r\n                      \r\n                  }\r\n               }\r\n                elementCount++;\r\n            }\r\n        }\r\n        var DIVHTML = \"\";\r\n        elementCount = 0;\r\n        //td\u4e2d\u5217\u7684\u4fe1\u606f\r\n        for(var i=0;i<trObj.childNodes.length-1;i++){\r\n              var tdObj  =   trObj.childNodes[i];\r\n              if(tdObj.nodeType == 1){\r\n                 if(elementCount != 0 && elementCount != 1 && elementCount < (fieldCount+3 -1)){\r\n                      DIVHTML += \"<tr width=\\\"100%\\\">\";\r\n                      if(elementCount == 2){\r\n                           DIVHTML +=\"<td width=\\\"10%\\\" style=\\\"border-left:1px solid #c3c5ce;border-bottom:1px solid #c3c5ce;\\\" rowspan=\\\"\"+fieldCount+\"\\\" onclick=\\\"detailtableMouseOut(\"+groupid+\",\"+rowId+\")\\\"></td>\";\r\n                      }\r\n                    \r\n                       DIVHTML += \"<th width=\\\"25%\\\" class=\\\"detailFormTitleIndexTDValue\\\" style=\\\"border-width:0px 1px 1px 1px;\\\">\";\r\n                         DIVHTML += thValueArrays[elementCount];\r\n                        DIVHTML +=\"</th>\";\r\n                      //\u5c06\u63a7\u4ef6\u7684\u503cId\u9700\u8981\u6539\u53d8\u540e\u9762\u6dfb\u52a0_detial\u7684\u6807\u8bc6\r\n                      var tdValueObjs=tdObj.childNodes;\r\n					  var displaySpanCount =0;\r\n					  var displaySpanTdTotal =0;\r\n					  var displayACount =0;\r\n					  var displayATdTotal =0;\r\n					   for(var j=0;j<tdValueObjs.length;j++){\r\n						    if(isdisplay){\r\n								 if(tdValueObjs[j].nodeType == 1 && tdValueObjs[j].nodeName=='SPAN'){\r\n									  if(tdValueObjs[j].getAttribute(\"keyid\")){\r\n										  displaySpanTdTotal ++;\r\n									  }\r\n								 }\r\n								 if(tdValueObjs[j].nodeType == 1 && tdValueObjs[j].nodeName=='A'){\r\n									  if(tdValueObjs[j].getAttribute(\"keyid\")){\r\n										  displayATdTotal ++;\r\n									  }\r\n								 }\r\n								  \r\n							}\r\n					   }\r\n\r\n                      for(var j=0;j<tdValueObjs.length;j++){\r\n						  if(isdisplay){\r\n							    if(tdValueObjs[j].nodeType == 1 && tdValueObjs[j].nodeName=='SPAN'){\r\n									 var spanId= tdValueObjs[j].getAttribute(\"id\");\r\n									 var spanName= tdValueObjs[j].getAttribute(\"name\");\r\n									 if(tdValueObjs[j].getAttribute(\"id\")){\r\n                                             DIVHTML +=\"<td  width=\\\"65%\\\" class=\\\"detailValueTD\\\">\";\r\n											  DIVHTML += \"<span id=\\\"\"+spanId+\"_d\\\" name=\\\"\"+spanName+\"_d\\\">\"; \r\n											  DIVHTML += tdValueObjs[j].innerHTML;\r\n											  DIVHTML += \"</span></td>\";\r\n									 }\r\n									 if(tdValueObjs[j].getAttribute(\"keyid\")){\r\n										 if(displaySpanCount ==0){\r\n											   DIVHTML +=\"<td  width=\\\"65%\\\" class=\\\"detailValueTD\\\">\";\r\n												DIVHTML += \"<span keyid=\\\"\"+tdValueObjs[j].getAttribute(\"keyid\")+\"\\\">\";\r\n												DIVHTML +=tdValueObjs[j].innerHTML;\r\n											   DIVHTML += \"</span></BR>\";\r\n										 }else if(displaySpanCount == displaySpanTdTotal){\r\n											    DIVHTML += \"<span keyid=\\\"\"+tdValueObjs[j].getAttribute(\"keyid\")+\"\\\">\";\r\n												 DIVHTML +=tdValueObjs[j].innerHTML;\r\n												 DIVHTML += \"</span></td>\";\r\n\r\n										 }else{\r\n											     DIVHTML += \"<span keyid=\\\"\"+tdValueObjs[j].getAttribute(\"keyid\")+\"\\\">\";\r\n												 DIVHTML +=tdValueObjs[j].innerHTML;\r\n												 DIVHTML += \"</span></BR>\";\r\n										 }\r\n										 displaySpanCount++;\r\n										  \r\n									 } \r\n								}\r\n                                if(tdValueObjs[j].nodeType == 1 && tdValueObjs[j].nodeName=='A'){\r\n                                         if(displayACount == 0){\r\n                                            DIVHTML +=\"<td  width=\\\"65%\\\" class=\\\"detailValueTD\\\">\";\r\n                                            DIVHTML +=tdValueObjs[j].innerHTML;\r\n										    DIVHTML += \"</BR>\";\r\n										 }else if(displayACount == displayATdTotal){\r\n											 DIVHTML +=tdValueObjs[j].innerHTML;\r\n										     DIVHTML += \"</td>\";\r\n										 }else{\r\n											  DIVHTML +=tdValueObjs[j].innerHTML;\r\n										      DIVHTML += \"</BR>\";\r\n										 }\r\n										displayACount ++;\r\n								}\r\n\r\n								if(tdValueObjs.length ==1 && tdValueObjs[j].nodeName ==\"#text\"){\r\n                                      DIVHTML +=\"<td  width=\\\"65%\\\" class=\\\"detailValueTD\\\">\"+tdValueObjs[j].nodeValue+\"</td>\";\r\n								}\r\n\r\n								if(tdValueObjs[j].nodeType ==1 && tdValueObjs[j].nodeName ==\"INPUT\"){\r\n									if(tdValueObjs[j].getAttribute(\"fieldType\")){\r\n                                        DIVHTML +=\"<td  width=\\\"65%\\\" class=\\\"detailValueTD\\\">\"+tdValueObjs[j].getAttribute(\"value\")+\"</td>\";\r\n									} \r\n								}\r\n								if(tdValueObjs[j].nodeType ==1 && tdValueObjs[j].nodeName ==\"TABLE\"){\r\n								        var checkboxChildNodes =    tdValueObjs[j].childNodes;\r\n								        for(var po=0;po<checkboxChildNodes.length;po++){\r\n								             if(checkboxChildNodes[po].nodeType == 1 && checkboxChildNodes[po].nodeName == \"TBODY\"){\r\n								                  var  checkboxTbodyChildNodes =  checkboxChildNodes[po].childNodes;\r\n								                  for(var pt=0;pt<checkboxTbodyChildNodes.length;pt++){\r\n								                        if(checkboxTbodyChildNodes[pt].nodeType == 1 \r\n								                              && checkboxTbodyChildNodes[pt].nodeName == \"TR\"){\r\n								                              var checkboxTDChildNodes = checkboxTbodyChildNodes[pt].childNodes;\r\n								                              for(var pd=0;pd<checkboxTDChildNodes.length;pd++){\r\n								                                  var checkboxTDChildNode = checkboxTDChildNodes[pd];\r\n								                                  if(checkboxTDChildNode.nodeType==1&&checkboxTDChildNode.nodeName == \"TD\"){\r\n								                                        var csbox = checkboxTDChildNode.childNodes;\r\n								                                       for(var pc=0;pc<csbox.length;pc++){\r\n								                                             if(csbox[pc].nodeType == 1 && csbox[pc].nodeName == \"INPUT\" ){\r\n								                                                if(csbox[pc].getAttribute(\"type\") && csbox[pc].getAttribute(\"type\") == \"checkbox\"){\r\n								                                                    var idVal = \"\";\r\n								                                                   if(csbox[pc].getAttribute(\"id\")){\r\n								                                                        idVal = csbox[pc].getAttribute(\"id\")+\"_d\";\r\n								                                                   }\r\n								                                                   var nameVal = \"\";\r\n								                                                   if(csbox[pc].getAttribute(\"name\")){\r\n								                                                        nameVal = csbox[pc].getAttribute(\"name\")+\"_d\";\r\n								                                                   }\r\n								                                                   var checkedVal = \"\";\r\n								                                                   if(csbox[pc].getAttribute(\"checked\")||csbox[pc].getAttribute(\"checked\")==\"\"){\r\n								                                                      checkedVal = \"checked\";\r\n								                                                   }\r\n								                                                   var disabledVal = \"\";\r\n								                                                   if(csbox[pc].getAttribute(\"disabled\")||csbox[pc].getAttribute(\"disabled\")==\"\"){\r\n								                                                       disabledVal = \"disabled\";\r\n								                                                   }\r\n								                                                  DIVHTML +=\"<td  width=\\\"65%\\\" class=\\\"detailValueTD\\\"><input type=\\\"checkbox\\\" id=\\\"\"+idVal+\"\\\" name=\\\"\"+nameVal+\"\\\" \"+checkedVal+\" \"+disabledVal+\" /></td>\";\r\n								                                                }\r\n								                                                 \r\n								                                             }\r\n								                                       }\r\n								                                  }\r\n								                              }\r\n								                            \r\n								                        }\r\n								                  }\r\n								             } \r\n								        }\r\n									\r\n								}\r\n								var spanCount = 0;\r\n								var spanTdTotal = 0;\r\n								var aCount = 0;\r\n								var aTdTotal = 0;\r\n                                 if(tdValueObjs[j].nodeType == 1 && tdValueObjs[j].nodeName=='DIV'){\r\n									     var divId =  tdValueObjs[j].getAttribute(\"id\");\r\n										 if(divId && divId != \"isedit\"){\r\n											   var  disTables =  tdValueObjs[j].childNodes;\r\n											   for(var li=0;li<disTables.length;li++){\r\n												     if(disTables[li].nodeType==1&&disTables[li].nodeName==\"SPAN\"){\r\n													    spanTdTotal ++;\r\n												     }\r\n													  if(disTables[li].nodeType==1&&disTables[li].nodeName==\"A\"){\r\n													    aTdTotal ++;\r\n												     }\r\n \r\n											   }\r\n      \r\n										 }\r\n\r\n								 }\r\n								if(tdValueObjs[j].nodeType == 1 && tdValueObjs[j].nodeName=='DIV'){\r\n									   var divId =  tdValueObjs[j].getAttribute(\"id\");\r\n									   if(divId && divId != \"isedit\"){\r\n										   var  disTables =  tdValueObjs[j].childNodes;\r\n										   for(var li=0;li<disTables.length;li++){\r\n											   if(disTables[li].nodeType==1&&disTables[li].nodeName==\"TABLE\"){\r\n												   if(disTables[li].childNodes[0] && disTables[li].childNodes[0].childNodes[0] \r\n													   && disTables[li].childNodes[0].childNodes[0].childNodes[0] &&\r\n													   disTables[li].childNodes[0].childNodes[0].childNodes[0].nodeName ==\"TD\"){\r\n                                                        var tddisplayObj = disTables[li].childNodes[0].childNodes[0].childNodes[0];\r\n														for(var lv=0;lv<tddisplayObj.childNodes.length;lv++){\r\n															  tddisplayChildObj=tddisplayObj.childNodes[lv];\r\n															  if(tddisplayChildObj){\r\n																   if(tddisplayChildObj.nodeType == 1 && tddisplayChildObj.nodeName ==\"INPUT\"){\r\n                                                                        var typeck = tddisplayChildObj.getAttribute(\"type\");\r\n																		if(typeck == 'checkbox'){\r\n																		    var checkedVal =\"\" ;\r\n																		    if(tddisplayChildObj.checked && tddisplayChildObj.getAttribute(\"checked\")!=\"false\"){\r\n                                                                                checkedVal =\"checked\";\r\n																		    }\r\n                                                                            DIVHTML +=\"<td  width=\\\"65%\\\" class=\\\"detailValueTD\\\">\";\r\n																			DIVHTML +=\"<input type=\\\"\"+typeck+\"\\\" \"+checkedVal+\"  disabled   />\"\r\n																            DIVHTML +=\"</td>\";\r\n																		}\r\n																   }\r\n															  }\r\n\r\n														}\r\n												   }\r\n											   }\r\n											   if(disTables[li].nodeType==3&&disTables[li].nodeName==\"#text\"){\r\n												   try{\r\n													   if(disTables[li].nodeValue.trim() != ''){\r\n															  DIVHTML +=\"<td  width=\\\"65%\\\" class=\\\"detailValueTD\\\">\";\r\n															  DIVHTML +=disTables[li].nodeValue;\r\n																DIVHTML +=\"</td>\";\r\n													   }else if(disTables.length == 1){\r\n														    DIVHTML +=\"<td  width=\\\"65%\\\" class=\\\"detailValueTD\\\">\";\r\n															DIVHTML +=disTables[li].nodeValue;\r\n															DIVHTML +=\"</td>\";\r\n													   }\r\n												   }catch(e){\r\n												   }\r\n											   }\r\n\r\n											    if(disTables[li].nodeType==1&&disTables[li].nodeName==\"SPAN\"){\r\n													if(spanCount ==0){\r\n														  DIVHTML +=\"<td  width=\\\"65%\\\" class=\\\"detailValueTD\\\">\";\r\n														  var spanHtml = \"<SPAN \";\r\n														  if(disTables[li].getAttribute(\"style\")){\r\n                                                                spanHtml += \" style=\\\"\"+disTables[li].getAttribute(\"style\")+\"\\\"\"\r\n														  }\r\n														  if(disTables[li].getAttribute(\"onclick\")){\r\n                                                                spanHtml += \" onclick=\\\"\"+disTables[li].getAttribute(\"onclick\")+\"\\\"\"\r\n														  }\r\n														   if(disTables[li].getAttribute(\"keyid\")){\r\n                                                                spanHtml += \" keyid=\\\"\"+disTables[li].getAttribute(\"keyid\")+\"\\\"\"\r\n														  }\r\n                                                           spanHtml += \">\"+disTables[li].innerHTML +\"</span><br>\"\r\n														  DIVHTML +=spanHtml;\r\n																\r\n													}else if(spanCount == spanTdTotal){\r\n														 var spanHtml = \"<SPAN  \";\r\n														  if(disTables[li].getAttribute(\"style\")){\r\n                                                                spanHtml += \" style=\\\"\"+disTables[li].getAttribute(\"style\")+\"\\\"\"\r\n														  }\r\n														  if(disTables[li].getAttribute(\"onclick\")){\r\n                                                                spanHtml += \" onclick=\\\"\"+disTables[li].getAttribute(\"onclick\")+\"\\\"\"\r\n														  }\r\n														   if(disTables[li].getAttribute(\"keyid\")){\r\n                                                                spanHtml += \" keyid=\\\"\"+disTables[li].getAttribute(\"keyid\")+\"\\\"\"\r\n														  }\r\n                                                           spanHtml += \">\"+disTables[li].innerHTML +\"</span>\"\r\n														  DIVHTML +=spanHtml+\"</td>\";\r\n													}else {\r\n														  var spanHtml = \"<SPAN \";\r\n														  if(disTables[li].getAttribute(\"style\")){\r\n                                                                spanHtml += \" style=\\\"\"+disTables[li].getAttribute(\"style\")+\"\\\"\"\r\n														  }\r\n														  if(disTables[li].getAttribute(\"onclick\")){\r\n                                                                spanHtml += \" onclick=\\\"\"+disTables[li].getAttribute(\"onclick\")+\"\\\"\"\r\n														  }\r\n														   if(disTables[li].getAttribute(\"keyid\")){\r\n                                                                spanHtml += \" keyid=\\\"\"+disTables[li].getAttribute(\"keyid\")+\"\\\"\"\r\n														  }\r\n                                                           spanHtml += \">\"+disTables[li].innerHTML +\"</span><br>\"\r\n														  DIVHTML +=spanHtml;\r\n													}\r\n													  spanCount++;\r\n												}\r\n												if(disTables[li].nodeType==1&&disTables[li].nodeName==\"A\"){\r\n													if(aCount ==0){\r\n														  DIVHTML +=\"<td  width=\\\"65%".toCharArray();
    _jsp_string3 = "																		      DIVHTML += \"<input onchange=\\\"\"+onchange+\";onChangeClick(this,\"+isedit+\",\"+groupid+\",\"+rowId+\",\"+elementCount+\");\\\" class=\\\"\"+classVal+\"\\\" type=\\\"\"+type+\"\\\" id=\\\"\"+idval+\"_d\\\" name=\\\"\"+name+\"_d\\\" namebak=\\\"\"+namebak+\"\\\" value=\\\"\"+value+\"\\\" readonly=\\\"readonly\\\" />\";\r\n																								      DIVHTML += \"<script language=\\\"javascript\\\">$('#\"+idval+\"_d').scroller({preset: 'time',timeFormat:'HH:ii',theme: 'default',display: 'bottom',mode: 'scroller',nowText:'\u73b0\u5728',setText:'\u786e\u5b9a',cancelText:'\u53d6\u6d88',minuteText:'\u5206',hourText:'\u65f6',timeWheels:'HHii',showNow:true,onShow: moveDataTimeContorl});<\\/script>\"; \r\n																							     }\r\n																							  }else{\r\n																							    if(tdObjs.getAttribute(\"fieldtype\")){\r\n																							         var fieldtype = tdObjs.getAttribute(\"fieldtype\");\r\n																									 DIVHTML += \"<input fieldtype=\\\"\"+fieldtype+\"\\\" type=\\\"\"+type+\"\\\" id=\\\"\"+idval+\"_d\\\" name=\\\"\"+name+\"_d\\\" namebak=\\\"\"+namebak+\"\\\" value=\\\"\"+value+\"\\\"  onchange=\\\"\"+onchange+\";\\\" />\"; \r\n																							    }else{\r\n																							         if(value.indexOf(\"\\\"\")!=-1){\r\n																							            value = value.replace(/\\\"/g,\"&quot;\");\r\n																							         }\r\n																							        DIVHTML += \"<input type=\\\"\"+type+\"\\\" id=\\\"\"+idval+\"_d\\\" name=\\\"\"+name+\"_d\\\" namebak=\\\"\"+namebak+\"\\\" value=\\\"\"+value+\"\\\" onchange=\\\"\"+onchange+\";onChangeClick(this,\"+isedit+\",\"+groupid+\",\"+rowId+\",\"+elementCount+\");\\\" />\";\r\n																						        }\r\n																						     }\r\n																						   }else{\r\n																							  var classVal = tdObjs.getAttribute(\"class\");\r\n																							  if(classVal){\r\n																								if(classVal == 'scroller_date'){ //\u65e5\u671f\r\n																								DIVHTML += \"<input onchange=\\\"onChangeClick(this,\"+isedit+\",\"+groupid+\",\"+rowId+\",\"+elementCount+\");\\\" class=\\\"\"+classVal+\"\\\" type=\\\"\"+type+\"\\\" id=\\\"\"+idval+\"_d\\\" name=\\\"\"+name+\"_d\\\" namebak=\\\"\"+namebak+\"\\\" value=\\\"\"+value+\"\\\" readonly=\\\"readonly\\\" />\";\r\n																								DIVHTML += \"<script language=\\\"javascript\\\">$('#\"+idval+\"_d').scroller({preset: 'date',dateFormat:'yy-mm-dd',theme: 'default',display: 'bottom', mode: 'scroller',endYear:2020,nowText:'\u4eca\u5929',setText:'\u786e\u5b9a',cancelText:'\u53d6\u6d88',monthText:'\u6708',yearText:'\u5e74',dayText:'\u65e5',showNow:true,dateOrder: 'yymmdd',onShow: moveDataTimeContorl});<\\/script>\";\r\n																							   }else if(classVal == 'scroller_time'){//\u65f6\u95f4\r\n																								 DIVHTML += \"<input onchange=\\\"onChangeClick(this,\"+isedit+\",\"+groupid+\",\"+rowId+\",\"+elementCount+\");\\\" class=\\\"\"+classVal+\"\\\" type=\\\"\"+type+\"\\\" id=\\\"\"+idval+\"_d\\\" name=\\\"\"+name+\"_d\\\" namebak=\\\"\"+namebak+\"\\\" value=\\\"\"+value+\"\\\" readonly=\\\"readonly\\\" />\";\r\n																								 DIVHTML += \"<script language=\\\"javascript\\\">$('#\"+idval+\"_d').scroller({preset: 'time',timeFormat:'HH:ii',theme: 'default',display: 'bottom',mode: 'scroller',nowText:'\u73b0\u5728',setText:'\u786e\u5b9a',cancelText:'\u53d6\u6d88',minuteText:'\u5206',hourText:'\u65f6',timeWheels:'HHii',showNow:true,onShow: moveDataTimeContorl});<\\/script>\"; \r\n																							   }\r\n																							 }else{\r\n																								 if(tdObjs.getAttribute(\"fieldtype\")){\r\n																									 var fieldtype = tdObjs.getAttribute(\"fieldtype\");\r\n																									 DIVHTML += \"<input fieldtype=\\\"\"+fieldtype+\"\\\" type=\\\"\"+type+\"\\\" id=\\\"\"+idval+\"_d\\\" name=\\\"\"+name+\"_d\\\" namebak=\\\"\"+namebak+\"\\\" value=\\\"\"+value+\"\\\" />\"; \r\n																								 }\r\n																							   \r\n																						     }\r\n																						   }\r\n																						}\r\n																					 }else{\r\n																						  DIVHTML += \"<input type=\\\"\"+type+\"\\\" name=\\\"\"+name+\"_d\\\" namebak=\\\"\"+namebak+\"\\\" value=\\\"\"+value+\"\\\" />\"; \r\n																					 }\r\n																					 \r\n																  \r\n																				  }\r\n																				\r\n																			}\r\n																		}\r\n																   }\r\n															  }\r\n															 \r\n														  }\r\n														  \r\n													  }\r\n												}\r\n										   } \r\n										}\r\n								  }  \r\n                         }else{\r\n                              if((tdValueObjs[j].nodeType == 1 && tdValueObjs[j].nodeName == \"DIV\")){\r\n                                   if(tdValueObjs[j].getAttribute(\"id\")){\r\n                                       var id = tdValueObjs[j].getAttribute(\"id\");\r\n                                       if(id == 'isedit'){\r\n                                          var tdNodes =  tdValueObjs[j].childNodes;\r\n										  var spanCount = 0;\r\n										  var  spanTdTotal = 0;\r\n										  var aCount = 0;\r\n										  var aTdTotal = 0;\r\n										  var divTdTotal = 0;\r\n										  if(tdNodes.length==0){\r\n											   DIVHTML +=\"<td  width=\\\"60%\\\" class=\\\"detailValueTD\\\">\";\r\n                                               DIVHTML += \"\";\r\n                                               DIVHTML += \"</td>\"; \r\n										  }\r\n										   for(var v=0;v<tdNodes.length;v++){\r\n											      if(tdNodes[v].nodeType == 1 && tdNodes[v].nodeName=='SPAN'){\r\n													    spanTdTotal ++;\r\n														divTdTotal ++;\r\n											      }    \r\n												 if(tdNodes[v].nodeType == 1 && tdNodes[v].nodeName=='A'){\r\n													     aTdTotal ++;\r\n														 divTdTotal ++;\r\n											      }\r\n												  if(tdNodes[v].nodeType == 1 && tdNodes[v].nodeName=='DIV'){\r\n													     divTdTotal ++;\r\n											      }\r\n										   }\r\n                                           var moneryEquals =\"\";\r\n                                          for(var v=0;v<tdNodes.length;v++){\r\n											  var spanEquals =\"\";\r\n											  if(tdNodes[v].nodeType == 3 && tdNodes[v].nodeName=='#text' && tdNodes[v].nodeValue.trim() != ''){\r\n												  if(moneryEquals == \"1\"){\r\n													   DIVHTML += tdNodes[v].nodeValue+\"</td>\";\r\n                                                       moneryEquals = \"\";\r\n												  }else{\r\n													   DIVHTML +=\"<td  width=\\\"60%\\\" class=\\\"detailValueTD\\\">\";\r\n                                                      DIVHTML += tdNodes[v].nodeValue;\r\n                                                      DIVHTML += \"</td>\";\r\n												  }\r\n											  }else if(tdNodes[v].nodeType == 3 && tdNodes[v].nodeName=='#text' && tdNodes.length ==1 ){\r\n												   DIVHTML +=\"<td  width=\\\"60%\\\" class=\\\"detailValueTD\\\">\";\r\n                                                      DIVHTML += tdNodes[v].nodeValue;\r\n                                                      DIVHTML += \"</td>\";\r\n											  }else if(tdNodes[v].nodeType == 1 && tdNodes[v].nodeName=='SPAN'){\r\n												  spanEquals = tdNodes[v];\r\n												  if(spanTdTotal == 1){\r\n													    DIVHTML +=\"<td  width=\\\"60%\\\" class=\\\"detailValueTD\\\">\";\r\n														   var spanHTML = \"<SPAN \";\r\n														   if(tdNodes[v].getAttribute(\"id\")){\r\n																spanHTML += \" id =\\\"\"+tdNodes[v].getAttribute(\"id\")+\"_d\\\"\";\r\n														   }\r\n														   if(tdNodes[v].getAttribute(\"style\")){\r\n																 spanHTML += \" style =\\\"\"+tdNodes[v].getAttribute(\"style\")+\"\\\"\";\r\n														   }\r\n														   if(tdNodes[v].getAttribute(\"onclick\")){\r\n																spanHTML += \" onclick =\\\"\"+tdNodes[v].getAttribute(\"onclick\")+\"\\\"\";\r\n														   }\r\n														   if(tdNodes[v].getAttribute(\"keyid\")){\r\n															   spanHTML += \" keyid =\\\"\"+tdNodes[v].getAttribute(\"keyid\")+\"\\\"\";\r\n														   }\r\n														   \r\n														   if(tdNodes[v].getAttribute(\"id\")&&tdNodes[v].getAttribute(\"id\").indexOf(\"chinglish\")>=0){\r\n															     spanHTML += \">\"+tdNodes[v].innerHTML+ \"</SPAN>\";\r\n																 DIVHTML +=spanHTML;\r\n																 moneryEquals = \"1\";\r\n														   }else{\r\n                                                                spanHTML += \">\"+tdNodes[v].innerHTML + \"</SPAN>\";\r\n															    DIVHTML +=spanHTML + \"<td>\";  \r\n														  }\r\n												  }else{\r\n													  if(spanCount == 0){\r\n														   DIVHTML +=\"<td  width=\\\"60%\\\" class=\\\"detailValueTD\\\">\";\r\n														   var spanHTML = \"<SPAN \";\r\n														   if(tdNodes[v].getAttribute(\"id\")){\r\n																spanHTML += \" id =\\\"\"+tdNodes[v].getAttribute(\"id\")+\"_d\\\"\";\r\n														   }\r\n														   if(tdNodes[v].getAttribute(\"style\")){\r\n																 spanHTML += \" style =\\\"\"+tdNodes[v].getAttribute(\"style\")+\"\\\"\";\r\n														   }\r\n														   if(tdNodes[v].getAttribute(\"onclick\")){\r\n																spanHTML += \" onclick =\\\"\"+tdNodes[v].getAttribute(\"onclick\")+\"\\\"\";\r\n														   }\r\n														   if(tdNodes[v].getAttribute(\"keyid\")){\r\n															   spanHTML += \" keyid =\\\"\"+tdNodes[v].getAttribute(\"keyid\")+\"\\\"\";\r\n														   }\r\n														   spanHTML += \">\"+tdNodes[v].innerHTML + \"</SPAN>\";\r\n														  DIVHTML +=spanHTML + \"</br>\";\r\n														  moneryEquals =\"1\";\r\n													   }else if(spanCount == spanTdTotal){\r\n															 var spanHTML = \"<SPAN \";\r\n														   if(tdNodes[v].getAttribute(\"id\")){\r\n																spanHTML += \" id =\\\"\"+tdNodes[v].getAttribute(\"id\")+\"_d\\\"\";\r\n														   }\r\n														   if(tdNodes[v].getAttribute(\"style\")){\r\n																 spanHTML += \" style =\\\"\"+tdNodes[v].getAttribute(\"style\")+\"\\\"\";\r\n														   }\r\n														   if(tdNodes[v].getAttribute(\"onclick\")){\r\n																spanHTML += \" onclick =\\\"\"+tdNodes[v].getAttribute(\"onclick\")+\"\\\"\";\r\n														   }\r\n														   if(tdNodes[v].getAttribute(\"keyid\")){\r\n															   spanHTML += \" keyid =\\\"\"+tdNodes[v].getAttribute(\"keyid\")+\"\\\"\";\r\n														   }\r\n														   spanHTML += \">\"+tdNodes[v].innerHTML + \"</SPAN>\";\r\n														  DIVHTML +=spanHTML + \"</td>\";\r\n\r\n													   }else{\r\n															  var spanHTML = \"<SPAN \";\r\n															  if(tdNodes[v].getAttribute(\"id\")){\r\n																spanHTML += \" id =\\\"\"+tdNodes[v].getAttribute(\"id\")+\"_d\\\"\";\r\n															   }\r\n															   if(tdNodes[v].getAttribute(\"style\")){\r\n																	 spanHTML += \" style =\\\"\"+tdNodes[v].getAttribute(\"style\")+\"\\\"\";\r\n															   }\r\n															   if(tdNodes[v].getAttribute(\"onclick\")){\r\n																	spanHTML += \" onclick =\\\"\"+tdNodes[v].getAttribute(\"onclick\")+\"\\\"\";\r\n															   }\r\n															   if(tdNodes[v].getAttribute(\"keyid\")){\r\n																   spanHTML += \" keyid =\\\"\"+tdNodes[v].getAttribute(\"keyid\")+\"\\\"\";\r\n															   }\r\n															   spanHTML += \">\"+tdNodes[v].innerHTML + \"</SPAN>\";\r\n															  DIVHTML +=spanHTML + \"</br>\";\r\n													   }\r\n												  }\r\n												   spanCount++;   \r\n											  }else if(tdNodes[v].nodeType == 1 && tdNodes[v].nodeName=='A'){\r\n												   if(aCount == 0){\r\n													    DIVHTML +=\"<td  width=\\\"60%\\\" class=\\\"detailValueTD\\\">\";\r\n                                                        DIVHTML +=tdNodes[v].innerHTML+\"</br>\";\r\n												   }else if(aCount == aTdTotal){\r\n                                                        DIVHTML +=tdNodes[v].innerHTML+\"</td>\";\r\n												   }else{\r\n                                                      DIVHTML +=tdNodes[v].innerHTML+\"</br>\";\r\n												   }\r\n                                                   aCount++;\r\n											  }else if(tdNodes[v].nodeType == 1 && tdNodes[v].nodeName=='DIV' && divTdTotal ==1){\r\n												      DIVHTML +=\"<td  width=\\\"60%\\\" class=\\\"detailValueTD\\\">\";\r\n                                                      DIVHTML += tdNodes[v].innerHTML;\r\n                                                      DIVHTML += \"</td>\";\r\n											  }\r\n                                              if(tdNodes[v].nodeType == 1){\r\n													 //\u4e0d\u53ef\u7f16\u8f91\u7684\u65f6\u5019\r\n													 if((tdNodes[v].nodeType == 1 && tdNodes[v].nodeName == \"DIV\")){\r\n															isEditDisplay =\"<div >\"+tdNodes[v].innerHTML+\"</div>\";\r\n													  }\r\n													 if(spanEquals == tdNodes[v]){\r\n													 }else{\r\n														  if((tdNodes[v].nodeType == 1 && tdNodes[v].nodeName == \"SPAN\")){\r\n															  if(tdNodes[v].getAttribute(\"id\")){\r\n																	DIVHTML +=\"<td  width=\\\"60%\\\" class=\\\"detailValueTD\\\">\"+isEditDisplay+\"<span id=\\\"\"+tdNodes[v].getAttribute(\"id\")+\"_d\\\">\"+tdNodes[v].innerHTML;\r\n															  }\r\n														  }\r\n														   if((tdNodes[v].nodeName=='#text'&&tdNodes[v].nodeValue.trim()!='')){\r\n														     DIVHTML += tdNodes[v].nodeValue +\"</span></td>\";\r\n															 isEditDisplay =\"\";\r\n													      }\r\n							                         }\r\n											 \r\n                          if(tdNodes[v].nodeType == 1 && tdNodes[v].nodeName=='TABLE'){\r\n                                var tdTables = tdNodes[v].childNodes;\r\n	                                for(var k=0;k<tdTables.length;k++){\r\n	                                   if(tdTables[k].nodeType==1&&tdTables[k].nodeName == 'TBODY'){\r\n	                                        var tdTrValues = tdTables[k].childNodes;\r\n	                                        for(var m=0;m<tdTrValues.length;m++){\r\n	                                              if(tdTrValues[m].nodeType == 1 && tdTrValues[m].nodeName == 'TR'){\r\n	                                                  var TdtdValues=tdTrValues[m].childNodes;\r\n	                                                  for(var n=0;n<TdtdValues.length;n++){\r\n	                                                      if(TdtdValues[n].nodeType == 1 && TdtdValues[n].nodeName == \"TD\"){\r\n	                                                           if(TdtdValues[n].getAttribute(\"onclick\")){\r\n	                                                              var onclickVal = TdtdValues[n].getAttribute(\"onclick\");\r\n	                                                              DIVHTML  +=\"<td  width=\\\"60%\\\" class=\\\"detailValueTD\\\" onclick=\\\"\"+onclickVal+\"\\\">\";\r\n	                                                           }else{\r\n																    try{\r\n																	  if(TdtdValues[n].childNodes[0].nodeName == 'SPAN'){\r\n																		  var ismand= TdtdValues[n].childNodes[0].getAttribute(\"class\");\r\n																		  if(ismand && ismand =='ismand'){\r\n																			  var mandSpanId=  TdtdValues[n].childNodes[0].getAttribute(\"id\");\r\n                                                                               mandSpanId = mandSpanId.substring(0,mandSpanId.lastIndexOf(\"_\"))+\"_d_ismandspan\";\r\n																			   var displayVal = \"\";\r\n																			   var realityId = mandSpanId.substring(0,mandSpanId.lastIndexOf(\"_\")-2);\r\n																			  if(document.getElementById(realityId).value&&document.getElementById(realityId).value!=\"\"){\r\n																				    displayVal = \"display:none;\";\r\n																			  }else{\r\n																				  displayVal = \"display:block;\";\r\n																			  }\r\n																			  var mandSpanStyle=  TdtdValues[n].childNodes[0].getAttribute(\"style\");\r\n                                                                              DIVHTML  +=\"<span id=\\\"\"+mandSpanId+\"\\\" style=\\\"color: red;font-size: 20pt;float:right;\"+displayVal+\"\\\" >\"+TdtdValues[n].childNodes[0].innerHTML+\"</span>\";\r\n																		  }\r\n																	  }else{\r\n																		  if(TdtdValues[n].childNodes[0].nodeName == 'DIV'||TdtdValues[n].childNodes[0].nodeName == 'A'){\r\n																		  }else{\r\n																			   DIVHTML  +=\"<td  width=\\\"60%\\\" class=\\\"detailValueTD\\\">\";\r\n																		  }\r\n																		 \r\n																	  }\r\n																   }catch(e){\r\n																   }\r\n	                                                           } \r\n\r\n	                                                           var tdvals = TdtdValues[n].childNodes;\r\n	                                                           var aspanCount = 0;\r\n	                                                           var detailSpanCount =0;\r\n	                                                            for(var o=0;o<tdvals.length;o++){\r\n	                                                                  if(tdvals[o].nodeName == \"A\"){\r\n	                                                                     aspanCount ++;\r\n	                                                                  }\r\n	                                                                  if(tdvals[o].nodeName == \"SPAN\"){\r\n	                                                                 ".toCharArray();
    _jsp_string2 = "\\\" class=\\\"detailValueTD\\\">\";\r\n														  DIVHTML +=disTables[li].innerHTML +\"</BR>\";\r\n																\r\n													}else if(aCount == aTdTotal){\r\n														 DIVHTML +=disTables[li].innerHTML +\"</td>\"; \r\n													}else {\r\n														 DIVHTML +=disTables[li].innerHTML +\"</BR>\"; \r\n													}\r\n													  aCount++;\r\n												}\r\n\r\n										   }\r\n									   }\r\n								}\r\n						  }else{\r\n							    if(isedit){ //\u624b\u673a\u7248\u672c\u7b49\r\n										//\u4e0d\u53ef\u7f16\u8f91\u7684\u65f6\u5019\r\n									  if((tdValueObjs[j].nodeType == 1 && tdValueObjs[j].nodeName == \"SPAN\")){\r\n										 if(tdValueObjs[j].getAttribute(\"id\")){\r\n											  DIVHTML +=\"<span id=\\\"\"+tdValueObjs[j].getAttribute(\"id\")+\"_d\\\">\"+tdValueObjs[j].innerHTML;   \r\n										 }\r\n									  }\r\n									  if((tdValueObjs[j].nodeName=='#text'&&tdValueObjs[j].nodeValue.trim()!='')){\r\n										 if(tdValueObjs[j].getAttribute(\"id\")){\r\n											  DIVHTML += tdValueObjs[j].nodeValue +\"</span>\";\r\n										 }\r\n									  }\r\n								  if(tdValueObjs[j].nodeType == 1 && tdValueObjs[j].nodeName=='TABLE'){\r\n										var tdTables = tdValueObjs[j].childNodes;\r\n										for(var k=0;k<tdTables.length;k++){\r\n										   if(tdTables[k].nodeType==1&&tdTables[k].nodeName == 'TBODY'){\r\n												var tdTrValues = tdTables[k].childNodes;\r\n												for(var m=0;m<tdTrValues.length;m++){\r\n													  if(tdTrValues[m].nodeType == 1 && tdTrValues[m].nodeName == 'TR'){\r\n														  var TdtdValues=tdTrValues[m].childNodes;\r\n														  for(var n=0;n<TdtdValues.length;n++){\r\n															  if(TdtdValues[n].nodeType == 1 && TdtdValues[n].nodeName == \"TD\"){\r\n																   if(TdtdValues[n].getAttribute(\"onclick\")){\r\n																	  var onclickVal = TdtdValues[n].getAttribute(\"onclick\");\r\n																	  DIVHTML  +=\"<td  width=\\\"65%\\\" class=\\\"detailValueTD\\\" onclick=\\\"\"+onclickVal+\"\\\">\";\r\n																   }else{\r\n																	  if(TdtdValues[n].childNodes[0].nodeName == 'SPAN'){\r\n																	  }else{\r\n																		 DIVHTML  +=\"<td  width=\\\"65%\\\" class=\\\"detailValueTD\\\">\";\r\n																	  }\r\n																   }\r\n																   var tdvals = TdtdValues[n].childNodes;\r\n																   var detailSpanCount = 0;\r\n																   var detailACount = 0;\r\n																   for(var o=0;o<tdvals.length;o++){\r\n																       if(tdvals[o].nodeType == 1){\r\n																          if(tdvals[o].nodeName == \"SPAN\"){\r\n																                detailSpanCount++;\r\n																          }\r\n																          if(tdvals[o].nodeName == \"A\"){\r\n																             detailACount ++;\r\n																          }  \r\n																       } \r\n																   }\r\n																   \r\n																   if(TdtdValues[n].getAttribute(\"id\")){ //\u6d4f\u89c8\u6846\u7684\u65f6\u5019Id\r\n																			 DIVHTML  +=\"<div id=\\\"\"+TdtdValues[n].getAttribute(\"id\")+\"_d\\\" groupid=\\\"\"+groupid+\"\\\" rowId=\\\"\"+rowId+\"\\\" columnId=\\\"\"+(elementCount-2)+\"\\\" style=\\\"margin-top:\"+(detailSpanCount==1?\"11\":\"0\")+\"px;\\\">\";\r\n																   }\r\n																   var spanDig = 0;\r\n																   var spanShowDigCount=0;\r\n																    for(var o=0;o<tdvals.length;o++){\r\n																         if(tdvals[o].nodeType == 1 && tdvals[o].nodeName == \"SPAN\"){//\u6d4f\u89c8\u6846\u7528\u4e8e\u663e\u793a\u7684span\r\n																                if(tdvals[o].getAttribute(\"keyid\")){\r\n																                    spanShowDigCount++;\r\n																                }\r\n																         }\r\n																    }\r\n																   for(var o=0;o<tdvals.length;o++){\r\n																		if(tdvals[o].nodeType == 1){\r\n																			if(tdvals[o].nodeName == \"SPAN\"){//\u6d4f\u89c8\u6846\u7528\u4e8e\u663e\u793a\u7684span\r\n																				if(tdvals[o].getAttribute(\"keyid\")){\r\n																				    var keyid =tdvals[o].getAttribute(\"keyid\");\r\n																				    if(spanShowDigCount ==1){\r\n																				         DIVHTML += \"<span keyid=\\\"\"+keyid+\"\\\">\"+tdvals[o].innerHTML+\"</span></div>\";\r\n																				    }else{\r\n																				        if(spanDig ==0){\r\n																					      DIVHTML += \"<span keyid=\\\"\"+keyid+\"\\\">\"+tdvals[o].innerHTML+\"</span>\";\r\n																					     }else if(spanDig==spanShowDigCount){\r\n																					        DIVHTML += \"<span keyid=\\\"\"+keyid+\"\\\">\"+tdvals[o].innerHTML+\"</span></div>\";     \r\n																					     }else{\r\n																					        DIVHTML += \"<span keyid=\\\"\"+keyid+\"\\\">\"+tdvals[o].innerHTML+\"</span>\";\r\n																					     }\r\n																				    }\r\n																					 spanDig++;\r\n																				}\r\n																			}\r\n																			if(tdvals[o].nodeName == \"A\"){ //\u6d4f\u89c8\u6846\u4e2d\u7684A\u6807\u7b7e\u6309\u94ae\r\n																				 var hrefVal = \"\";\r\n																				 var data_relVal = \"\";\r\n																				 var data_transitionVal = \"\";\r\n																				 if(tdvals[o].getAttribute(\"href\")){\r\n																					 hrefVal = tdvals[o].getAttribute(\"href\");\r\n																				 }\r\n																				 if(tdvals[o].getAttribute(\"data-rel\")){\r\n																					  data_relVal = tdvals[o].getAttribute(\"data-rel\");  \r\n																				 }\r\n																				 if(tdvals[o].getAttribute(\"data-transition\")){\r\n																					 data_transitionVal = tdvals[o].getAttribute(\"data-transition\");\r\n																				 }\r\n																				DIVHTML += \"<a style=\\\"float:left;\\\" herf=\\\"\"+hrefVal+\"\\\" \"+(data_transitionVal==\"\"?\"\":\"data-transition=\\\"\"+data_transitionVal+\"\\\"\")+\"  \"+(data_relVal == \"\"?\"data-rel=\\\"\":\"\"+data_relVal+\"\\\"\")+\" >\"; \r\n																				DIVHTML += tdvals[o].innerHTML;\r\n																				DIVHTML +=\"</a>\";\r\n																			}\r\n																			if(tdvals[o].nodeName == \"SELECT\"){\r\n																				 var tdObjs=tdvals[o];\r\n																				 var name=tdObjs.getAttribute(\"name\");\r\n																				 var id = tdObjs.getAttribute(\"id\");\r\n																				 var namebak = tdObjs.getAttribute(\"namebak\");\r\n																				 DIVHTML += \"<select onchange=\\\"onChangeClick(this,\"+isedit+\",\"+groupid+\",\"+rowId+\",\"+elementCount+\");try{maindetailfieldchange(this);}catch(e){}\\\"   class=\\\"scroller_select\\\" name=\\\"\"+name+\"_d\\\" id=\\\"\"+id+\"_d\\\" namebak=\\\"\"+namebak+\"\\\">\";\r\n																				  for(var p=0;p<tdObjs.options.length;p++){\r\n																						DIVHTML += \"<option value=\"+tdObjs.options[p].value+\" \"+(tdObjs.options[p].selected == true? \"selected\":\"\")+\">\";\r\n																						DIVHTML += tdObjs.options[p].innerText;\r\n																						DIVHTML +=\"</option>\";\r\n																				  }\r\n																				  DIVHTML += \"</select>\";\r\n																			}\r\n																			\r\n																			if(tdvals[o].nodeName == \"LABEL\"){\r\n																				  var tdObjs=tdvals[o];\r\n																				  var forVal=tdObjs.getAttribute(\"for\");\r\n																				    var htmlval = tdObjs.innerHTML;\r\n																				  DIVHTML +=  \"<label for=\\\"\"+forVal+\"\\\">\"+htmlval+\"</label>\";\r\n																			}\r\n																		   \r\n																			\r\n																			if(tdvals[o].nodeName == \"TEXTAREA\"){\r\n																				 var tdObjs=tdvals[o];\r\n																				 var cols = tdObjs.getAttribute(\"cols\");\r\n																				 var rows = tdObjs.getAttribute(\"rows\");\r\n																				 var name = tdObjs.getAttribute(\"name\");\r\n																				 var id = tdObjs.getAttribute(\"id\");\r\n																				 var namebak = tdObjs.getAttribute(\"namebak\");\r\n																				 var horizontalscrollpolicy = tdObjs.getAttribute(\"horizontalscrollpolicy\");\r\n																				 var verticalscrollpolicy = tdObjs.getAttribute(\"verticalscrollpolicy\");\r\n																				 \r\n																				  DIVHTML +=\"<textarea onchange=\\\"onChangeClick(this,\"+isedit+\",\"+groupid+\",\"+rowId+\",\"+elementCount+\");try{maindetailfieldchange(this);}catch(e){}\\\"  id=\\\"\"+id+\"_d\\\" style=\\\"height:100px;\\\"  name=\\\"\"+name+\"_d\\\" rows=\\\"\"+rows+\"\\\" cols=\\\"\"+cols+\"\\\" verticalscrollpolicy=\\\"\"+verticalscrollpolicy+\"\\\" horizontalscrollpolicy=\\\"\"+horizontalscrollpolicy+\"\\\"  namebak=\\\"\"+namebak+\"\\\"  >\"+tdObjs.value+\"</textarea>\";\r\n																			}\r\n																		\r\n																			if(tdvals[o].nodeName == \"INPUT\"){\r\n																				 var tdObjs=tdvals[o];\r\n																				 var idval=tdObjs.getAttribute(\"id\");\r\n																				 var type = tdObjs.getAttribute(\"type\");\r\n																				 var name = tdObjs.getAttribute(\"name\");\r\n																				  var namebak = tdObjs.getAttribute(\"namebak\");\r\n																				  var value = tdObjs.getAttribute(\"value\");\r\n																				  if(tdObjs.getAttribute(\"datavaluetype\")){\r\n																				   var datavaluetype = tdObjs.getAttribute(\"datavaluetype\");\r\n																					   if(datavaluetype == 3 ||datavaluetype == 5 ){ //\u6d6e\u70b9\u6570\u4e0e\u91d1\u989d\u5343\u5206\u4f4d\r\n																						 var reg =   eval(\"/\"+idval+\"/ig\");\r\n																						  var datatype = tdObjs.getAttribute(\"datatype\");\r\n																						  var datetype = tdObjs.getAttribute(\"datetype\");\r\n																						  var datalength = tdObjs.getAttribute(\"datalength\");\r\n																						  var onkeypress = tdObjs.getAttribute(\"onkeypress\");\r\n																						  onkeypress = onkeypress.replace(reg,idval+\"_d\");\r\n																						  var onblur= tdObjs.getAttribute(\"onblur\");\r\n																						  onblur =  onblur.replace(reg,idval+\"_d\");\r\n																						  if(datavaluetype == 5){\r\n																							var onfocus = tdObjs.getAttribute(\"onfocus\");\r\n																							onfocus = onfocus.replace(reg,idval+\"_d\");\r\n																						  }\r\n																						  var onchange=tdObjs.getAttribute(\"onchange\");\r\n																						  if(onchange){\r\n																							   var reg =   eval(\"/\"+idval+\"/ig\");\r\n																							  onchange = onchange.replace(reg,idval+\"_d\");\r\n																						  }else{\r\n																							 onchange = \"\";  \r\n																						  }\r\n																						  if(datavaluetype == 5){\r\n																							  DIVHTML += \"<input onfocus=\\\"\"+onfocus+\"\\\"   onblur=\\\"\"+onblur+\"\\\"  onkeypress=\\\"\"+onkeypress+\"\\\" datavaluetype=\\\"\"+datavaluetype+\"\\\" datalength=\\\"\"+datalength+\"\\\" datatype=\\\"\"+datatype+\"\\\" datetype=\\\"\"+datetype+\"\\\"  type=\\\"\"+type+\"\\\" id=\\\"\"+idval+\"_d\\\" name=\\\"\"+name+\"_d\\\" namebak=\\\"\"+namebak+\"\\\" value=\\\"\"+value+\"\\\" onchange=\\\"\"+onchange+\";onChangeClick(this,\"+isedit+\",\"+groupid+\",\"+rowId+\",\"+elementCount+\");\\\" />\"; \r\n																						  }else{\r\n																							  DIVHTML += \"<input onblur=\\\"\"+onblur+\"\\\"  onkeypress=\\\"\"+onkeypress+\"\\\" datavaluetype=\\\"\"+datavaluetype+\"\\\" datalength=\\\"\"+datalength+\"\\\" datatype=\\\"\"+datatype+\"\\\" datetype=\\\"\"+datetype+\"\\\"  type=\\\"\"+type+\"\\\" id=\\\"\"+idval+\"_d\\\" name=\\\"\"+name+\"_d\\\" namebak=\\\"\"+namebak+\"\\\" value=\\\"\"+value+\"\\\" onchange=\\\"\"+onchange+\";onChangeClick(this,\"+isedit+\",\"+groupid+\",\"+rowId+\",\"+elementCount+\");\\\" />\";\r\n																						  }\r\n																					   }else if(datavaluetype == 4){ //\u91d1\u989d\u5343\u5206\u4f4d\r\n																						  var reg =   eval(\"/\"+idval+\"/ig\");\r\n																						  var datatype = tdObjs.getAttribute(\"datatype\");\r\n																						  var datetype = tdObjs.getAttribute(\"datetype\");\r\n																						  var datalength = tdObjs.getAttribute(\"datalength\");\r\n																						  var onkeypress = tdObjs.getAttribute(\"onkeypress\");\r\n																						  var onblur= tdObjs.getAttribute(\"onblur\");\r\n																						   var onfocus = tdObjs.getAttribute(\"onfocus\");\r\n																						   if(idval.indexOf(\"lable\") >=0){\r\n																							   DIVHTML += \"<input onchange=\\\"onChangeClick(this,\"+isedit+\",\"+groupid+\",\"+rowId+\",\"+elementCount+\");\\\" onfocus=\\\"FormatToNumber('\"+onfocus.substring(onfocus.indexOf(\"'\")+1,onfocus.lastIndexOf(\"'\")).replace(/field_lable/ig,\"\")+\"_d')\\\" onblur=\\\"numberToFormat('\"+onblur.substring(onblur.indexOf(\"'\")+1,onblur.lastIndexOf(\"'\")).replace(/field_lable/ig,\"\")+\"_d');\\\" onkeypress=\\\"ItemNum_KeyPress('\"+onkeypress.substring(onkeypress.indexOf(\"'\")+1,onkeypress.lastIndexOf(\"'\"))+\"_d')\\\" value=\\\"\"+value+\"\\\" namebak=\\\"\"+namebak+\"\\\" id=\\\"\"+idval+\"_d\\\" name=\\\"\"+name+\"_d\\\" type=\\\"\"+type+\"\\\" datatype=\\\"\"+datatype+\"\\\" datetype=\\\"\"+datetype+\"\\\" datavaluetype=\\\"\"+datavaluetype+\"\\\" datalength=\\\"\"+datalength+\"\\\"  />\";    \r\n																							   DIVHTML += \"<BR>\";\r\n																						   }else{\r\n																							   DIVHTML +=  \"<input namebak=\\\"\"+namebak+\"\\\" datalength=\\\"\"+datalength+\"\\\" datavaluetype=\\\"\"+datavaluetype+\"\\\" datetype=\\\"\"+datetype+\"\\\" datatype=\\\"\"+datatype+\"\\\" type=\\\"\"+type+\"\\\" name=\\\"\"+name+\"_d\\\" id=\\\"\"+idval+\"_d\\\" value=\\\"\"+value+\"\\\" />\";\r\n																							   DIVHTML +=  \"<script language='javascript'> numberToFormat('\"+idval.replace(\"field\",\"\")+\"_d');<\\/script>\";\r\n																						   }\r\n																					   }else if(datavaluetype == 2){ //\u6574\u6570\r\n																							 var datatype = tdObjs.getAttribute(\"datatype\");\r\n																							 var datetype = tdObjs.getAttribute(\"datetype\");\r\n																							 var datalength = tdObjs.getAttribute(\"datalength\");\r\n																							 var onkeypress = tdObjs.getAttribute(\"onkeypress\");\r\n																							 DIVHTML += \"<input onchange=\\\"onChangeClick(this,\"+isedit+\",\"+groupid+\",\"+rowId+\",\"+elementCount+\");\\\"   value=\\\"\"+value+\"\\\" onblur=\\\"checknumber1(this);\\\" onkeypress=\\\"onkeypress('\"+onkeypress.substring(onkeypress.indexOf(\"'\")+1,onkeypress.lastIndexOf(\"'\"))+\"')\\\" type=\\\"\"+type+\"\\\" datatype=\\\"\"+datatype+\"\\\" datetype=\\\"\"+datetype+\"\\\" datavaluetype=\\\"\"+datavaluetype+\"\\\" datalength=\\\"\"+datalength+\"\\\" name=\\\"\"+name+\"_d\\\" id=\\\"\"+idval+\"_d\\\" namebak=\\\"\"+namebak+\"\\\" />\";\r\n																					   }else{\r\n																					   } \r\n																				  }else{\r\n																					 if(idval){\r\n																						if(idval.indexOf(\"chinglish\")>=0){\r\n																							DIVHTML +=  \"<input type=\\\"\"+type+\"\\\" name=\\\"\"+name+\"_d\\\" id=\\\"\"+idval+\"_d\\\" value=\\\"\"+value+\"\\\" readonly=\\\"readonly\\\" />\";\r\n																						}\r\n																						if(type == 'checkbox'){\r\n																							  var onchange = tdObjs.getAttribute(\"onchange\");\r\n																							  var disabledVal = \"\";\r\n																							  var sourceJs = \"\";\r\n																							  if(onchange){\r\n																							        var reg =   eval(\"/\"+idval+\"/ig\");\r\n																							       onchange = onchange.replace(reg,idval+\"_d\"); \r\n																								   sourceJs = \"var cks=document.getElementsByName('\"+idval+\"');for(var pk=0;pk<cks.length;pk++){if(cks[pk]){if(document.getElementById('\"+idval+\"').getAttribute('checked')&&document.getElementById('\"+idval+\"').getAttribute('checked')!='false'){cks[pk].setAttribute('value',1);}else{cks[pk].setAttribute('value',0);}}}\";\r\n																							  }else{\r\n																							     disabledVal = \"disabled\";    \r\n																							  }\r\n																							   var checkedVal =\"\" ;\r\n																								if(tdObjs.checked && tdObjs.getAttribute(\"checked\")!=\"false\"){\r\n																									checkedVal =\"checked\";\r\n																								}\r\n																							DIVHTML += \"<input onchange=\\\"\"+onchange+\";onChangeClick(this,\"+isedit+\",\"+groupid+\",\"+rowId+\",\"+elementCount+\");\"+sourceJs+\"\\\" \"+(checkedVal)+\"  name=\\\"\"+name+\"_d\\\" id=\\\"\"+idval+\"_d\\\" type=\\\"\"+type+\"\\\"  \"+disabledVal+\" />\"; \r\n																						}else{\r\n																						   if(tdObjs.getAttribute(\"onchange\")){\r\n																							  var onchange = tdObjs.getAttribute(\"onchange\");\r\n																							  var reg =   eval(\"/\"+idval+\"/ig\");\r\n																							  onchange = onchange.replace(reg,idval+\"_d\");\r\n																							  var classVal = tdObjs.getAttribute(\"class\");\r\n																							  if(classVal){\r\n																							       if(classVal == 'scroller_date'){ //\u65e5\u671f\r\n																							         	DIVHTML += \"<input onchange=\\\"\"+onchange+\";onChangeClick(this,\"+isedit+\",\"+groupid+\",\"+rowId+\",\"+elementCount+\");\\\" class=\\\"\"+classVal+\"\\\" type=\\\"\"+type+\"\\\" id=\\\"\"+idval+\"_d\\\" name=\\\"\"+name+\"_d\\\" namebak=\\\"\"+namebak+\"\\\" value=\\\"\"+value+\"\\\" readonly=\\\"readonly\\\" />\";\r\n																								        DIVHTML += \"<script language=\\\"javascript\\\">$('#\"+idval+\"_d').scroller({preset: 'date',dateFormat:'yy-mm-dd',theme: 'default',display: 'bottom', mode: 'scroller',endYear:2020,nowText:'\u4eca\u5929',setText:'\u786e\u5b9a',cancelText:'\u53d6\u6d88',monthText:'\u6708',yearText:'\u5e74',dayText:'\u65e5',showNow:true,dateOrder: 'yymmdd',onShow: moveDataTimeContorl});<\\/script>\";\r\n																							      }else if(classVal == 'scroller_time'){//\u65f6\u95f4\r\n						".toCharArray();
    _jsp_string0 = "\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n".toCharArray();
    _jsp_string4 = "    detailSpanCount ++;\r\n	                                                                  }\r\n	                                                            }\r\n	                                                           if(TdtdValues[n].getAttribute(\"id\")){ //\u6d4f\u89c8\u6846\u7684\u65f6\u5019Id\r\n                                                                     DIVHTML  +=\"<div id=\\\"\"+TdtdValues[n].getAttribute(\"id\")+\"_d\\\" groupid=\\\"\"+groupid+\"\\\" rowId=\\\"\"+rowId+\"\\\" columnId=\\\"\"+(elementCount-2)+\"\\\" style=\\\"margin-top:\"+(detailSpanCount==1?\"11\":\"0\")+\"px;\\\">\";\r\n															   }\r\n															   var spanDig = 0;\r\n															   var spanDigCount=0;\r\n															   for(var o=0;o<tdvals.length;o++){\r\n															         if(tdvals[o].nodeType == 1 && tdvals[o].nodeName == \"SPAN\"){\r\n															                spanDigCount ++;\r\n															         }\r\n															   }\r\n	                                                           for(var o=0;o<tdvals.length;o++){\r\n	                                                                if(tdvals[o].nodeType == 1){\r\n	                                                                    if(tdvals[o].nodeName == \"SPAN\"){//\u6d4f\u89c8\u6846\u7528\u4e8e\u663e\u793a\u7684span\r\n	                                                                        if(tdvals[o].getAttribute(\"keyid\")){\r\n	                                                                            var keyid =tdvals[o].getAttribute(\"keyid\");\r\n	                                                                            if(spanDigCount ==1){\r\n	                                                                               DIVHTML += \"<span keyid=\\\"\"+keyid+\"\\\" >\"+tdvals[o].innerHTML+\"</span></div>\";\r\n	                                                                            }else{\r\n	                                                                                if(spanDig ==0){\r\n	                                                                                   DIVHTML += \"<span keyid=\\\"\"+keyid+\"\\\" >\"+tdvals[o].innerHTML+\"</span></br>\";\r\n	                                                                                }else if(spanDig == spanDigCount){\r\n	                                                                                   DIVHTML += \"<span keyid=\\\"\"+keyid+\"\\\" >\"+tdvals[o].innerHTML+\"</span></div>\";\r\n	                                                                                }else{\r\n	                                                                                   DIVHTML += \"<span keyid=\\\"\"+keyid+\"\\\" >\"+tdvals[o].innerHTML+\"</span></br>\";\r\n	                                                                                }\r\n	                                                                            }\r\n	                                                                            spanDig ++;  \r\n	                                                                        }\r\n	                                                                    }\r\n	                                                                    if(tdvals[o].nodeName == \"A\"){ //\u6d4f\u89c8\u6846\u4e2d\u7684A\u6807\u7b7e\u6309\u94ae\r\n	                                                                         var hrefVal = \"\";\r\n	                                                                         var data_relVal = \"\";\r\n	                                                                         var data_transitionVal = \"\";\r\n                                                                             DIVHTML += \"<a style=\\\"float:left;\\\"\";\r\n	                                                                         if(tdvals[o].getAttribute(\"href\")){\r\n	                                                                             hrefVal = tdvals[o].getAttribute(\"href\");\r\n																				 DIVHTML += \" herf=\\\"\"+hrefVal+\"\\\"\";\r\n	                                                                         }\r\n	                                                                         if(tdvals[o].getAttribute(\"data-rel\")){\r\n	                                                                              data_relVal = tdvals[o].getAttribute(\"data-rel\"); \r\n																				  DIVHTML += \" data-rel=\\\"\"+data_relVal+\"\\\"\";\r\n	                                                                         }\r\n	                                                                         if(tdvals[o].getAttribute(\"data-transition\")){\r\n	                                                                             data_transitionVal = tdvals[o].getAttribute(\"data-transition\");\r\n																				  DIVHTML += \" data-transition=\\\"\"+data_transitionVal+\"\\\"\";\r\n	                                                                         }\r\n	                                                                        DIVHTML += \">\"+tdvals[o].innerHTML;\r\n	                                                                        DIVHTML +=\"</a>\";\r\n	                                                                        if(aspanCount>1){\r\n	                                                                           DIVHTML +=\"<br>\";\r\n	                                                                        }\r\n	                                                                    }\r\n	                                                                    if(tdvals[o].nodeName == \"SELECT\"){\r\n	                                                                         var tdObjs=tdvals[o];\r\n	                                                                         var name=tdObjs.getAttribute(\"name\");\r\n	                                                                         var id = tdObjs.getAttribute(\"id\");\r\n	                                                                         var namebak = tdObjs.getAttribute(\"namebak\");\r\n	                                                                          DIVHTML += \"<select onchange=\\\"onChangeClick(this,\"+isedit+\",\"+groupid+\",\"+rowId+\",\"+elementCount+\");try{maindetailfieldchange(this);}catch(e){}\\\"   class=\\\"scroller_select\\\" name=\\\"\"+name+\"_d\\\" id=\\\"\"+id+\"_d\\\" namebak=\\\"\"+namebak+\"\\\">\";\r\n	                                                                          var selectNameVal = \"\";\r\n	                                                                          for(var p=0;p<tdObjs.options.length;p++){\r\n	                                                                                DIVHTML += \"<option value=\"+tdObjs.options[p].value+\" \"+(tdObjs.options[p].selected == true? \"selected\":\"\")+\">\";\r\n	                                                                                DIVHTML += tdObjs.options[p].innerText;\r\n	                                                                                DIVHTML +=\"</option>\";\r\n	                                                                                if(tdObjs.options[p].selected){\r\n	                                                                                   selectNameVal+=tdObjs.options[p].innerText;\r\n	                                                                                }\r\n	                                                                          }\r\n	                                                                          DIVHTML += \"</select>\";\r\n	                                                                    }\r\n	                                                                    \r\n	                                                                    if(tdvals[o].nodeName == \"LABEL\"){\r\n	                                                                          var tdObjs=tdvals[o];\r\n	                                                                          var forVal=tdObjs.getAttribute(\"for\");\r\n	                                                                          var htmlval = tdObjs.innerHTML;\r\n																				  DIVHTML +=  \"<label for=\\\"\"+forVal+\"\\\">\"+htmlval+\"</label>\";\r\n	                                                                    }\r\n	                                                                   \r\n	                                                                    \r\n	                                                                    if(tdvals[o].nodeName == \"TEXTAREA\"){\r\n	                                                                         var tdObjs=tdvals[o];\r\n	                                                                         var cols = tdObjs.getAttribute(\"cols\");\r\n	                                                                         var rows = tdObjs.getAttribute(\"rows\");\r\n	                                                                         var name = tdObjs.getAttribute(\"name\");\r\n	                                                                         var id = tdObjs.getAttribute(\"id\");\r\n	                                                                         var namebak = tdObjs.getAttribute(\"namebak\");\r\n	                                                                         var horizontalscrollpolicy = tdObjs.getAttribute(\"horizontalscrollpolicy\");\r\n	                                                                         var verticalscrollpolicy = tdObjs.getAttribute(\"verticalscrollpolicy\");\r\n	                                                                         \r\n	                                                                         DIVHTML +=\"<textarea onchange=\\\"onChangeClick(this,\"+isedit+\",\"+groupid+\",\"+rowId+\",\"+elementCount+\");try{maindetailfieldchange(this);}catch(e){}\\\"  id=\\\"\"+id+\"_d\\\"  name=\\\"\"+name+\"_d\\\" style=\\\"height:100px;\\\"  rows=\\\"\"+rows+\"\\\" cols=\\\"\"+cols+\"\\\" verticalscrollpolicy=\\\"\"+verticalscrollpolicy+\"\\\" horizontalscrollpolicy=\\\"\"+horizontalscrollpolicy+\"\\\"  namebak=\\\"\"+namebak+\"\\\"  >\"+tdObjs.value+\"</textarea>\";\r\n	                                                                    }\r\n	                                                                \r\n	                                                                    if(tdvals[o].nodeName == \"INPUT\"){\r\n	                                                                         var tdObjs=tdvals[o];\r\n	                                                                         var idval=tdObjs.getAttribute(\"id\");\r\n	                                                                         var type = tdObjs.getAttribute(\"type\");\r\n	                                                                         var name = tdObjs.getAttribute(\"name\");\r\n	                                                                          var namebak = tdObjs.getAttribute(\"namebak\");\r\n	                                                                          var value = tdObjs.getAttribute(\"value\");\r\n	                                                                          if(tdObjs.getAttribute(\"datavaluetype\")){\r\n	                                                                           var datavaluetype = tdObjs.getAttribute(\"datavaluetype\");\r\n	                                                                               if(datavaluetype == 3 ||datavaluetype == 5 ){ //\u6d6e\u70b9\u6570\u4e0e\u91d1\u989d\u5343\u5206\u4f4d\r\n	                                                                                 var reg =   eval(\"/\"+idval+\"/ig\");\r\n	                                                                                  var datatype = tdObjs.getAttribute(\"datatype\");\r\n	                                                                                  var datetype = tdObjs.getAttribute(\"datetype\");\r\n	                                                                                  var datalength = tdObjs.getAttribute(\"datalength\");\r\n	                                                                                  var onkeypress = tdObjs.getAttribute(\"onkeypress\");\r\n	                                                                                  onkeypress = onkeypress.replace(reg,idval+\"_d\");\r\n	                                                                                  var onblur= tdObjs.getAttribute(\"onblur\");\r\n	                                                                                  onblur =  onblur.replace(reg,idval+\"_d\");\r\n	                                                                                  if(datavaluetype == 5){\r\n	                                                                                    var onfocus = tdObjs.getAttribute(\"onfocus\");\r\n	                                                                                    onfocus = onfocus.replace(reg,idval+\"_d\");\r\n	                                                                                  }\r\n																					   var onchange=tdObjs.getAttribute(\"onchange\");\r\n																						if(onchange){\r\n																							   var reg =   eval(\"/\"+idval+\"/ig\");\r\n																							  onchange = onchange.replace(reg,idval+\"_d\");\r\n																						}else{\r\n																							 onchange = \"\";  \r\n																						 }\r\n	                                                                                  if(datavaluetype == 5){\r\n	                                                                                      DIVHTML += \"<input onfocus=\\\"\"+onfocus+\"\\\"   onblur=\\\"\"+onblur+\"\\\"  onkeypress=\\\"\"+onkeypress+\"\\\" datavaluetype=\\\"\"+datavaluetype+\"\\\" datalength=\\\"\"+datalength+\"\\\" datatype=\\\"\"+datatype+\"\\\" datetype=\\\"\"+datetype+\"\\\"  type=\\\"\"+type+\"\\\" id=\\\"\"+idval+\"_d\\\" name=\\\"\"+name+\"_d\\\" namebak=\\\"\"+namebak+\"\\\" value=\\\"\"+value+\"\\\" onchange=\\\"\"+onchange+\";onChangeClick(this,\"+isedit+\",\"+groupid+\",\"+rowId+\",\"+elementCount+\");\\\" />\"; \r\n	                                                                                  }else{\r\n	                                                                                      DIVHTML += \"<input onblur=\\\"\"+onblur+\"\\\"  onkeypress=\\\"\"+onkeypress+\"\\\" datavaluetype=\\\"\"+datavaluetype+\"\\\" datalength=\\\"\"+datalength+\"\\\" datatype=\\\"\"+datatype+\"\\\" datetype=\\\"\"+datetype+\"\\\"  type=\\\"\"+type+\"\\\" id=\\\"\"+idval+\"_d\\\" name=\\\"\"+name+\"_d\\\" namebak=\\\"\"+namebak+\"\\\" value=\\\"\"+value+\"\\\" onchange=\\\"\"+onchange+\";onChangeClick(this,\"+isedit+\",\"+groupid+\",\"+rowId+\",\"+elementCount+\");\\\" />\";\r\n	                                                                                  }\r\n	                                                                               }else if(datavaluetype == 4){ //\u91d1\u989d\u5343\u5206\u4f4d\r\n	                                                                                  var reg =   eval(\"/\"+idval+\"/ig\");\r\n	                                                                                  var datatype = tdObjs.getAttribute(\"datatype\");\r\n	                                                                                  var datetype = tdObjs.getAttribute(\"datetype\");\r\n	                                                                                  var datalength = tdObjs.getAttribute(\"datalength\");\r\n	                                                                                  var onkeypress = tdObjs.getAttribute(\"onkeypress\");\r\n	                                                                                  var onblur= tdObjs.getAttribute(\"onblur\");\r\n	                                                                                   var onfocus = tdObjs.getAttribute(\"onfocus\");\r\n	                                                                                   if(idval.indexOf(\"lable\") >=0){\r\n	                                                                                       DIVHTML += \"<input onchange=\\\"onChangeClick(this,\"+isedit+\",\"+groupid+\",\"+rowId+\",\"+elementCount+\");\\\" onfocus=\\\"FormatToNumber('\"+onfocus.substring(onfocus.indexOf(\"'\")+1,onfocus.lastIndexOf(\"'\")).replace(/field_lable/ig,\"\")+\"_d')\\\" onblur=\\\"numberToFormat('\"+onblur.substring(onblur.indexOf(\"'\")+1,onblur.lastIndexOf(\"'\")).replace(/field_lable/ig,\"\")+\"_d');calSum(\"+groupid+\");\\\" onkeypress=\\\"ItemNum_KeyPress('\"+onkeypress.substring(onkeypress.indexOf(\"'\")+1,onkeypress.lastIndexOf(\"'\"))+\"_d')\\\" value=\\\"\"+value+\"\\\" namebak=\\\"\"+namebak+\"\\\" id=\\\"\"+idval+\"_d\\\" name=\\\"\"+name+\"_d\\\" type=\\\"\"+type+\"\\\" datatype=\\\"\"+datatype+\"\\\" datetype=\\\"\"+datetype+\"\\\" datavaluetype=\\\"\"+datavaluetype+\"\\\" datalength=\\\"\"+datalength+\"\\\"  />\";    \r\n	                                                                                       DIVHTML += \"<BR>\";\r\n	                                                                                   }else{\r\n	                                                                                    ".toCharArray();
    _jsp_string5 = "   DIVHTML +=  \"<input namebak=\\\"\"+namebak+\"\\\" datalength=\\\"\"+datalength+\"\\\" datavaluetype=\\\"\"+datavaluetype+\"\\\" datetype=\\\"\"+datetype+\"\\\" datatype=\\\"\"+datatype+\"\\\" type=\\\"\"+type+\"\\\" name=\\\"\"+name+\"_d\\\" id=\\\"\"+idval+\"_d\\\" value=\\\"\"+value+\"\\\" />\";\r\n	                                                                                       DIVHTML +=  \"<script language='javascript'> numberToFormat('\"+idval.replace(\"field\",\"\")+\"_d');<\\/script>\";\r\n	                                                                                   }\r\n	                                                                               }else if(datavaluetype == 2){ //\u6574\u6570\r\n	                                                                                     var datatype = tdObjs.getAttribute(\"datatype\");\r\n	                                                                                     var datetype = tdObjs.getAttribute(\"datetype\");\r\n	                                                                                     var datalength = tdObjs.getAttribute(\"datalength\");\r\n	                                                                                     var onkeypress = tdObjs.getAttribute(\"onkeypress\");\r\n	                                                                                     DIVHTML += \"<input onchange=\\\"onChangeClick(this,\"+isedit+\",\"+groupid+\",\"+rowId+\",\"+elementCount+\");\\\"   value=\\\"\"+value+\"\\\" onblur=\\\"checknumber1(this);calSum(\"+groupid+\");\\\" onkeypress=\\\"onkeypress('\"+onkeypress.substring(onkeypress.indexOf(\"'\")+1,onkeypress.lastIndexOf(\"'\"))+\"')\\\" type=\\\"\"+type+\"\\\" datatype=\\\"\"+datatype+\"\\\" datetype=\\\"\"+datetype+\"\\\" datavaluetype=\\\"\"+datavaluetype+\"\\\" datalength=\\\"\"+datalength+\"\\\" name=\\\"\"+name+\"_d\\\" id=\\\"\"+idval+\"_d\\\" namebak=\\\"\"+namebak+\"\\\" />\";\r\n	                                                                               }else{\r\n	                                                                               } \r\n	                                                                          }else{\r\n	                                                                             if(idval){\r\n	                                                                                if(idval.indexOf(\"chinglish\")>=0){\r\n	                                                                                    DIVHTML +=  \"<input type=\\\"\"+type+\"\\\" name=\\\"\"+name+\"_d\\\" id=\\\"\"+idval+\"_d\\\" value=\\\"\"+value+\"\\\" readonly=\\\"readonly\\\" />\";\r\n	                                                                                }\r\n	                                                                                if(type == 'checkbox'){\r\n	                                                                                      var onchange = tdObjs.getAttribute(\"onchange\");\r\n	                                                                                      var disabledVal = \"\";\r\n																						   var sourceJs = \"\";\r\n	                                                                                      if(onchange){\r\n	                                                                                           var reg =   eval(\"/\"+idval+\"/ig\");\r\n	                                                                                           onchange = onchange.replace(reg,idval+\"_d\");\r\n																							   sourceJs = \"var cks=document.getElementsByName('\"+idval+\"');for(var pk=0;pk<cks.length;pk++){if(cks[pk]){if(document.getElementById('\"+idval+\"').getAttribute('checked')&&document.getElementById('\"+idval+\"').getAttribute('checked')!='false'){cks[pk].setAttribute('value',1);}else{cks[pk].setAttribute('value',0);}}}\";\r\n	                                                                                      }else{\r\n	                                                                                          disabledVal = \"disabled\";\r\n	                                                                                      }\r\n																						   var checkedVal =\"\" ;\r\n																						   if(tdObjs.checked && tdObjs.getAttribute(\"checked\")!=\"false\"){\r\n																									checkedVal =\"checked\";\r\n																						   }\r\n	                                                                                    DIVHTML += \"<input onchange=\\\"\"+onchange+\";onChangeClick(this,\"+isedit+\",\"+groupid+\",\"+rowId+\",\"+elementCount+\");\"+sourceJs+\"\\\" \"+(checkedVal)+\"  name=\\\"\"+name+\"_d\\\" id=\\\"\"+idval+\"_d\\\" type=\\\"\"+type+\"\\\"  \"+disabledVal+\" />\"; \r\n	                                                                                }else{\r\n	                                                                                   if(tdObjs.getAttribute(\"onchange\")){\r\n	                                                                                      var onchange = tdObjs.getAttribute(\"onchange\");\r\n	                                                                                      var reg =   eval(\"/\"+idval+\"/ig\");\r\n	                                                                                      onchange = onchange.replace(reg,idval+\"_d\");\r\n	                                                                                        var classVal = tdObjs.getAttribute(\"class\");\r\n																							  if(classVal){\r\n																							       if(classVal == 'scroller_date'){ //\u65e5\u671f\r\n																							         	DIVHTML += \"<input onchange=\\\"\"+onchange+\";onChangeClick(this,\"+isedit+\",\"+groupid+\",\"+rowId+\",\"+elementCount+\");\\\" class=\\\"\"+classVal+\"\\\" type=\\\"\"+type+\"\\\" id=\\\"\"+idval+\"_d\\\" name=\\\"\"+name+\"_d\\\" namebak=\\\"\"+namebak+\"\\\" value=\\\"\"+value+\"\\\" readonly=\\\"readonly\\\" />\";\r\n																								        DIVHTML += \"<script language=\\\"javascript\\\">$('#\"+idval+\"_d').scroller({preset: 'date',dateFormat:'yy-mm-dd',theme: 'default',display: 'bottom', mode: 'scroller',endYear:2020,nowText:'\u4eca\u5929',setText:'\u786e\u5b9a',cancelText:'\u53d6\u6d88',monthText:'\u6708',yearText:'\u5e74',dayText:'\u65e5',showNow:true,dateOrder: 'yymmdd',onShow: moveDataTimeContorl});<\\/script>\";\r\n																							      }else if(classVal == 'scroller_time'){//\u65f6\u95f4\r\n																								      DIVHTML += \"<input onchange=\\\"\"+onchange+\";onChangeClick(this,\"+isedit+\",\"+groupid+\",\"+rowId+\",\"+elementCount+\");\\\" class=\\\"\"+classVal+\"\\\" type=\\\"\"+type+\"\\\" id=\\\"\"+idval+\"_d\\\" name=\\\"\"+name+\"_d\\\" namebak=\\\"\"+namebak+\"\\\" value=\\\"\"+value+\"\\\" readonly=\\\"readonly\\\" />\";\r\n																								      DIVHTML += \"<script language=\\\"javascript\\\">$('#\"+idval+\"_d').scroller({preset: 'time',timeFormat:'HH:ii',theme: 'default',display: 'bottom',mode: 'scroller',nowText:'\u73b0\u5728',setText:'\u786e\u5b9a',cancelText:'\u53d6\u6d88',minuteText:'\u5206',hourText:'\u65f6',timeWheels:'HHii',showNow:true,onShow: moveDataTimeContorl});<\\/script>\"; \r\n																							     }\r\n																							  }else{\r\n																							    if(tdObjs.getAttribute(\"fieldtype\")){\r\n																							         var fieldtype = tdObjs.getAttribute(\"fieldtype\");\r\n																									 DIVHTML += \"<input fieldtype=\\\"\"+fieldtype+\"\\\" type=\\\"\"+type+\"\\\" id=\\\"\"+idval+\"_d\\\" name=\\\"\"+name+\"_d\\\" namebak=\\\"\"+namebak+\"\\\" value=\\\"\"+value+\"\\\"  onchange=\\\"\"+onchange+\";\\\" />\"; \r\n																							    }else{\r\n																							         if(value.indexOf(\"\\\"\")!=-1){\r\n																							            value = value.replace(/\\\"/g,\"&quot;\");\r\n																							         }\r\n																							         DIVHTML += \"<input type=\\\"\"+type+\"\\\" id=\\\"\"+idval+\"_d\\\" name=\\\"\"+name+\"_d\\\" namebak=\\\"\"+namebak+\"\\\" value=\\\"\"+value+\"\\\" onchange=\\\"\"+onchange+\";onChangeClick(this,\"+isedit+\",\"+groupid+\",\"+rowId+\",\"+elementCount+\");\\\" />\";\r\n																						        }\r\n																						     }\r\n	                                                                                   }else{\r\n	                                                                                       var classVal = tdObjs.getAttribute(\"class\");\r\n																							if(classVal){\r\n																								if(classVal == 'scroller_date'){ //\u65e5\u671f\r\n																								DIVHTML += \"<input onchange=\\\"onChangeClick(this,\"+isedit+\",\"+groupid+\",\"+rowId+\",\"+elementCount+\");\\\" class=\\\"\"+classVal+\"\\\" type=\\\"\"+type+\"\\\" id=\\\"\"+idval+\"_d\\\" name=\\\"\"+name+\"_d\\\" namebak=\\\"\"+namebak+\"\\\" value=\\\"\"+value+\"\\\" readonly=\\\"readonly\\\" />\";\r\n																								DIVHTML += \"<script language=\\\"javascript\\\">$('#\"+idval+\"_d').scroller({preset: 'date',dateFormat:'yy-mm-dd',theme: 'default',display: 'bottom', mode: 'scroller',endYear:2020,nowText:'\u4eca\u5929',setText:'\u786e\u5b9a',cancelText:'\u53d6\u6d88',monthText:'\u6708',yearText:'\u5e74',dayText:'\u65e5',showNow:true,dateOrder: 'yymmdd',onShow: moveDataTimeContorl});<\\/script>\";\r\n																							 }else if(classVal == 'scroller_time'){//\u65f6\u95f4\r\n																								 DIVHTML += \"<input onchange=\\\"onChangeClick(this,\"+isedit+\",\"+groupid+\",\"+rowId+\",\"+elementCount+\");\\\" class=\\\"\"+classVal+\"\\\" type=\\\"\"+type+\"\\\" id=\\\"\"+idval+\"_d\\\" name=\\\"\"+name+\"_d\\\" namebak=\\\"\"+namebak+\"\\\" value=\\\"\"+value+\"\\\" readonly=\\\"readonly\\\" />\";\r\n																								 DIVHTML += \"<script language=\\\"javascript\\\">$('#\"+idval+\"_d').scroller({preset: 'time',timeFormat:'HH:ii',theme: 'default',display: 'bottom',mode: 'scroller',nowText:'\u73b0\u5728',setText:'\u786e\u5b9a',cancelText:'\u53d6\u6d88',minuteText:'\u5206',hourText:'\u65f6',timeWheels:'HHii',showNow:true,onShow: moveDataTimeContorl});<\\/script>\"; \r\n																							 }\r\n																							}else{\r\n																								 if(tdObjs.getAttribute(\"fieldtype\")){\r\n																									 var fieldtype = tdObjs.getAttribute(\"fieldtype\");\r\n																									 DIVHTML += \"<input fieldtype=\\\"\"+fieldtype+\"\\\" type=\\\"\"+type+\"\\\" id=\\\"\"+idval+\"_d\\\" name=\\\"\"+name+\"_d\\\" namebak=\\\"\"+namebak+\"\\\" value=\\\"\"+value+\"\\\" />\"; \r\n																								 }\r\n																							   \r\n																						   }\r\n\r\n\r\n	                                                                                   }\r\n	                                                                                }\r\n	                                                                             }else{\r\n	                                                                                  DIVHTML += \"<input type=\\\"\"+type+\"\\\" name=\\\"\"+name+\"_d\\\" namebak=\\\"\"+namebak+\"\\\" value=\\\"\"+value+\"\\\" />\"; \r\n	                                                                             }\r\n	                                                                             \r\n	                                                          \r\n	                                                                          }\r\n	                                                                        \r\n	                                                                    }\r\n	                                                                }\r\n	                                                           }\r\n	                                                      }\r\n	                                                     \r\n	                                                  }\r\n	                                                  \r\n	                                              }\r\n	                                        }\r\n	                                   } \r\n	                                }\r\n	                          }         \r\n                                                       \r\n                                              }\r\n                                          }\r\n                                       }\r\n                                   }\r\n                              }\r\n                         }\r\n						  }\r\n                      }\r\n                      DIVHTML += \"</td></tr>\";\r\n                  }\r\n                  elementCount ++ ;\r\n              }\r\n        }      \r\n        tableObj.innerHTML = DIVHTML;\r\n        document.getElementById(\"trspace\"+groupid+\"_\"+rowId).style.display =\"block\";\r\n        jQuery(document.getElementById(\"tdspace\"+groupid+\"_\"+rowId)).html(\"\");\r\n                //jQuery(document.getElementById(\"tdspace\"+groupid+\"_\"+rowId)).append(divObj);\r\n        jQuery(document.getElementById(\"tdspace\"+groupid+\"_\"+rowId)).append(tableObj);\r\n        jQuery(document.getElementById(\"tdspace\"+groupid+\"_\"+rowId)).css(\"width\",widthPosition);\r\n        jQuery(document.getElementById(\"trspace\"+groupid+\"_\"+rowId)).css(\"width\",widthPosition);\r\n        \r\n        try{dyeditPageFnaFyFun(groupid,rowId,fieldCount,isedit,isdisplay);}catch(ex){}\r\n   }\r\n   \r\n   //\u79fb\u52a8\u5230tr\u4e0a\u7684\u4e8b\u4ef6\r\n   function trMouseOver(groupId,rowId){\r\n        var trspaceObj =  document.getElementById(\"trspace\"+groupId+\"_\"+rowId);\r\n        if(trspaceObj.style.display == \"none\"){\r\n         document.getElementById(\"a\"+groupId+\"_\"+rowId).onclick();\r\n         if(document.getElementById(\"table\"+groupId).style.width){\r\n             jQuery(document.getElementById(\"table\"+groupId)).css(\"width\",\"\");\r\n         }\r\n        }else{\r\n           detailtableMouseOut(groupId,rowId);  \r\n        }\r\n   }\r\n   \r\n   //\u79fb\u51fatr\u4e0a\u7684\u4e8b\u4ef6\r\n   function trMouseOut(groupId,rowId){\r\n      document.getElementById(\"trspace\"+groupId+\"_\"+rowId).style.display =\"none\";\r\n       if(document.getElementById(\"table\"+groupId).style.width){\r\n             jQuery(document.getElementById(\"table\"+groupId)).css(\"width\",\"\");\r\n         }\r\n   }\r\n   //\u660e\u7ec6\u8868\u4e2d\u79fb\u4e0a\u53bb\u7684\u65f6\u5019\u663e\u793a\r\n   function detailtableMouseOver(groupId,rowId){\r\n       document.getElementById(\"trspace\"+groupId+\"_\"+rowId).style.display =\"block\";\r\n        if(document.getElementById(\"table\"+groupId).style.width){\r\n             jQuery(document.getElementById(\"table\"+groupId)).css(\"width\",\"\");\r\n         }\r\n   }\r\n   //\u660e\u7ec6\u8868\u4e2d\u79fb\u51fa\u7684\u65f6\u5019\u4e0d\u663e\u793a\uff0c\u5e76\u4e14\u540c\u6b65\u8be5\u8868\u683c\u6570\u636e\u5230\u4e3b\u8868\u4e2d\r\n   function detailtableMouseOut(groupId,rowId){\r\n     jQuery(document.getElementById(\"trspace\"+groupId+\"_\"+rowId)).slideUp();\r\n       if(document.getElementById(\"table\"+groupId).style.width){\r\n             jQuery(document.getElementById(\"table\"+groupId)).css(\"width\",\"\");\r\n       }\r\n   }\r\n   \r\n   //\u70b9\u51fb\u660e\u7ec6\u8868\u7684\u6570\u636e\uff0c\u540c\u6b65\u5230\u4e3b\u8868\u76f8\u5bf9\u5e94\u7684\u5b57\u6bb5 \u76ee\u524d\u4f7f\u7528\u6b64\u65b9\u6cd5\r\n   function onChangeClick(obj,isedit,groupId,rowId,colId){\r\n     colId = colId -2; //\u524d\u9762\u5305\u542b\u4e862\u5217\r\n     if(isedit){\r\n           if(obj.nodeType == 1){\r\n	           if(obj.nodeName == \"INPUT\"){\r\n	               var id   = obj.getAttribute(\"id\");\r\n	               var type = obj.getAttribute(\"type\");\r\n	               var name = obj.getAttribute(\"name\");\r\n	               var copyid = id.substring(0,id.lastIndexOf(\"_d\"));\r\n	               if(\"\" == copyid){copyid = id;}\r\n	                  \r\n	               if(type == 'checkbox'){\r\n	                  if(obj.checked){\r\n	                       document.getElementById(copyid).checked = true; \r\n						   document.getElementById(id).checked = true; \r\n	                  }else{\r\n	                      document.getElementById(copyid).checked = false;\r\n						  document.getElementById(id).checked = false; \r\n	                  }  \r\n	               }else{\r\n	                  //\u5224\u65ad\u662f\u5426\u4e3a\u91d1\u989d\u5343\u5206\u4f4d\r\n	                  if(obj.getAttribute(\"datavaluetype\")){\r\n	                       var datavaluetype = obj.getAttribute(\"datavaluetype\");\r\n	                       if(datavaluetype == 5){\r\n	                           var re;\r\n	                           if(obj.value.indexOf(\".\")<0){\r\n	                                  re = /(\\d{1,3})(?=(\\d{3})+($))/g;\r\n	                            }else{\r\n	                                  re = /(\\d{1,3})(?=(\\d{3})+(\\.))/g;\r\n	                            }\r\n	                           var tovalue = obj.value.replace(re,\"$1,\");\r\n	                           document.getElementById(id).setAttribute(\"value\",tovalue);\r\n	                           document.getElementById(copyid).setAttribute(\"value\",tovalue);\r\n	                           document.getElementById(copyid).value = tovalue;\r\n	                       }else{\r\n	                           document.getElementById(id).setAttribute(\"value\",document.getElementById(id).value);\r\n	                           document.getElementById(copyid).setAttribute(\"value\",document.getElementById(id).value);\r\n	                           document.getElementById(copyid).value = document.getElementById(id).value; \r\n	                       }\r\n	                  }else{\r\n	                      document.getElementById(id).setAttribute(\"value\",document.getElementById(id).value);\r\n	                      document.getElementById(copyid).setAttribute(\"value\",document.getElementById(id).value);\r\n	                      document.getElementById(copyid).value = document.getElementById(id).value; \r\n	                  }\r\n	               }\r\n	           }\r\n	           if(obj.nodeName == \"SELECT\"){\r\n	               var id   = obj.getAttribute(\"id\");\r\n	               var name = obj.getAttribute(\"name\");\r\n	               var copyid = id.substring(0,id.lastIndexOf(\"_d\"));\r\n	               if(\"\" == copyid){copyid = id;}\r\n	               var targetObj = document.getElementById(copyid);\r\n	               \r\n	               for(var i=0;i<obj.options.length;i++){\r\n	                    if(obj.options[i].selected){\r\n	                         targetObj.options[i].selected = true; \r\n	                    }else{\r\n	                         targetObj.options[i].selected = false; \r\n	                    }\r\n	               }\r\n\r\n				   if(document.getElementById(copyid+\"child\")){\r\n	                 try{\r\n					     var selChange = targetObj.getAttribute(\"onchange\");\r\n					     if(selChange.indexOf(\"changeChildFieldDetail\")!=-1){\r\n					          targetObj.value = obj.value;\r\n					          jQuery(targetObj).trigger(\"onchange\");\r\n					     }\r\n					   }catch(e){}\r\n					}\r\n\r\n	               \r\n	           }\r\n	           if(obj.nodeName == \"TEXTAREA\"){\r\n	               var id   = obj.getAttribute(\"id\");\r\n	               var name = obj.getAttribute(\"name\");\r\n	               var copyid = id.substring(0,id.lastIndexOf(\"_d\"));\r\n	               if(\"\" == copyid){copyid = id;}\r\n	                document.getElementById(id).innerHTML = \"\";\r\n	                document.getElementById(id).innerHTML = obj.value;\r\n	                document.getElementById(id).setAttribute(\"value\",obj.value);\r\n	                document.getElementById(copyid).innerHTML = \"\";\r\n	                document.getElementById(copyid).innerHTML =   obj.value;\r\n	                document.getElementById(copyid).setAttribute(\"value\",obj.value);\r\n	               \r\n	           }\r\n	      }  \r\n     }else{\r\n	         if(obj.nodeType == 1){\r\n	           if(obj.nodeName == \"INPUT\"){\r\n	               var id   = obj.getAttribute(\"id\");\r\n	               var type = obj.getAttribute(\"type\");\r\n	               var name = obj.getAttribute(\"name\");\r\n	               var copyid = id.substring(0,id.lastIndexOf(\"_d\"));\r\n	               if(\"\" == copyid){copyid = id;}\r\n	                  \r\n	               if(type == 'checkbox'){\r\n	                   var name=obj.getAttribute(\"name\");\r\n	                  var checkHtml = \"<input type=\\\"checkbox\\\" id=\\\"\"+id+\"\\\" name=\\\"\"+name+\"\\\"  \"+(obj.checked?\"checked\":\"\")+\" disabled  \\><label for=\\\"\"+id+\"\\\"></label>\";\r\n	                  document.getElementById(\"isshow\"+groupId+\"_\"+rowId+\"_\"+colId+\"\").innerHTML = checkHtml;\r\n	                  if(obj.checked){\r\n						   document.getElementById(copyid).setAttribute(\"checked\",\"true\");\r\n						   if(document.getElementById(copyid).getAttribute(\"onchange\")){\r\n							    document.getElementById(copyid).onchange(); \r\n						   }\r\n						    document.getElementById(id).setAttribute(\"checked\",\"true\");\r\n	                  }else{\r\n						  document.getElementById(copyid).setAttribute(\"checked\",\"false\");\r\n						 if(document.getElementById(copyid).getAttribute(\"onchange\")){\r\n							    document.getElementById(copyid).onchange(); \r\n						   }\r\n						  document.getElementById(id).setAttribute(\"checked\",\"false\");\r\n\r\n	                  }\r\n	               }else{\r\n	                  //\u5224\u65ad\u662f\u5426\u4e3a\u91d1\u989d\u5343\u5206\u4f4d\r\n	                  if(obj.getAttribute(\"datavaluetype\")){\r\n	                       var datavaluetype = obj.getAttribute(\"datavaluetype\");\r\n	                       if(datavaluetype == 5){ //\u91d1\u989d\u5343\u5206\u4f4d\r\n	                           var re;\r\n	                           if(obj.value.indexOf(\".\")<0){\r\n	                                  re = /(\\d{1,3})(?=(\\d{3})+($))/g;\r\n	                            }else{\r\n	                                  re = /(\\d{1,3})(?=(\\d{3})+(\\.))/g;\r\n	                            }\r\n	                           var tovalue = obj.value.replace(re,\"$1,\");\r\n	                           document.getElementById(id).setAttribute(\"value\",tovalue);\r\n	                           document.getElementById(copyid).setAttribute(\"value\",tovalue);\r\n	                           document.getElementById(copyid).value = tovalue; \r\n	                           document.getElementById(\"isshow\"+groupId+\"_\"+rowId+\"_\"+colId+\"\").innerHTML =tovalue; \r\n							   //\u5224\u65ad\u5fc5\u586b\u7684\u9a8c\u8bc1\r\n							    var idSplitIdStr =id+\"_ismandspan\";\r\n							    var ismandObj=document.getElementById(idSplitIdStr);\r\n							    if(ismandObj){\r\n								 if(document.getElementById(id).value && document.getElementById(id).value!=\"\"){\r\n												 ismandObj.style.display = \"none\";\r\n									 }else{\r\n											 ismandObj.style.display = \"block\";\r\n									}\r\n								}\r\n	                       }else if(datavaluetype == 3||datavaluetype == 2||datavaluetype == 4){ //\u6d6e\u70b9\u6570\u4e0e\u6574\u6570\r\n	                            document.getElementById(id).setAttribute(\"value\",document.getElementById(id).value);\r\n	                             document.getElementById(copyid).setAttribute(\"value\",document.getElementById(id).value);\r\n	                             document.getElementById(copyid).value = document.getElementById(id).value;\r\n	                             var datalength = obj.getAttribute(\"datalength\");\r\n	                             if(datavaluetype == 4){ //\u91d1\u989d\u8f6c\u6362\r\n									  var moneyFormat = document.getElementById(id).value.replace(/,/g,'');\r\n									    if(moneyFormat == '' || moneyFormat == '0' ){\r\n											 moneyFormat =  \"0.00\";\r\n										}else{\r\n                                             moneyFormat = milfloatFormat(toPrecision(moneyFormat,datalength));\r\n										}\r\n	                                   document.getElementById(\"isshow\"+groupId+\"_\"+rowId+\"_\"+colId+\"\").innerHTML = numberChangeToChinese(toPrecision(document.getElementById(id).value.replace(/,/g,''),datalength));\r\n	                                   document.getElementById(\"isshow\"+groupId+\"_\"+rowId+\"_\"+colId+\"\").innerHTML += \"(\"+moneyFormat+\")\";\r\n									   //\u91d1\u989d\u8f6c\u6362\u9700\u8981\u5c06label\u53bb\u6389\u8d4b\u503c\r\n									   if(copyid.indexOf(\"_\")>=0){\r\n										    var copyidSplit = copyid.split(\"_\");\r\n											var copyidSplitIdStr =copyidSplit[0]+copyidSplit[1].replace(/lable/g,\"\")+\"_\"+copyidSplit[2];\r\n											document.getElementById(copyidSplitIdStr).setAttribute(\"value\",toPrecision(document.getElementById(id).value.replace(/,/g,''),datalength));\r\n									   }\r\n									    //\u5224\u65ad\u5fc5\u586b\u7684\u9a8c\u8bc1\r\n									   if(id.indexOf(\"_\")>=0){\r\n										    var idSplit = id.split(\"_\");\r\n											var idSplitIdStr =idSplit[0]+idSplit[1].replace(/lable/g,\"\")+\"_\"+idSplit[2]+\"_d_ismandspan\";\r\n											var ismandObj=document.getElementById(idSplitIdStr);\r\n											if(ismandObj){\r\n												   if(document.getElementById(id).value && document.getElementById(id).value!=\"\"){\r\n													    ismandObj.style.display = \"none\";\r\n												   }else{\r\n													    ismandObj.style.display = \"block\";\r\n												   }\r\n											}\r\n									   }\r\n	                             }else{\r\n	                                  document.getElementById(\"isshow\"+groupId+\"_\"+rowId+\"_\"+colId+\"\").innerHTML = toPrecision(document.getElementById(id).value,datalength);\r\n									   //\u5224\u65ad\u5fc5\u586b\u7684\u9a8c\u8bc1\r\n										var idSplitIdStr =id+\"_ismandspan\";\r\n										var ismandObj=document.getElementById(idSplitIdStr);\r\n										if(ismandObj){\r\n											 if(document.getElementById(id).value && document.getElementById(id).value!=\"\"){\r\n													  ismandObj.style.display = \"none\";\r\n											 }else{\r\n													  ismandObj.style.display = \"block\";\r\n											}\r\n										}\r\n	                             }\r\n	                       }else{\r\n	                           document.getElementById(id).setAttribute(\"value\",document.getElementById(id).value);\r\n	                           document.getElementById(copyid).setAttribute(\"value\",document.getElementById(id).value);\r\n	                           document.getElementById(copyid).value = document.getElementById(id).value;\r\n	                           document.getElementById(\"isshow\"+groupId+\"_\"+rowId+\"_\"+colId+\"\").innerHTML =document.getElementById(id).value; \r\n							    //\u5224\u65ad\u5fc5\u586b\u7684\u9a8c\u8bc1\r\n							    var idSplitIdStr =id+\"_ismandspan\";\r\n							    var ismandObj=document.getElementById(idSplitIdStr);\r\n							    if(ismandObj){\r\n								 if(document.getElementById(id).value && document.getElementById(id).value!=\"\"){\r\n												 ismandObj.style.display = \"none\";\r\n									 }else{\r\n											 ismandObj.style.display = \"block\";\r\n									}\r\n								}\r\n	                       }\r\n	                  }else{\r\n	                      document.getElementById(id).setAttribute(\"value\",document.getElementById(id).value);\r\n	                      document.getElementById(copyid).setAttribute(\"value\",document.getElementById(id).value);\r\n	                      document.getElementById(copyid).value = document.getElementById(id).value; \r\n	                      document.getElementById(\"isshow\"+groupId+\"_\"+rowId+\"_\"+colId+\"\").innerHTML =document.getElementById(id).value; \r\n						   //\u5224\u65ad\u5fc5\u586b\u7684\u9a8c\u8bc1\r\n						  var idSplitIdStr =id+\"_ismandspan\";\r\n						  var ismandObj=document.getElementById(idSplitIdStr);\r\n						  if(ismandObj){\r\n							 if(document.getElementById(id).value && document.getElementById(id).value!=\"\"){\r\n									ismandObj.style.display = \"none\";\r\n							}else{\r\n									 ismandObj.style.display = \"block\";\r\n							}\r\n						 }\r\n	                  }\r\n	               }\r\n	           }\r\n	           if(obj.nodeName == \"SELECT\"){\r\n	               var id   = obj.getAttribute(\"id\");\r\n	               var name = obj.getAttribute(\"name\");\r\n	               var copyid = id.substring(0,id.lastIndexOf(\"_d\"));\r\n	               if(\"\" == copyid){copyid = id;}\r\n	               var targetObj = document.getElementById(copyid);\r\n\r\n	               var selectNameVal = \"\";\r\n	               for(var i=0;i<obj.options.length;i++){\r\n	                    if(obj.options[i].selected){\r\n	                         targetObj.options[i].selected = true; \r\n	                         selectNameVal = obj.options[i].innerHTML;\r\n	                    }else{\r\n	                         targetObj.options[i].selected = false; \r\n	                    }\r\n	               }\r\n	               document.getElementById(\"isshow\"+groupId+\"_\"+rowId+\"_\"+colId+\"\").innerHTML = selectNameVal;\r\n	               if(document.getElementById(copyid+\"child\")){\r\n	                 try{\r\n					     var selChange = targetObj.getAttribute(\"onchange\");\r\n					     if(selChange.indexOf(\"changeChildFieldDetail\")!=-1){\r\n					          targetObj.value = obj.value;\r\n					          jQuery(targetObj).trigger(\"onchange\");\r\n					     }\r\n					   }catch(e){}\r\n					}\r\n				   //\u5224\u65ad\u5fc5\u586b\u7684\u9a8c\u8bc1\r\n					var idSplitIdStr =id+\"_ismandspan\";\r\n					var ismandObj=document.getElementById(idSplitIdStr);\r\n				    if(ismandObj){\r\n						if(selectNameVal!=\"\"){\r\n								ismandObj.style.display = \"none\";\r\n					    }else{\r\n							    ismandObj.style.display = \"block\";\r\n						}\r\n					}\r\n	           }\r\n	           if(obj.nodeName == \"TEXTAREA\"){\r\n	               var id   = obj.getAttribute(\"id\");\r\n	               var name = obj.getAttribute(\"name\");\r\n	               var copyid = id.substring(0,id.lastIndexOf(\"_d\"));\r\n	               if(\"\" == copyid){copyid = id;}\r\n	                document.getElementById(id).innerHTML = \"\";\r\n	                document.getElementById(id).innerHTML = obj.value;\r\n	                document.getElementById(id).setAttribute(\"value\",obj.value);\r\n	                document.getElementById(copyid).innerHTML = \"\";\r\n	                document.getElementById(copyid).innerHTML =   obj.value;\r\n	                document.getElementById(copyid).setAttribute(\"value\",obj.value);\r\n	                document.getElementById(\"isshow\"+groupId+\"_\"+rowId+\"_\"+colId+\"\").innerHTML = obj.value;\r\n					 //\u5224\u65ad\u5fc5\u586b\u7684\u9a8c\u8bc1\r\n					var idSplitIdStr =id+\"_ismandspan\";\r\n					var ismandObj=document.getElementById(idSplitIdStr);\r\n				    if(ismandObj){\r\n						if(obj.value&& obj.value!=\"\"){\r\n									ismandObj.style.display = \"none\";\r\n					    }else{\r\n									 ismandObj.style.display = \"block\";\r\n						}\r\n					}\r\n	           }\r\n	      }\r\n     }\r\n      \r\n   }\r\n   \r\n   //\u5c06value\u503c\u53d8\u66f4\u6210\u6700\u65b0\u7684\u6570\u636e\r\n   function onchangeData(obj){\r\n        if(obj.nodeType == 1){\r\n            if(obj.nodeName == \"INPUT\"){\r\n              var copyid = obj.getAttribute(\"id\");\r\n              if(copyid){\r\n                   obj.setAttribute(\"value\",obj.value);\r\n                   //document.getElementById(copyid+\"_d\").value = obj.value;\r\n                   //document.getElementById(copyid+\"_d\").setAttribute(\"value\",obj.value);\r\n              }\r\n           }\r\n           if(obj.nodeName == \"SELECT\"){\r\n             \r\n           }\r\n           if(obj.nodeName == \"TEXTAREA\"){\r\n               \r\n           } \r\n        }\r\n   }\r\n   \r\n   //\u540c\u6b65\u6570\u636e\u5230\u8868\u683c\u4e2d\u53bb\r\n   function sysData(groupId,rowId){\r\n       var tdspaceObj=document.getElementById(\"tdspace\"+groupId+\"_\"+rowId);\r\n       var spacesNodes=tdspaceObj.childNodes;\r\n       for(var i=0;i<spacesNodes.length;i++){\r\n           if(spacesNodes[i].nodeType == 1){\r\n              var tBodyNodesObj=spacesNodes[i].childNodes;\r\n              for(var j=0;j<tBodyNodesObj.length;j++){\r\n                  if(tBodyNodesObj[i].nodeType == 1){\r\n                     var ttrNodesObjs=tBodyNodesObj[i].childNodes;\r\n                     for(var k=0;k<ttrNodesObjs.length;k++){\r\n                         var ttdNodesObjs=ttrNodesObjs[k].childNodes;\r\n                          for(var m=0;m<ttdNodesObjs.length;m++){\r\n                              var tvalueNodesObjs =  ttdNodesObjs[m].childNodes;\r\n                              for(var n=0;n<tvalueNodesObjs.length;n++){\r\n                                 if(tvalueNodesObjs[n].nodeType == 1){\r\n                                     var tvlaueObjs =  tvalueNodesObjs[n];\r\n                                     var id=tvlaueObjs.getAttribute(\"id\");\r\n                                     if(id){\r\n                                         var copyid = id.substring(0,id.lastIndexOf(\"_d\"));\r\n                                         if(\"\" == copyid){copyid = id;}\r\n                                         if(tvlaueObjs.nodeName == \"INPUT\"){\r\n                                              document.getElementById(id).setAttribute(\"value\",document.getElementById(id).value);\r\n                                              document.getElementById(copyid).setAttribute(\"value\",document.getElementById(id).value);\r\n                                              document.getElementById(copyid).value = document.getElementById(id).value;\r\n                                         }\r\n                                         if(tvlaueObjs.nodeName == \"SELECT\"){\r\n                                         \r\n                                         }\r\n                                         if(tvlaueObjs.nodeName == \"TEXTAREA\"){\r\n                                              document.getElementById(copyid).innerHTML =  document.getElementById(id).innerHTML;\r\n                                         }   \r\n                                     }\r\n                                 }   \r\n                              }\r\n                          }\r\n                     }\r\n                  }\r\n              }\r\n           }\r\n       }\r\n   }\r\n   \r\n /**\r\n * \u963b\u6b62\u4e8b\u4ef6\u5192\u6ce1\r\n * @param e \u4e8b\u4ef6event \r\n * @param handler \u4e8b\u4ef6\u6e90\u5bf9\u8c61\r\n * @return \u5f53\u4e14\u4ec5\u5f53\u65f6\u95f4\u6e90\u5bf9\u8c61\u4e3ahandle\u65f6\uff0c\u8fd4\u56detrue\r\n */\r\nfunction isMouseLeaveOrEnter(e, handler) {\r\n    if (e.type != 'click') return false;\r\n    var reltg = e.relatedTarget ? e.relatedTarget : e.type == 'click' ? e.toElement : e.fromElement;\r\n    while (reltg && reltg != handler)\r\n        reltg = reltg.parentNode;\r\n    return (reltg != handler);\r\n}\r\n\r\n\r\n\r\n</script>".toCharArray();
  }
}
