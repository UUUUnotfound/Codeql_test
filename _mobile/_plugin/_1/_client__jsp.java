/*
 * JSP generated by Resin-3.1.8 (built Mon, 17 Nov 2008 12:15:21 PST)
 */

package _jsp._mobile._plugin._1;
import javax.servlet.*;
import javax.servlet.jsp.*;
import javax.servlet.http.*;
import weaver.fna.maintenance.FnaCostCenter;
import java.util.*;
import org.apache.commons.lang.StringUtils;
import weaver.general.*;
import weaver.hrm.*;
import weaver.systeminfo.*;
import weaver.mobile.plugin.ecology.RequestOperation;
import weaver.mobile.webservices.workflow.*;
import weaver.conn.RecordSet;
import weaver.mobile.webservices.common.HtmlUtil;
import weaver.workflow.request.WorkflowSpeechAppend;
import weaver.mobile.webservices.common.FIFOLinkedHashMap;
import weaver.workflow.datainput.DynamicDataInput;
import org.apache.commons.logging.Log;
import org.apache.commons.logging.LogFactory;
import weaver.docs.docs.DocManager;
import weaver.hrm.resource.ResourceComInfo;
import weaver.mobile.webservices.workflow.WorkflowRequestTableRecord;
import weaver.mobile.webservices.workflow.WorkflowRequestTableField;
import weaver.mobile.webservices.workflow.WorkflowServiceUtil;

public class _client__jsp extends com.caucho.jsp.JavaPage
{
  private static final java.util.HashMap<String,java.lang.reflect.Method> _jsp_functionMap = new java.util.HashMap<String,java.lang.reflect.Method>();
  private boolean _caucho_isDead;
  
  public void
  _jspService(javax.servlet.http.HttpServletRequest request,
              javax.servlet.http.HttpServletResponse response)
    throws java.io.IOException, javax.servlet.ServletException
  {
    javax.servlet.http.HttpSession session = request.getSession(true);
    com.caucho.server.webapp.WebApp _jsp_application = _caucho_getApplication();
    javax.servlet.ServletContext application = _jsp_application;
    com.caucho.jsp.PageContextImpl pageContext = _jsp_application.getJspApplicationContext().allocatePageContext(this, _jsp_application, request, response, null, session, 8192, true, false);
    javax.servlet.jsp.PageContext _jsp_parentContext = pageContext;
    javax.servlet.jsp.JspWriter out = pageContext.getOut();
    final javax.el.ELContext _jsp_env = pageContext.getELContext();
    javax.servlet.ServletConfig config = getServletConfig();
    javax.servlet.Servlet page = this;
    response.setContentType("text/html; charset=UTF-8");
    request.setCharacterEncoding("UTF-8");
    try {
      out.write(_jsp_string0, 0, _jsp_string0.length);
      
request.setCharacterEncoding("UTF-8");
response.setContentType("text/html;charset=UTF-8");

RecordSet rsFna = new RecordSet();

String detailid = Util.null2String(request.getParameter("detailid"));
String module = Util.null2String(request.getParameter("module"));
String scope = Util.null2String(request.getParameter("scope"));
String title = Util.null2String(request.getParameter("title"));
String clienttype = Util.null2String(request.getParameter("clienttype"));
String clientlevel = Util.null2String(request.getParameter("clientlevel"));
String clientVer = Util.null2String(request.getParameter("clientver"));
String serverVer = Util.null2String(request.getParameter("serverver"));
String type = Util.null2String(request.getParameter("type"));
String strIsPreLoad = Util.null2String(request.getParameter("isPreLoad"));
String clientosver = Util.null2String(request.getParameter("clientosver"));

User user = HrmUserVarify.getUser (request , response) ;
if(user == null)  return ;

char flag=Util.getSeparator() ;
int userid=user.getUID();

//\u4ec5\u4ec5\u5728\u521b\u5efa\u6d41\u7a0b\u65f6\u5019\uff0c\u624d\u4ecerequest.getParameter\u53d6workflowid\u503c
String workflowid = Util.null2String(request.getParameter("workflowid"));
//\u5224\u65ad\u5f53\u524d\u5ba2\u6237\u7aef\u7a0b\u5e8f\u7248\u672c\u662f\u5426\u9ad8\u4e8e4.5
boolean flagClientVersion4_5 = RequestOperation.compareVersion(clientVer, RequestOperation.VERSION_45);
//\u5224\u65ad\u5f53\u524dMobile\u7a0b\u5e8f\u7248\u672c\u662f\u5426\u9ad8\u4e8e4.5
boolean flagServerVersion4_5 = RequestOperation.compareVersion(serverVer, RequestOperation.VERSION_45);
WorkflowServiceUtil.mobileVersion45 = flagServerVersion4_5;
WorkflowServiceUtil.clientMobileVersion45 = flagClientVersion4_5;
WorkflowServiceUtil.androidclienttype = "android".equals(clienttype) ;
WorkflowServiceUtil.androidclientosver = clientosver.compareTo("4.1.1")>=0;
boolean isPreLoad = "1".equals(strIsPreLoad);

int requestid = 0;
String userSignRemark = "";
String forwardresourceids = "";
String clientip = "";
WorkflowRequestInfo workflowRequestInfo = null;
String workflowHtmlShow = "";
String fromWF = "";
HttpServletRequest req = request;

requestid = Util.getIntValue(req.getParameter("requestid"), -1);
if (requestid == -1) {
	requestid = Util.getIntValue(detailid);
}

String method = Util.null2String(request.getParameter("method"));
//\u5982\u679cmethod\u503c\u4e3a\u7a7a\uff0c\u4e14requestId\u503c\u4e3a0\u6216-1\u5219\u4e3a\u521b\u5efa\u6d41\u7a0b
if("".equals(method) && requestid <= 0){
	method = "create";
	type = "create";
}

int fromRequestid = Util.getIntValue(req.getParameter("fromRequestid"), 0);
String sessionkey = Util.null2String(request.getParameter("sessionkey"));
if(requestid<=0&&Util.getIntValue(workflowid)<=0) {
	response.sendRedirect("/mobile/plugin/1/createlist.jsp?sessionkey="+sessionkey+"&module="+module+"&scope="+scope+"&clienttype="+clienttype+"&clientlevel="+clientlevel);
	return;
}


WorkflowService workflowWebService = new WorkflowServiceImpl();
WorkflowServiceUtil workflowServiceUtil = new WorkflowServiceUtil();
boolean iscanedit = workflowServiceUtil.iscanEdit(userid,requestid);

String wfReqInfoKey = "";

if ("create".equals(method)) {
	workflowRequestInfo = workflowWebService.getCreateWorkflowRequestInfo(Util.getIntValue(workflowid), userid);
	wfReqInfoKey = sessionkey + "_"+ workflowRequestInfo.getWorkflowBaseInfo().getWorkflowId() + "_"+ userid;
} else {
	workflowRequestInfo = workflowWebService.getWorkflowRequest4split(requestid, userid, fromRequestid, 5, isPreLoad);
	if(!isPreLoad){
		//\u66f4\u65b0\u65b0\u5230\u6d41\u7a0b\u4e3a\u5df2\u67e5\u770b\u72b6\u6001\u3002
		workflowWebService.writeWorkflowReadFlag(String.valueOf(requestid), String.valueOf(userid));
		//key\u683c\u5f0f: \u4f1a\u8bddID_\u6d41\u7a0bID_\u8bf7\u6c42ID_\u7528\u6237ID
		wfReqInfoKey = sessionkey + "_" + workflowRequestInfo.getWorkflowBaseInfo().getWorkflowId() + "_" + requestid + "_"+ userid;
	}
}
//\u653e\u5165\u7f13\u5b58
if (workflowRequestInfo != null && !"".equals(wfReqInfoKey)) {
	StaticObj staticObj = StaticObj.getInstance();
	synchronized(staticObj){
		Map mapWfReqInfos = (Map)staticObj.getObject("MOBILE_WORKFLOWREQUESTINFO_CACHE");
		if(mapWfReqInfos == null){
			mapWfReqInfos = new FIFOLinkedHashMap(10000);
			staticObj.putObject("MOBILE_WORKFLOWREQUESTINFO_CACHE", mapWfReqInfos);	
		}
		mapWfReqInfos.put(wfReqInfoKey, workflowRequestInfo);
	}
}

if(workflowRequestInfo==null){
	//\u6ca1\u6709\u6743\u9650
}
if(!workflowRequestInfo.isCanView()) {
	//\u6ca1\u6709\u6743\u9650
}

if(workflowRequestInfo.getWorkflowHtmlShow()!=null){
	workflowHtmlShow = StringUtils.defaultIfEmpty(workflowRequestInfo.getWorkflowHtmlShow()[0],"");
} else {
	workflowHtmlShow = "";
}
workflowid = workflowRequestInfo.getWorkflowBaseInfo().getWorkflowId();
int[] annexDocCategory = weaver.workflow.workflow.WorkflowComInfo.getAnnexDocCategory(workflowid);
String nodeId = workflowRequestInfo.getCurrentNodeId();

String isBill = workflowRequestInfo.getWorkflowBaseInfo().getIsBill();
String formId = workflowRequestInfo.getWorkflowBaseInfo().getFormId();
boolean flagForwardReceiveDef = "1".equals(workflowRequestInfo.getWorkflowBaseInfo().getIsForwardReceiveDef());

int userLanguage = user.getLanguage();
userLanguage = (userLanguage == 0) ? 7:userLanguage;

String request_fieldShowValue = "";
String request_fieldShowIndex = "";
boolean hasOperation = (workflowRequestInfo.getSubmitButtonName() != null && !workflowRequestInfo.getSubmitButtonName().equals(""))
	||(workflowRequestInfo.getSubnobackButtonName()!=null&&!workflowRequestInfo.getSubnobackButtonName().equals(""))
	||(workflowRequestInfo.getSubbackButtonName()!=null&&!workflowRequestInfo.getSubbackButtonName().equals(""))
	||(workflowRequestInfo.getForwardButtonName()!=null&&!workflowRequestInfo.getForwardButtonName().equals(""));
//\u81ea\u7531\u6d41\u7a0b\u76f8\u5173\u4fe1\u606f
weaver.workflow.request.WorkflowIsFreeStartNode stnode=new weaver.workflow.request.WorkflowIsFreeStartNode();
String nodeidss= stnode.getIsFreeStartNode(""+nodeId);
String freedis=stnode.getNodeid(nodeidss);
String isornotFree=stnode.isornotFree(""+nodeId);
//\u5224\u65ad\u662f\u4e0d\u662f\u521b\u5efa\u4fdd\u5b58
String isreject="";
boolean iscreate=stnode.IScreateNode(""+requestid); 
 if(!isornotFree.equals("")&&!freedis.equals("")&&!iscreate){
  isreject = "1";
}
String zjclNodeid=stnode.getIsFreeStart01Node(""+nodeId);

      out.write(_jsp_string1, 0, _jsp_string1.length);
      out.print((SystemEnv.getHtmlLabelName(558, userLanguage)));
      out.write(_jsp_string2, 0, _jsp_string2.length);
      out.print((SystemEnv.getHtmlLabelName(30490, userLanguage)));
      out.write(_jsp_string3, 0, _jsp_string3.length);
      out.print((SystemEnv.getHtmlLabelName(23271, userLanguage)));
      out.write(_jsp_string4, 0, _jsp_string4.length);
      out.print((SystemEnv.getHtmlLabelName(24569, userLanguage)));
      out.write(_jsp_string5, 0, _jsp_string5.length);
      out.print((SystemEnv.getHtmlLabelName(21624, userLanguage)));
      out.write(_jsp_string6, 0, _jsp_string6.length);
      out.print((SystemEnv.getHtmlLabelName(24033, userLanguage)));
      out.write(_jsp_string7, 0, _jsp_string7.length);
      out.print((SystemEnv.getHtmlLabelName(21721, userLanguage)));
      out.write(_jsp_string8, 0, _jsp_string8.length);
      out.print((SystemEnv.getHtmlLabelName(21720, userLanguage)));
      out.write(_jsp_string9, 0, _jsp_string9.length);
      out.print((SystemEnv.getHtmlLabelName(24045, userLanguage)));
      out.write(_jsp_string10, 0, _jsp_string10.length);
      out.print((SystemEnv.getHtmlLabelName(24044, userLanguage)));
      out.write(_jsp_string11, 0, _jsp_string11.length);
      out.print((clienttype));
      out.write(_jsp_string12, 0, _jsp_string12.length);
      out.print((userid));
      out.write(_jsp_string13, 0, _jsp_string13.length);
      out.print((sessionkey ));
      out.write(_jsp_string14, 0, _jsp_string14.length);
      out.print((module ));
      out.write(_jsp_string15, 0, _jsp_string15.length);
      out.print((scope ));
      out.write(_jsp_string16, 0, _jsp_string16.length);
      out.print((fromRequestid ));
      out.write(_jsp_string17, 0, _jsp_string17.length);
      out.print((requestid ));
      out.write(_jsp_string18, 0, _jsp_string18.length);
      out.print((workflowRequestInfo.getCurrentNodeId() ));
      out.write(_jsp_string19, 0, _jsp_string19.length);
      out.print((clientlevel));
      out.write(_jsp_string20, 0, _jsp_string20.length);
      out.print((clientVer ));
      out.write(_jsp_string21, 0, _jsp_string21.length);
      out.print((workflowid));
      out.write(_jsp_string22, 0, _jsp_string22.length);
      out.print((clienttype));
      out.write(_jsp_string23, 0, _jsp_string23.length);
      out.print((isBill ));
      out.write(_jsp_string24, 0, _jsp_string24.length);
      out.print((formId));
      out.write(_jsp_string25, 0, _jsp_string25.length);
      out.print((module));
      out.write(_jsp_string26, 0, _jsp_string26.length);
      out.print((scope));
      out.write(_jsp_string27, 0, _jsp_string27.length);
      out.print((type ));
      out.write(_jsp_string28, 0, _jsp_string28.length);
      out.print((method ));
      out.write(_jsp_string29, 0, _jsp_string29.length);
      out.print((method ));
      out.write(_jsp_string30, 0, _jsp_string30.length);
      out.print((userid));
      out.write(_jsp_string31, 0, _jsp_string31.length);
      out.print((clientVer));
      out.write(_jsp_string32, 0, _jsp_string32.length);
      out.print((serverVer));
      out.write(_jsp_string33, 0, _jsp_string33.length);
      
					if (workflowHtmlShow != null && !"".equals(workflowHtmlShow)) {
						if(!"create".equals(method)){
							if(iscanedit){
								workflowHtmlShow=workflowHtmlShow;
							}else{
								workflowHtmlShow=workflowHtmlShow.replaceAll("&lt;","<").replaceAll("&gt;",">");
							}
						}
					
      out.write(_jsp_string34, 0, _jsp_string34.length);
      if(workflowRequestInfo.getVersion()==2){ 
      out.write(_jsp_string35, 0, _jsp_string35.length);
      
	boolean editMode = true;		//true\u5f53\u524d\u884c\u7f16\u8f91\uff0cfalse\u4e0b\u65b9\u5f39\u51faTable\u7f16\u8f91
	if (clienttype.equalsIgnoreCase("ipad")) {
		editMode = true;
	} else if (clienttype.equalsIgnoreCase("iphone")){
		editMode = false;
	} else if (clienttype.equalsIgnoreCase("Webclient")){
		editMode = true;
	} else if (clienttype.equalsIgnoreCase("Android")){
		editMode = false;
	} else if (clienttype.equalsIgnoreCase("AndPad")){
		editMode = true;
	}
	editMode=false;

      out.write(_jsp_string36, 0, _jsp_string36.length);
      if(editMode){	
      out.write(_jsp_string37, 0, _jsp_string37.length);
      } 
      out.write(_jsp_string38, 0, _jsp_string38.length);
      	
	if(workflowRequestInfo!=null&&workflowRequestInfo.getVersion()==2){
              
		WorkflowDetailTableInfo[] detailTableInfoArr=workflowRequestInfo.getWorkflowDetailTableInfos();
		if(detailTableInfoArr !=null && detailTableInfoArr.length>0){
		
      out.write(_jsp_string39, 0, _jsp_string39.length);
      
			for(int groupid=0;groupid<detailTableInfoArr.length;groupid++){
				WorkflowDetailTableInfo detailTableInfo=detailTableInfoArr[groupid];
				String addStr=detailTableInfo.getAddStr();
				addStr=addStr.replaceAll("\r\n","").replaceAll("\r","").replaceAll("\n","");
				addStr=addStr.replaceAll("/","\\\\/");
				addStr=addStr.replaceAll("\"","\\\\\"");
		
      out.write(_jsp_string40, 0, _jsp_string40.length);
      out.print((groupid ));
      out.write(_jsp_string41, 0, _jsp_string41.length);
      out.print((addStr ));
      out.write(_jsp_string42, 0, _jsp_string42.length);
      out.print((groupid ));
      out.write(_jsp_string43, 0, _jsp_string43.length);
      out.print((SystemEnv.getHtmlLabelName(22686,user.getLanguage())));
      out.write(_jsp_string44, 0, _jsp_string44.length);
      out.print((SystemEnv.getHtmlLabelName(15097,user.getLanguage())));
      out.write(_jsp_string45, 0, _jsp_string45.length);
      		//\u63a7\u5236\u660e\u7ec6\u65b0\u589e\u9ed8\u8ba4\u884c
			if("create".equals(method)){
				int detailDefaultRowCount=Util.getIntValue(detailTableInfo.getDefaultRowCount(),0);
				if("1".equals(Util.null2String(detailTableInfo.getDefaultRow()))&&detailDefaultRowCount>0){
		
      out.write(_jsp_string46, 0, _jsp_string46.length);
      out.print((groupid));
      out.write(_jsp_string47, 0, _jsp_string47.length);
      out.print((detailDefaultRowCount ));
      out.write(_jsp_string48, 0, _jsp_string48.length);
      out.print((groupid ));
      out.write('(');
      out.print((groupid ));
      out.write(_jsp_string49, 0, _jsp_string49.length);
      
				}
			}
		
      out.write(_jsp_string50, 0, _jsp_string50.length);
      
			}
		}
	}

      out.write(_jsp_string51, 0, _jsp_string51.length);
      
//\u884c\u5217\u89c4\u5219\u8ba1\u7b97
RecordSet calReocrdSet=new RecordSet();
ArrayList colCalAry = new ArrayList(); //\u5408\u8ba1
ArrayList rowCalAry = new ArrayList(); //\u884c\u89c4\u5219
ArrayList mainCalAry = new ArrayList(); //\u5217\u89c4\u5219
String rowCalItemStr1="";
String colCalItemStr1="";
String mainCalStr1="";
calReocrdSet.execute("select * from workflow_formdetailinfo where formid="+formId);
while(calReocrdSet.next()){
	rowCalItemStr1 = Util.null2String(calReocrdSet.getString("rowCalStr"));
	colCalItemStr1 = Util.null2String(calReocrdSet.getString("colCalStr"));
	mainCalStr1 = Util.null2String(calReocrdSet.getString("mainCalStr"));
}
StringTokenizer stk2 = new StringTokenizer(colCalItemStr1,";"); //\u5217\u89c4\u5219
while(stk2.hasMoreTokens()){
	colCalAry.add(stk2.nextToken());
}
stk2 = new StringTokenizer(rowCalItemStr1,";");//\u884c\u89c4\u5219
while(stk2.hasMoreTokens()){
	rowCalAry.add(stk2.nextToken(";"));
}
stk2 = new StringTokenizer(mainCalStr1,";");
while(stk2.hasMoreTokens()){
	mainCalAry.add(stk2.nextToken(";"));
}

      out.write(_jsp_string52, 0, _jsp_string52.length);
      	
		for(int m=0; m<colCalAry.size(); m++){
			String str = colCalAry.get(m).toString();
			str = str.substring(str.indexOf("_")+1);		//\u5408\u8ba1\u5b57\u6bb5ID
			int decimaldigits_t=workflowServiceUtil.getDecimaldigitsById(isBill,str);
	
      out.write(_jsp_string53, 0, _jsp_string53.length);
      out.print((str));
      out.write(_jsp_string54, 0, _jsp_string54.length);
      out.print((str ));
      out.write(_jsp_string55, 0, _jsp_string55.length);
      out.print((str));
      out.write(_jsp_string56, 0, _jsp_string56.length);
      out.print((decimaldigits_t ));
      out.write(_jsp_string57, 0, _jsp_string57.length);
      
		}
	
      out.write(_jsp_string58, 0, _jsp_string58.length);
      
    String temStr = "";
    for(int m=0; m<rowCalAry.size(); m++){
        temStr = "";
		String calExp = (String)rowCalAry.get(m);
        ArrayList calExpList=DynamicDataInput.FormatString(calExp);

      out.write(_jsp_string59, 0, _jsp_string59.length);
      
            for(int j=0;j<calExpList.size();j++){
            calExp=(String)calExpList.get(j);
			String targetStr ="";
       
      out.write(_jsp_string60, 0, _jsp_string60.length);
      
       		
            if(calExp.indexOf("innerHTML")>0){
		        out.println("if(i.indexOf('_')>=0){i=parseInt(i.substring(0,i.indexOf('_')));}");
				targetStr=calExp.substring(0,calExp.indexOf("innerHTML")-7)+"_span\")";
				out.println("if("+targetStr+"){");
            if (calExp.indexOf("=") != calExp.length()-1) {
            	 out.println("try{"); 
            	 out.println(calExp.replace("span","_span")+"; "); 
				 out.println(calExp.replace("span","_span_d")+"; ");
				 out.println("try{ ");
					 String isshowDiv_Fieldid= "";
					 if(targetStr.indexOf("_")>=0){
						 isshowDiv_Fieldid=targetStr.substring(0,targetStr.indexOf("_"));
						 isshowDiv_Fieldid=isshowDiv_Fieldid.replace("field","").replace("$G(\"","");
						 isshowDiv_Fieldid="_"+"\"+i+\""+"_"+isshowDiv_Fieldid;
					 }
					 out.println("if(jQuery(\"div[id^='isshow'][id$='"+isshowDiv_Fieldid+"']\")[0]){");
				     out.println("jQuery(\"div[id^='isshow'][id$='"+isshowDiv_Fieldid+"']\")[0].innerHTML="+targetStr+".innerHTML;");
				     out.println("}");
                    
				 out.println("}catch(ev){} ");
            	 try{
             		 if(calExp.indexOf("=")>=0){
             			 String[] calSplitSign=calExp.split("=");
             			 String rightequalsmark = calSplitSign[0].replace(".innerHTML","");
             			 String leftequalsmark = calSplitSign[1].replace(".replace(/,/g,\"\"))", "").replace("parse_Float(", "").replace(".value", ""); 
             			 if(leftequalsmark.indexOf("/")>=0){
             				  String leftdivide  =leftequalsmark.split("/")[0];
             				  String rightdivide =leftequalsmark.split("/")[1];
             				  String inputObj = rightequalsmark.replace("+\"span\")",")");
             				  out.println(" if("+rightequalsmark+".innerHTML == \"Infinity\" ||  "+rightequalsmark+".innerHTML == \"-Infinity\" || "+rightequalsmark+".innerHTML == \"NaN\"){");
             				  out.println("if("+inputObj+".viewtype == 1){"); //\u5fc5\u586b
             				  out.println(rightequalsmark+".innerHTML=\"<img src='/images/BacoError_wev8.gif' align=absmiddle>\";");
             				  out.println("}else{");
             				  out.println(rightequalsmark+".innerHTML='';");
             				  out.println("}");
             				  out.println(inputObj+".value='';");
             				  out.println("return;");
             				  out.println("}");
             			 }
             		 } 
             	  }catch(Exception e){}
             	  out.println("}catch(ex){");
             	  out.println("}");
            }
            out.println("}");
			
            out.println("var transVal;");
			out.println("if("+calExp.substring(0,calExp.indexOf("innerHTML")-9)+").getAttribute('datetype')=='int' && "+calExp.substring(0,calExp.indexOf("innerHTML")-9)+").getAttribute('datavaluetype')!='5'){ ") ;
			out.println("transVal=toPrecision("+calExp.substring(0,calExp.indexOf("innerHTML")-9)+").value,0);");
			out.println(calExp.substring(0,calExp.indexOf("=")).replace("span","_span")+"=transVal;");
			out.println(calExp.substring(0,calExp.indexOf("=")).replace("span","_span_d")+"=transVal;");
			out.println("}else if("+calExp.substring(0,calExp.indexOf("innerHTML")-9)+").getAttribute('datetype')!='int' && "+calExp.substring(0,calExp.indexOf("innerHTML")-9)+").getAttribute('datavaluetype')=='5'){");
			   out.println("transVal=changeToThousandsVal("+calExp.substring(0,calExp.indexOf("innerHTML")-9)+").value)+'';");
               out.println("if("+targetStr+"){");
			     out.println(targetStr+".innerHTML=transVal;");
				  out.println(targetStr.replace("_span","_span_d")+".innerHTML=transVal;");
			   out.println("try{ ");
			   
			   String isshowDiv_Fieldid= "";
		       if(targetStr.indexOf("_")>=0){
		    	  isshowDiv_Fieldid=targetStr.substring(0,targetStr.indexOf("_"));
				  isshowDiv_Fieldid=isshowDiv_Fieldid.replace("field","").replace("$G(\"","");
				  isshowDiv_Fieldid="_"+"\"+i+\""+"_"+isshowDiv_Fieldid;
		       }
		       out.println("if(jQuery(\"div[id^='isshow'][id$='"+isshowDiv_Fieldid+"']\")[0]){");
		       out.println("jQuery(\"div[id^='isshow'][id$='"+isshowDiv_Fieldid+"']\")[0].innerHTML=transVal;");
		       out.println("}");
		       
			   out.println("}catch(ev){} ");
               out.println("}");
                 String targetValue = targetStr.substring(0,targetStr.lastIndexOf("+"))+")";
                 out.println("if("+targetValue+"){");
			     out.println(targetValue+".value=transVal;");
                out.println("}");
			 out.println("}else if("+calExp.substring(0,calExp.indexOf("innerHTML")-9)+").getAttribute('datetype')!='int' && "+calExp.substring(0,calExp.indexOf("innerHTML")-9)+").getAttribute('datavaluetype')=='4'){");
             out.println("try{ ");
					 if(targetStr.indexOf("_")>=0){
						 isshowDiv_Fieldid=targetStr.substring(0,targetStr.indexOf("_"));
						 isshowDiv_Fieldid=isshowDiv_Fieldid.replace("field","").replace("$G(\"","");
						 isshowDiv_Fieldid="_"+"\"+i+\""+"_"+isshowDiv_Fieldid;
					 }
					 
				    out.println("if(jQuery(\"div[id^='isshow'][id$='"+isshowDiv_Fieldid+"']\")[0]){");
				        out.println("var moneyFormat ="+targetStr+".innerHTML ");
					   out.println("if(moneyFormat == '' || moneyFormat == 0 || moneyFormat == '0'){");
					    out.println("moneyFormat= '0.00'");
					   out.println("}else{");
					     out.println("moneyFormat= (milfloatFormat(toPrecision("+targetStr+".innerHTML,datalength))); "); 
					   out.println("}");
				       out.println("jQuery(\"div[id^='isshow'][id$='"+isshowDiv_Fieldid+"']\")[0].innerHTML=numberChangeToChinese("+targetStr+".innerHTML)+'('+moneyFormat+')';");
                       out.println(targetStr.replace("_span","_span_d")+".innerHTML=numberChangeToChinese("+targetStr+".innerHTML)+'('+moneyFormat+')';");
					out.println("}");
				 out.println("}catch(ev){} ");
				  String  resultNum = calExp.substring(0,calExp.indexOf("innerHTML")-9).substring(calExp.indexOf("field")+5)+"+\"_d";
            out.println("try{");
              out.println("if("+calExp.substring(0,calExp.indexOf("innerHTML")-9)+"+\"_d\")){");
                  out.println(" var fieldtype="+calExp.substring(0,calExp.indexOf("innerHTML")-9)+"+\"_d\").getAttribute('datavaluetype');");
                    out.println("  if(fieldtype == 4){");
                             out.println(" document.getElementById(\"field_lable"+resultNum+"\").value = toPrecision("+calExp.substring(0,calExp.indexOf("innerHTML")-9)+"+\"_d\").value,datalength);");
                           out.println(" numberToFormat(\""+resultNum+"\");");
			           out.println("document.getElementById(\"field_lable"+resultNum+"\").onchange()");
                     out.println("}");
                   out.println("}");
                out.println("}catch(e){");
		        out.println("}");
			 out.println("}else{");
                out.println("if("+targetStr+"){");
                 out.println(targetStr+".innerHTML=toPrecision("+calExp.substring(0,calExp.indexOf("innerHTML")-9)+").value,datalength);");
			   out.println(targetStr.replace("_span","_span_d")+".innerHTML=toPrecision("+calExp.substring(0,calExp.indexOf("innerHTML")-9)+").value,datalength);");
			  out.println("try{ ");
			  if(targetStr.indexOf("_")>=0){
				  isshowDiv_Fieldid=targetStr.substring(0,targetStr.indexOf("_"));
				  isshowDiv_Fieldid=isshowDiv_Fieldid.replace("field","").replace("$G(\"","");
				  isshowDiv_Fieldid="_"+"\"+i+\""+"_"+isshowDiv_Fieldid;
			  }
			  out.println("if(jQuery(\"div[id^='isshow'][id$='"+isshowDiv_Fieldid+"']\")[0]){");
			  out.println("jQuery(\"div[id^='isshow'][id$='"+isshowDiv_Fieldid+"']\")[0].innerHTML=toPrecision("+calExp.substring(0,calExp.indexOf("innerHTML")-9)+").value,datalength);");
              out.println("}");
		     out.println("}catch(ev){} ");
            out.println("}");
            out.println("}");
            }else{
              if(calExp.indexOf("value")>0){
                  targetStr=calExp.substring(0,calExp.indexOf("value")-1);
                  out.println("if("+targetStr+"){");
                  out.println(" datalength = "+targetStr+".getAttribute('datalength');");
                  if (calExp.indexOf("=") != calExp.length()-1) {
            	      out.println(calExp+"; ") ;
                  }
			     out.println("if("+calExp.substring(0,calExp.indexOf("value")-1)+".datatype=='int'){ "+calExp.substring(0,calExp.indexOf("="))+"=toPrecision("+calExp.substring(0,calExp.indexOf("="))+",0);"
				  +"}else{ "+calExp.substring(0,calExp.indexOf("="))+"=toPrecision("+calExp.substring(0,calExp.indexOf("="))+",datalength);}}");
				 out.println("if(i.indexOf('_d')==-1){");
					 out.println(calExp.substring(0,calExp.indexOf("value")-2)+"+\"_d\").value=toPrecision("+calExp.substring(0,calExp.indexOf("="))+",datalength)");
					 out.println(calExp.substring(0,calExp.indexOf("value")-2)+"+\"_d\").onchange();");
				 out.println("}else{");
				     out.println(calExp.substring(0,calExp.indexOf("value")-2)+"+\"\").value=toPrecision("+calExp.substring(0,calExp.indexOf("="))+",datalength)");
					 out.println(calExp.substring(0,calExp.indexOf("value")-2)+"+\"\").onchange();");
				  out.println("}");
                }
             }
            
      out.write(_jsp_string61, 0, _jsp_string61.length);
      
                }
	        
      out.write(_jsp_string62, 0, _jsp_string62.length);
      
    }

      out.write(_jsp_string63, 0, _jsp_string63.length);
      
		for(int m=0;m<mainCalAry.size();m++){
			String str2 =  mainCalAry.get(m).toString();
		    int idx = str2.indexOf("=");
			String str3 = str2.substring(0,idx);
			str3 = str3.substring(str3.indexOf("_")+1);
			String str4 = str2.substring(idx);
			str4 = str4.substring(str4.indexOf("_")+1);
	
      out.write(_jsp_string64, 0, _jsp_string64.length);
      out.print((str4 ));
      out.write(_jsp_string65, 0, _jsp_string65.length);
      out.print((str3));
      out.write(_jsp_string66, 0, _jsp_string66.length);
      out.print((str3));
      out.write(_jsp_string67, 0, _jsp_string67.length);
      out.print((str3));
      out.write(_jsp_string68, 0, _jsp_string68.length);
      out.print((str3));
      out.write(_jsp_string69, 0, _jsp_string69.length);
      out.print((str3));
      out.write(_jsp_string70, 0, _jsp_string70.length);
      out.print((str3));
      out.write(_jsp_string71, 0, _jsp_string71.length);
      out.print((str3));
      out.write(_jsp_string72, 0, _jsp_string72.length);
      out.print((str3));
      out.write(_jsp_string73, 0, _jsp_string73.length);
      out.print((str3));
      out.write(_jsp_string74, 0, _jsp_string74.length);
      out.print((str3));
      out.write(_jsp_string75, 0, _jsp_string75.length);
      out.print((str3));
      out.write(_jsp_string76, 0, _jsp_string76.length);
      out.print((str3));
      out.write(_jsp_string77, 0, _jsp_string77.length);
      out.print((str3));
      out.write(_jsp_string78, 0, _jsp_string78.length);
      out.print((str3));
      out.write(_jsp_string79, 0, _jsp_string79.length);
      out.print((str3));
      out.write(_jsp_string80, 0, _jsp_string80.length);
      out.print((str3));
      out.write(_jsp_string81, 0, _jsp_string81.length);
      out.print((str3));
      out.write(_jsp_string82, 0, _jsp_string82.length);
      out.print((str3));
      out.write(_jsp_string83, 0, _jsp_string83.length);
      out.print((str3));
      out.write(_jsp_string84, 0, _jsp_string84.length);
      out.print((str3));
      out.write(_jsp_string85, 0, _jsp_string85.length);
      out.print((str3));
      out.write(_jsp_string86, 0, _jsp_string86.length);
      out.print((str3));
      out.write(_jsp_string87, 0, _jsp_string87.length);
      out.print((str3));
      out.write(_jsp_string88, 0, _jsp_string88.length);
      out.print((str3));
      out.write(_jsp_string89, 0, _jsp_string89.length);
      out.print((str3));
      out.write(_jsp_string90, 0, _jsp_string90.length);
      out.print((str3));
      out.write(_jsp_string91, 0, _jsp_string91.length);
      }
      out.write(_jsp_string92, 0, _jsp_string92.length);
      } 
      out.write(_jsp_string93, 0, _jsp_string93.length);
      out.print((workflowHtmlShow ));
      out.write(_jsp_string94, 0, _jsp_string94.length);
      } else {
						
      out.write(_jsp_string95, 0, _jsp_string95.length);
      weaver.conn.RecordSet RecordSet;
      RecordSet = (weaver.conn.RecordSet) pageContext.getAttribute("RecordSet");
      if (RecordSet == null) {
        RecordSet = new weaver.conn.RecordSet();
        pageContext.setAttribute("RecordSet", RecordSet);
      }
      out.write(_jsp_string96, 0, _jsp_string96.length);
      
Log log = LogFactory.getLog(page.getClass());
String lynrObj = "";
String lynrValue = "";
String lynrName = "";
int lynrIndex = 0;
WorkflowRequestTableField[] workflowRequestTableFields = workflowRequestInfo.getWorkflowMainTableInfo().getRequestRecords()[0].getWorkflowRequestTableFields();

//\u83b7\u53d6\u6240\u6709\u88ab\u5b57\u6bb5\u8054\u52a8\u8bbe\u7f6e\u503c\u7684\u5b57\u6bb5\u5217\u8868
List assignmentFieldNames = DynamicDataInput.getAssignmentFieldsByWorkflowID(workflowRequestInfo.getWorkflowBaseInfo().getWorkflowId(), 0);
boolean canEdit = workflowRequestInfo.isCanEdit();

StringBuffer attachmentssb = new StringBuffer("[");

String[] docids;
String item="";
String[] uploadids;
String imageFileid="";
DocManager  docManager=new DocManager();
ResourceComInfo  resource=new ResourceComInfo();

for(int i=0; i<workflowRequestTableFields.length; i++) {
	WorkflowRequestTableField wfreqfield = workflowRequestTableFields[i];
	boolean view = wfreqfield.isView();
	boolean edit = wfreqfield.isEdit();
	String fieldShowName = wfreqfield.getFieldShowName();
	String filedHtmlShow = wfreqfield.getFiledHtmlShow();
	String fieldShowValue = wfreqfield.getFieldShowValue();
	String fieldHtmlType = wfreqfield.getFieldHtmlType();
	String fieldName = wfreqfield.getFieldName();
	String fieldValue = wfreqfield.getFieldValue();
	
	if (filedHtmlShow != null && !"".equals(filedHtmlShow)) {
		if (filedHtmlShow.indexOf("/browser/dialog.do") != -1) {
			filedHtmlShow = filedHtmlShow.replaceAll("/browser/dialog.do", "/mobile/plugin/browser.jsp");
		}
	}
	
	String fieldFormName = wfreqfield.getFieldFormName();
	String[] selectNames = wfreqfield.getSelectnames();
	String[] selectvalues = wfreqfield.getSelectvalues();
	String fieldType = wfreqfield.getFieldType();
    String fileExtend="";
    //\u9644\u4ef6\u4e0a\u4f20
	if ("6".equals(fieldHtmlType)) {
		if (!"".equals(fieldValue)) {
			docids=fieldValue.split(",");
	       
			for (String docid:docids) {
				docManager.resetParameter();
				docManager.setId(Util.getIntValue(docid,0));
                
				RecordSet.executeSql("select  imagefilename,imagefileid  from DocImageFile  where docid="+Util.getIntValue(docid,0));
				if(RecordSet.next())
				{
				   fileExtend=RecordSet.getString("imagefilename");
				   imageFileid=RecordSet.getString("imagefileid");
				   
				   if (fileExtend.lastIndexOf(".") != -1) {
				       fileExtend = fileExtend.substring(fileExtend.lastIndexOf("."));
				   } else {
					   fileExtend = "";
				   }
				}else
				{
				   fileExtend="";
				}
				docManager.getDocInfoById();
				item="{\"filetitle\":\""+docManager.getDocsubject()+fileExtend+"\",\"fileauthor\":\""+resource.getLastname(""+docManager.getOwnerid())+"\",\"" +
						"filecreatetime\":\""+docManager.getDoccreatedate()+"\",\"fileid\":\""+imageFileid+"\",\"filetype\":\"1\"}";
				attachmentssb.append(item).append(",");
			}	
		}
	} else if("3".equals(fieldHtmlType) && ("9".equals(fieldType) || "37".equals(fieldType))) { //\u6587\u6863\u548c\u591a\u6587\u6863
		if(!"".equals(fieldValue)) { 
			uploadids=fieldValue.split(",");
			for(String docid:uploadids) {
				docManager.resetParameter();
				docManager.setId(Util.getIntValue(docid,0));
				docManager.getDocInfoById();
				item="{\"filetitle\":\""+docManager.getDocsubject()+"\",\"fileauthor\":\""+resource.getLastname(""+docManager.getOwnerid())+"\",\"" +
						"filecreatetime\":\""+docManager.getDoccreatedate()+"\",\"fileid\":\""+docid+"\",\"filetype\":\"0\"}";
				attachmentssb.append(item).append(",");
			}
		}
	}

	if (view) {
		String fieldEmptystyle = "";
		if (("".equals(Util.delHtml(fieldShowValue).trim()) && (!edit || !canEdit))
				&& assignmentFieldNames.indexOf(fieldFormName) == -1) {
		    if (!("2".equals(fieldHtmlType) && "2".equalsIgnoreCase(fieldType))) {
				fieldEmptystyle = " name='emptyFieldTR' style='display:none;!important;' ";
		    }
		}
		if (i != 0) {

      out.write(_jsp_string97, 0, _jsp_string97.length);
      out.print((fieldEmptystyle ));
      out.write(_jsp_string98, 0, _jsp_string98.length);
      
		} 
		//\u5982\u679c\u662f\u591a\u884c\u6587\u672c,\u5219\u5217\u540d\u4e0e\u5185\u5bb9\u5728\u540c\u4e00\u5217\u663e\u793a
		if (!("2".equals(fieldHtmlType) && "2".equalsIgnoreCase(fieldType)) || !"".equals(fieldEmptystyle)) {

      out.write(_jsp_string99, 0, _jsp_string99.length);
      out.print((fieldEmptystyle));
      out.write(_jsp_string100, 0, _jsp_string100.length);
      out.print((fieldShowName ));
      out.write(_jsp_string101, 0, _jsp_string101.length);
      
		} else {

      out.write(_jsp_string102, 0, _jsp_string102.length);
      out.print((fieldShowName ));
      out.write(_jsp_string103, 0, _jsp_string103.length);
      
		}

      out.write(_jsp_string104, 0, _jsp_string104.length);
      
//===================================================\u8868\u5355\u5f53\u524d\u53ef\u4ee5\u7f16\u8f91\u3001\u4e14\u5b57\u6bb5\u4ea6\u53ef\u7f16\u8f91\u72b6\u6001 start===================================================
		if (edit && canEdit) {
			//\u4f1a\u8bae\u5ba1\u6279\u5355\u7279\u6b8a\u5904\u7406
			boolean remindType = false;
			if (fieldName.equalsIgnoreCase("remindType") && workflowRequestInfo.getWorkflowMainTableInfo().getTableDBName().trim().equalsIgnoreCase("bill_meeting")) {
				if ("2".equals(fieldValue) || "3".equals(fieldValue)) {
					remindType = true;
				}
			}
			
			if ((fieldName.equalsIgnoreCase("remindType")
					|| fieldName.equalsIgnoreCase("remindBeforeStart")
					|| fieldName.equalsIgnoreCase("remindBeforeEnd")
					|| fieldName.equalsIgnoreCase("remindTimesBeforeStart")
					|| fieldName.equalsIgnoreCase("remindTimesBeforeEnd"))
				    && workflowRequestInfo.getWorkflowMainTableInfo().getTableDBName().trim().equalsIgnoreCase("bill_meeting")) {
			
      out.write(_jsp_string105, 0, _jsp_string105.length);
      out.print((fieldName ));
      out.write(_jsp_string106, 0, _jsp_string106.length);
      out.print(((remindType?"none":"block")));
      out.write(_jsp_string107, 0, _jsp_string107.length);
      
					if (fieldName.equalsIgnoreCase("remindType")) {
					
      out.write(_jsp_string108, 0, _jsp_string108.length);
      
											if ("".equals(requestid) || "0".equals(requestid)) {
											
      out.write(_jsp_string109, 0, _jsp_string109.length);
      
											}
      out.write(_jsp_string110, 0, _jsp_string110.length);
      
											if ("".equals(requestid) || "0".equals(requestid)) {
											
      out.write(_jsp_string111, 0, _jsp_string111.length);
      
											}
      out.write(_jsp_string112, 0, _jsp_string112.length);
      out.print((fieldFormName ));
      out.write(_jsp_string113, 0, _jsp_string113.length);
      out.print((fieldFormName ));
      out.write(_jsp_string114, 0, _jsp_string114.length);
      
						for (int x=0; x<selectvalues.length; x++) {
							String selectvalue = selectvalues[x];
						
      out.write(_jsp_string115, 0, _jsp_string115.length);
      out.print((selectvalue));
      out.write(_jsp_string116, 0, _jsp_string116.length);
      out.print((selectvalue.equals(fieldValue)?"selected":""));
      out.write(_jsp_string117, 0, _jsp_string117.length);
      out.print((selectNames[x] ));
      out.write(_jsp_string118, 0, _jsp_string118.length);
       } 
      out.write(_jsp_string119, 0, _jsp_string119.length);
      out.print((fieldFormName));
      out.write(_jsp_string120, 0, _jsp_string120.length);
      
					}
								
					if (fieldName.equalsIgnoreCase("remindBeforeStart")) {
					
      out.write(_jsp_string121, 0, _jsp_string121.length);
      out.print((fieldFormName));
      out.write(_jsp_string113, 0, _jsp_string113.length);
      out.print((fieldFormName));
      out.write(_jsp_string122, 0, _jsp_string122.length);
      out.print((fieldValue.equals("1") ? "checked" : "" ));
      out.write(_jsp_string123, 0, _jsp_string123.length);
      out.print((fieldFormName ));
      out.write(_jsp_string124, 0, _jsp_string124.length);
      out.print((fieldFormName));
      out.write(_jsp_string120, 0, _jsp_string120.length);
      
					}
					if (fieldName.equalsIgnoreCase("remindBeforeEnd")) {
					
      out.write(_jsp_string125, 0, _jsp_string125.length);
      out.print((fieldFormName));
      out.write(_jsp_string113, 0, _jsp_string113.length);
      out.print((fieldFormName));
      out.write(_jsp_string122, 0, _jsp_string122.length);
      out.print((fieldValue.equals("1") ? "checked" : "" ));
      out.write(_jsp_string123, 0, _jsp_string123.length);
      out.print((fieldFormName ));
      out.write(_jsp_string126, 0, _jsp_string126.length);
      out.print((fieldFormName));
      out.write(_jsp_string120, 0, _jsp_string120.length);
      
					}
					if (fieldName.equalsIgnoreCase("remindTimesBeforeStart")) { 
					
      out.write(_jsp_string127, 0, _jsp_string127.length);
      out.print((fieldFormName ));
      out.write(_jsp_string113, 0, _jsp_string113.length);
      out.print((fieldFormName ));
      out.write(_jsp_string128, 0, _jsp_string128.length);
      out.print((!"".equals(fieldValue) ? fieldValue : ""));
      out.write(_jsp_string129, 0, _jsp_string129.length);
      out.print((fieldFormName));
      out.write(_jsp_string120, 0, _jsp_string120.length);
      
					}
					if (fieldName.equalsIgnoreCase("remindTimesBeforeEnd")) {
					
      out.write(_jsp_string130, 0, _jsp_string130.length);
      out.print((fieldFormName ));
      out.write(_jsp_string113, 0, _jsp_string113.length);
      out.print((fieldFormName ));
      out.write(_jsp_string128, 0, _jsp_string128.length);
      out.print((!"".equals(fieldValue) ? fieldValue : ""));
      out.write(_jsp_string131, 0, _jsp_string131.length);
      out.print((fieldFormName));
      out.write(_jsp_string120, 0, _jsp_string120.length);
      
					}
					
      out.write(_jsp_string132, 0, _jsp_string132.length);
      
			//\u8bf7\u5047\u7533\u8bf7\u5355\u7279\u6b8a\u5904\u7406
			} else if ((fieldName.equalsIgnoreCase("leaveDays")||fieldName.equalsIgnoreCase("fromDate")||fieldName.equalsIgnoreCase("fromTime")||fieldName.equalsIgnoreCase("toDate")||fieldName.equalsIgnoreCase("toTime"))
						&& workflowRequestInfo.getWorkflowMainTableInfo().getTableDBName().trim().equalsIgnoreCase("bill_bohaileave")) {
				if (fieldName.equalsIgnoreCase("fromDate")) {
			
      out.write(_jsp_string133, 0, _jsp_string133.length);
      out.print((userid));
      out.write(_jsp_string134, 0, _jsp_string134.length);
      
				} 
				if (fieldName.equalsIgnoreCase("leaveDays")) {
				
      out.write(_jsp_string135, 0, _jsp_string135.length);
      out.print((fieldFormName));
      out.write(_jsp_string113, 0, _jsp_string113.length);
      out.print((fieldFormName));
      out.write(_jsp_string136, 0, _jsp_string136.length);
      out.print((fieldName));
      out.write(_jsp_string128, 0, _jsp_string128.length);
      out.print((fieldValue ));
      out.write(_jsp_string137, 0, _jsp_string137.length);
      
				} 
				if ((fieldName.equalsIgnoreCase("fromDate") || fieldName.equalsIgnoreCase("toDate"))) {
				
      out.write(_jsp_string135, 0, _jsp_string135.length);
      out.print((fieldFormName));
      out.write(_jsp_string113, 0, _jsp_string113.length);
      out.print((fieldFormName));
      out.write(_jsp_string138, 0, _jsp_string138.length);
      out.print((fieldName));
      out.write(_jsp_string128, 0, _jsp_string128.length);
      out.print((fieldValue));
      out.write(_jsp_string139, 0, _jsp_string139.length);
      
				}
				if ((fieldName.equalsIgnoreCase("fromTime") || fieldName.equalsIgnoreCase("toTime") )) {
				
      out.write(_jsp_string135, 0, _jsp_string135.length);
      out.print((fieldFormName));
      out.write(_jsp_string113, 0, _jsp_string113.length);
      out.print((fieldFormName));
      out.write(_jsp_string138, 0, _jsp_string138.length);
      out.print((fieldName));
      out.write(_jsp_string128, 0, _jsp_string128.length);
      out.print((fieldValue));
      out.write(_jsp_string140, 0, _jsp_string140.length);
      } 
      out.write(_jsp_string141, 0, _jsp_string141.length);
      
			//\u8bf7\u5047\u7533\u8bf7\u5355\u7279\u6b8a\u5904\u7406
			} else if ((fieldName.equalsIgnoreCase("leaveType")||fieldName.equalsIgnoreCase("otherLeaveType"))
					&&workflowRequestInfo.getWorkflowMainTableInfo().getTableDBName().trim().equalsIgnoreCase("bill_bohaileave")) {
				int showOtherLeaveType = 0;
				if (fieldName.equalsIgnoreCase("leaveType")) {
					if (fieldValue!=null&&fieldValue.equals("4")) {
						showOtherLeaveType = 1;
					}
				}
				String tempfieldValue = fieldValue;
				
      out.write(_jsp_string142, 0, _jsp_string142.length);
      out.print((fieldName.equalsIgnoreCase("otherLeaveType") ? "selectOtherLeaveType" : fieldFormName ));
      out.write(_jsp_string143, 0, _jsp_string143.length);
      if (fieldName.equalsIgnoreCase("otherLeaveType") && showOtherLeaveType == 0) {
      out.write(_jsp_string144, 0, _jsp_string144.length);
      }  else if (fieldName.equalsIgnoreCase("otherLeaveType")&& showOtherLeaveType!=0) { 
      out.write(_jsp_string145, 0, _jsp_string145.length);
      } 
      out.write(_jsp_string146, 0, _jsp_string146.length);
      out.print((fieldFormName));
      out.write(_jsp_string147, 0, _jsp_string147.length);
      out.print((fieldFormName));
      out.write(_jsp_string138, 0, _jsp_string138.length);
      out.print((fieldName));
      out.write(_jsp_string148, 0, _jsp_string148.length);
      out.print((fieldName.equalsIgnoreCase("leaveType") ? "onchange=\"doChangeLeaveType(this);\"" : ""     ));
      out.write(_jsp_string149, 0, _jsp_string149.length);
      out.print((fieldName.equalsIgnoreCase("otherLeaveType") ? "onchange=\"dispalyAnnualInfo(this.value);\"" : ""));
      out.write(_jsp_string150, 0, _jsp_string150.length);
      out.print((tempfieldValue.equals("") ? "selected" : ""));
      out.write(_jsp_string151, 0, _jsp_string151.length);
      
							for (int x=0; x<selectvalues.length; x++) {
								String selectvalue = selectvalues[x];
							
      out.write(_jsp_string152, 0, _jsp_string152.length);
      out.print((workflowRequestInfo.getWorkflowMainTableInfo().getRequestRecords()[0].getWorkflowRequestTableFields()[i].getSelectvalues()[x] ));
      out.write(_jsp_string153, 0, _jsp_string153.length);
      out.print((selectvalue.equals(tempfieldValue) ?  "selected" : ""));
      out.write(_jsp_string154, 0, _jsp_string154.length);
      out.print((workflowRequestInfo.getWorkflowMainTableInfo().getRequestRecords()[0].getWorkflowRequestTableFields()[i].getSelectnames()[x] ));
      out.write(_jsp_string155, 0, _jsp_string155.length);
      } 
      out.write(_jsp_string156, 0, _jsp_string156.length);
      
			} else {
				if (workflowRequestInfo.getWorkflowBaseInfo().getWorkflowId().equalsIgnoreCase("6") && fieldName.equalsIgnoreCase("mutiresource")&&!edit&&view) {
				
      out.write(_jsp_string157, 0, _jsp_string157.length);
      out.print((filedHtmlShow));
      out.write(_jsp_string158, 0, _jsp_string158.length);
      } else {
					//<!-- \u5c4f\u853dhtml\u7f16\u8f91\u529f\u80fd  \u76f4\u63a5\u663e\u793ahtml\u6548\u679c-->
					if (!"create".equals(type) && fieldHtmlType.equalsIgnoreCase("2") && fieldType.equalsIgnoreCase("2")) {
						if (fieldShowValue.equalsIgnoreCase("") == false) {
							request_fieldShowValue = fieldShowValue;
							String wfContentKey = sessionkey + "_"+ workflowid + "_"+ userid + "_" + i;
							
							StaticObj staticObj = StaticObj.getInstance();
							synchronized(staticObj){
								Map mapWfContents = (Map)staticObj.getObject("SESSION_VIEW_CONTENT_NEWS_OR_WKFLW");
								if(mapWfContents == null){
									mapWfContents = new HashMap();
								}
								mapWfContents.put(wfContentKey, request_fieldShowValue);
								staticObj.putObject("SESSION_VIEW_CONTENT_NEWS_OR_WKFLW", mapWfContents);
							}
							
      out.write(_jsp_string159, 0, _jsp_string159.length);
      out.print((i ));
      out.write(_jsp_string160, 0, _jsp_string160.length);
      out.print((i ));
      out.write(_jsp_string161, 0, _jsp_string161.length);
      } 
						 filedHtmlShow = filedHtmlShow.replace("<br>","");
						
      out.write(_jsp_string162, 0, _jsp_string162.length);
      out.print((HtmlUtil.translateMarkup(filedHtmlShow) ));
      out.write(_jsp_string163, 0, _jsp_string163.length);
      
					} else { 
					
      out.write(_jsp_string162, 0, _jsp_string162.length);
      out.print((filedHtmlShow ));
      out.write(_jsp_string163, 0, _jsp_string163.length);
      
					} 
					
      out.write(_jsp_string164, 0, _jsp_string164.length);
      
				} 
				
      out.write(_jsp_string141, 0, _jsp_string141.length);
      
			} 
			
      out.write(_jsp_string165, 0, _jsp_string165.length);
      
//===================================================\u8868\u5355\u5f53\u524d\u53ef\u4ee5\u7f16\u8f91\u3001\u4e14\u5b57\u6bb5\u4ea6\u53ef\u7f16\u8f91\u72b6\u6001 end ===================================================
		} else {
//===================================================\u8868\u5355\u4e0d\u53ef\u4ee5\u7f16\u8f91 \u6216\u8005 \u5b57\u6bb5\u4e0d\u53ef\u7f16\u8f91\u72b6\u6001 start =================================================
			if ("2".equalsIgnoreCase(fieldHtmlType) && "2".equalsIgnoreCase(fieldType)) {
				if ("".equalsIgnoreCase(fieldShowValue) == false) {
					request_fieldShowValue = fieldShowValue;
					String wfContentKey = sessionkey + "_"+ workflowid + "_"+ userid + "_" + i;
					
					StaticObj staticObj = StaticObj.getInstance();
					synchronized(staticObj){
						Map mapWfContents = (Map)staticObj.getObject("SESSION_VIEW_CONTENT_NEWS_OR_WKFLW");
						if(mapWfContents == null){
							mapWfContents = new HashMap();
						}
						mapWfContents.put(wfContentKey, request_fieldShowValue);
						staticObj.putObject("SESSION_VIEW_CONTENT_NEWS_OR_WKFLW", mapWfContents);
					}
					
      out.write(_jsp_string166, 0, _jsp_string166.length);
      out.print((i ));
      out.write(_jsp_string160, 0, _jsp_string160.length);
      out.print((i ));
      out.write(_jsp_string167, 0, _jsp_string167.length);
      }
				fieldShowValue = Util.toExcelData(filedHtmlShow);
				
      out.write(_jsp_string164, 0, _jsp_string164.length);
      out.print((HtmlUtil.translateMarkup(fieldShowValue)));
      out.write(_jsp_string168, 0, _jsp_string168.length);
      
			} else {
				//\u6708\u5de5\u4f5c\u603b\u7ed3\u4e0e\u8ba1\u5212 \u7279\u6b8a\u8bbe\u7f6e
				if ("6".equalsIgnoreCase(workflowRequestInfo.getWorkflowBaseInfo().getWorkflowId()) && "mutiresource".equalsIgnoreCase(fieldName)) {
			
      out.write(_jsp_string157, 0, _jsp_string157.length);
      out.print((fieldShowValue));
      out.write(_jsp_string158, 0, _jsp_string158.length);
      
				} else {
				
      out.write(_jsp_string169, 0, _jsp_string169.length);
      out.print((fieldFormName ));
      out.write(_jsp_string170, 0, _jsp_string170.length);
      out.print((fieldFormName ));
      out.write(_jsp_string171, 0, _jsp_string171.length);
      out.print((filedHtmlShow ));
      out.write(_jsp_string172, 0, _jsp_string172.length);
      
				}
			}
		}
//===================================================\u8868\u5355\u4e0d\u53ef\u4ee5\u7f16\u8f91 \u6216\u8005 \u5b57\u6bb5\u4e0d\u53ef\u7f16\u8f91\u72b6\u6001 end   =================================================
		
      out.write(_jsp_string173, 0, _jsp_string173.length);
      
	} 
}

      out.write(_jsp_string174, 0, _jsp_string174.length);
      
boolean ismobile = WorkflowServiceUtil.isMobileMode(workflowid,nodeId);
if(("1".equals(isBill) && workflowRequestInfo.getWorkflowBaseInfo().getFormId().indexOf("-")>=0 && !ismobile&&workflowRequestInfo.isCanDetailEdit())||("0".equals(isBill)&&!ismobile&&workflowRequestInfo.isCanDetailEdit())){
      out.write(_jsp_string175, 0, _jsp_string175.length);
      
  //\u884c\u5217\u89c4\u5219\u8ba1\u7b97
  ArrayList colCalAry = new ArrayList(); //\u5408\u8ba1
  ArrayList rowCalAry = new ArrayList(); //\u884c\u89c4\u5219
  ArrayList mainCalAry = new ArrayList(); //\u5217\u89c4\u5219
  String rowCalItemStr1="";
  String colCalItemStr1="";
  String mainCalStr1="";
  if("1".equals(isBill)){ //\u65b0\u8868\u5355
	  RecordSet.execute("select * from workflow_formdetailinfo where formid="+formId);
	  while(RecordSet.next()){
			rowCalItemStr1 = Util.null2String(RecordSet.getString("rowCalStr"));
			colCalItemStr1 = Util.null2String(RecordSet.getString("colCalStr"));
			mainCalStr1 = Util.null2String(RecordSet.getString("mainCalStr"));
	  }
	  StringTokenizer stk2 = new StringTokenizer(colCalItemStr1,";"); //\u5217\u89c4\u5219
      while(stk2.hasMoreTokens()){
        colCalAry.add(stk2.nextToken());
      }
     stk2 = new StringTokenizer(rowCalItemStr1,";");//\u884c\u89c4\u5219
      while(stk2.hasMoreTokens()){
		    rowCalAry.add(stk2.nextToken(";"));
	  }
     stk2 = new StringTokenizer(mainCalStr1,";");
  	 while(stk2.hasMoreTokens()){
  		mainCalAry.add(stk2.nextToken(";"));
  	}
	
 }else{//\u8001\u8868\u5355
	 RecordSet.executeProc("Workflow_formdetailinfo_Sel",formId+"");
		while(RecordSet.next()){
			rowCalItemStr1 = Util.null2String(RecordSet.getString("rowCalStr"));
			colCalItemStr1 = Util.null2String(RecordSet.getString("colCalStr"));
			mainCalStr1 = Util.null2String(RecordSet.getString("mainCalStr"));
		}
		StringTokenizer stk2 = new StringTokenizer(colCalItemStr1,";");//\u5217\u89c4\u5219
        while(stk2.hasMoreTokens()){
            colCalAry.add(stk2.nextToken());
        }
		stk2 = new StringTokenizer(rowCalItemStr1,";");//\u884c\u89c4\u5219
        while(stk2.hasMoreTokens()){
 		    rowCalAry.add(stk2.nextToken(";"));
 	    }
        stk2 = new StringTokenizer(mainCalStr1,";");
     	 while(stk2.hasMoreTokens()){
     		mainCalAry.add(stk2.nextToken(";"));
     	}
 }
 java.util.HashMap  summap =new  java.util.HashMap();//\u9ed8\u8ba4\u5408\u8ba1\u4f7f\u7528  

      out.write(_jsp_string176, 0, _jsp_string176.length);
      
int wdtiCount = 0; 
// \u660e\u7ec6\u8868\u662f\u5426\u53ef\u7f16\u8f91\u5904\u7406
boolean isEdits = true;
if (clienttype.equalsIgnoreCase("ipad")) {
	isEdits = true;
} else if (clienttype.equalsIgnoreCase("iphone")){
	isEdits = false;
} else if (clienttype.equalsIgnoreCase("Webclient")){
	isEdits = true;
} else if (clienttype.equalsIgnoreCase("Android")){
	isEdits = false;
} else if (clienttype.equalsIgnoreCase("AndPad")){
	isEdits = true;
}
isEdits = false;
boolean isdisplay = false;
//end 
boolean includeDel = false;
if (!"create".equals(type) && workflowRequestInfo.getWorkflowDetailTableInfos() != null && workflowRequestInfo.getWorkflowDetailTableInfos().length>0) {

      out.write(_jsp_string177, 0, _jsp_string177.length);
      
    StringBuffer sumString =new StringBuffer();//\u5408\u8ba1\u7684\u5b57\u6bb5
	WorkflowDetailTableInfo[] workflowDetailTableInfos = workflowRequestInfo.getWorkflowDetailTableInfos();
	wdtiCount = workflowDetailTableInfos.length;
	for (int i=0; i<workflowDetailTableInfos.length; i++) {
		boolean isHeJi = false;
		sumString =new StringBuffer();//\u5408\u8ba1\u7684\u5b57\u6bb5 
		WorkflowDetailTableInfo wfdetailTabInfo = workflowDetailTableInfos[i];
		String[] tableFieldName = wfdetailTabInfo.getTableFieldName();
		WorkflowRequestTableRecord[] workflowRequestTableRecords = wfdetailTabInfo.getWorkflowRequestTableRecords();
		int index = i + 1;
		int tblHeadCnt = tableFieldName.length - 1;
		if(!"1".equals(wfdetailTabInfo.getIsEdit())){
			isdisplay = true;
		}else{
			 isdisplay = false;
		}
		if("1".equals(wfdetailTabInfo.getIsDelete())){
			 includeDel = true;
		}else{
			  includeDel = false;
		}
		 int tableOrderId = 0;
		 String tableDBName = wfdetailTabInfo.getTableDBName();
		 if(tableDBName.lastIndexOf("_")>=0){
		     	tableOrderId =  Integer.parseInt(tableDBName.substring(tableDBName.lastIndexOf("_")+"_dt".length()));
		 }else if("0".equals(isBill) && !"".equals(tableDBName) ){
			     tableOrderId =  Integer.parseInt(tableDBName);
		 }
	
      out.write(_jsp_string178, 0, _jsp_string178.length);
      out.print((i ));
      out.write(_jsp_string179, 0, _jsp_string179.length);
      out.print((i));
      out.write(_jsp_string180, 0, _jsp_string180.length);
      out.print((i));
      out.write(_jsp_string181, 0, _jsp_string181.length);
      out.print((i));
      out.write(_jsp_string182, 0, _jsp_string182.length);
      out.print((i));
      out.write(_jsp_string183, 0, _jsp_string183.length);
      out.print((workflowid));
      out.write(_jsp_string184, 0, _jsp_string184.length);
      out.print((nodeId));
      out.write(_jsp_string185, 0, _jsp_string185.length);
      out.print((isEdits));
      out.write(_jsp_string186, 0, _jsp_string186.length);
      out.print((isdisplay));
      out.write(_jsp_string187, 0, _jsp_string187.length);
      out.print((tableOrderId));
      out.write(_jsp_string188, 0, _jsp_string188.length);
      out.print((SystemEnv.getHtmlLabelName(22686,user.getLanguage())));
      out.write(_jsp_string189, 0, _jsp_string189.length);
      out.print((SystemEnv.getHtmlLabelName(15097,user.getLanguage())));
      out.write(_jsp_string190, 0, _jsp_string190.length);
       if("1".equals(wfdetailTabInfo.getIsAdd())&&canEdit){
      out.write(_jsp_string191, 0, _jsp_string191.length);
      out.print((i));
      out.write(_jsp_string192, 0, _jsp_string192.length);
      out.print((i));
      out.write('(');
      out.print((i));
      out.write(_jsp_string193, 0, _jsp_string193.length);
      out.print((SystemEnv.getHtmlLabelName(611,user.getLanguage())));
      out.write(_jsp_string194, 0, _jsp_string194.length);
      } 
      out.write(_jsp_string195, 0, _jsp_string195.length);
      if(("1".equals(wfdetailTabInfo.getIsAdd()) || "1".equals(wfdetailTabInfo.getIsDelete()))&&canEdit){ 
	  
      out.write(_jsp_string196, 0, _jsp_string196.length);
      out.print((i));
      out.write(_jsp_string197, 0, _jsp_string197.length);
      out.print((i));
      out.write(_jsp_string198, 0, _jsp_string198.length);
      out.print((SystemEnv.getHtmlLabelName(23777,user.getLanguage())));
      out.write(_jsp_string194, 0, _jsp_string194.length);
      } 
      out.write(_jsp_string199, 0, _jsp_string199.length);
      out.print((canEdit?"":"onclick=\"exTblCol(this, "+(tableFieldName.length+1)+");\"" ));
      out.write(_jsp_string200, 0, _jsp_string200.length);
      out.print((i));
      out.write(_jsp_string201, 0, _jsp_string201.length);
      out.print((i ));
      out.write(_jsp_string202, 0, _jsp_string202.length);
      out.print((workflowRequestTableRecords.length ));
      out.write(_jsp_string203, 0, _jsp_string203.length);
      out.print((i));
      out.write(_jsp_string204, 0, _jsp_string204.length);
      out.print((i ));
      out.write(_jsp_string202, 0, _jsp_string202.length);
      out.print(("create".equals(method)?0:workflowRequestTableRecords.length ));
      out.write(_jsp_string205, 0, _jsp_string205.length);
      out.print((i ));
      out.write(_jsp_string206, 0, _jsp_string206.length);
      out.print((i ));
      out.write(_jsp_string207, 0, _jsp_string207.length);
      out.print((i));
      out.write(_jsp_string128, 0, _jsp_string128.length);
      out.print((wfdetailTabInfo.getNeedAddRow() ));
      out.write(_jsp_string208, 0, _jsp_string208.length);
      out.print((i ));
      out.write(_jsp_string209, 0, _jsp_string209.length);
      out.print((i ));
      out.write(_jsp_string210, 0, _jsp_string210.length);
      if(canEdit){
      out.write(_jsp_string211, 0, _jsp_string211.length);
      }
      out.write(_jsp_string212, 0, _jsp_string212.length);
      
		for (int x=0; x<tableFieldName.length; x++) {
		
      out.write(_jsp_string213, 0, _jsp_string213.length);
      out.print((tableFieldName[x] ));
      out.write(_jsp_string214, 0, _jsp_string214.length);
      if(x==(tableFieldName.length-1)){ 
      out.write(_jsp_string215, 0, _jsp_string215.length);
      } 
      out.write(_jsp_string216, 0, _jsp_string216.length);
      
		}
		
      out.write(_jsp_string217, 0, _jsp_string217.length);
      
      String defaultRow = wfdetailTabInfo.getDefaultRow(); //\u65b0\u589e\u9ed8\u8ba4\u7a7a\u660e\u7ec6
	  String defaultRowCount = wfdetailTabInfo.getDefaultRowCount(); //\u65b0\u589e\u9ed8\u8ba4\u7a7a\u660e\u7ec6\u884c\u6570
	  String needAddRow = wfdetailTabInfo.getNeedAddRow(); //\u5fc5\u987b\u65b0\u589e\u660e\u7ec6
	  if("create".equals(method)){//add by liaodong 
		  int defaultRowCountInt =!"".equals(defaultRowCount)&&null!=defaultRowCount?Integer.parseInt(defaultRowCount):0;
           if("1".equals(defaultRow)&&defaultRowCountInt>0){   
		
      out.write(_jsp_string218, 0, _jsp_string218.length);
      out.print((i));
      out.write(_jsp_string219, 0, _jsp_string219.length);
      out.print((defaultRowCountInt));
      out.write(_jsp_string220, 0, _jsp_string220.length);
      out.print((i ));
      out.write('(');
      out.print((i ));
      out.write(_jsp_string221, 0, _jsp_string221.length);
      
		}else{
			
      out.write(_jsp_string222, 0, _jsp_string222.length);
      out.print((i));
      out.write(_jsp_string223, 0, _jsp_string223.length);
      
		 }
		 //\u7f16\u8f91\u9875\u9762\u83b7\u53d6\u5408\u8ba1\u884c
		 String sumStr = WorkflowServiceUtil.getSumString(workflowid,nodeId,user,tableOrderId,colCalItemStr1);
		 if(!"".equals(sumStr)){
               sumString.append(sumStr);
			   isHeJi = true;
		 }
	  }else{
		for (int x=0; x<workflowRequestTableRecords.length; x++) {
			WorkflowRequestTableRecord wfreqtabrec = workflowRequestTableRecords[x];
			WorkflowRequestTableField[] workflowRequestTableFields2 = wfreqtabrec.getWorkflowRequestTableFields();
			int tdcount = 0;
			int tblCentCnt = 0;
			int recordOrder = wfreqtabrec.getRecordOrder();
			int recodeId = wfreqtabrec.getRecordId();
			int fieldCount = 0;
		
      out.write(_jsp_string224, 0, _jsp_string224.length);
      out.print((i));
      out.write(_jsp_string225, 0, _jsp_string225.length);
      out.print((canEdit?"onclick=\"trMouseOver("+i+","+x+");\"":""));
      out.write(_jsp_string226, 0, _jsp_string226.length);
      if(canEdit){
      out.write(_jsp_string227, 0, _jsp_string227.length);
      out.print((i ));
      out.write(_jsp_string202, 0, _jsp_string202.length);
      out.print((recodeId ));
      out.write(_jsp_string228, 0, _jsp_string228.length);
      out.print((includeDel?"":"disabled"));
      out.write(_jsp_string229, 0, _jsp_string229.length);
      }
      out.write(_jsp_string141, 0, _jsp_string141.length);
      
			 //if (recordOrder < 0) {
			
      out.write(_jsp_string230, 0, _jsp_string230.length);
       //} else { 
      out.write(_jsp_string231, 0, _jsp_string231.length);
      out.print((i ));
      out.write('_');
      out.print((x ));
      out.write(_jsp_string232, 0, _jsp_string232.length);
      out.print((x + 1 ));
      out.write(_jsp_string233, 0, _jsp_string233.length);
      //}
			tblCentCnt = workflowRequestTableFields2.length - 1;
			 //System.out.println("this is enter===========================>"+workflowRequestTableFields2.length+"==="+tblHeadCnt+"====="+tblCentCnt);
			if (tblHeadCnt == tblCentCnt) {
				for (int y=0; y<workflowRequestTableFields2.length; y++) {
					WorkflowRequestTableField wfreqtabfield = workflowRequestTableFields2[y];
            
					String fieldHtmlType = wfreqtabfield.getFieldHtmlType();
					String fieldType = wfreqtabfield.getFieldType();
					String fieldId=wfreqtabfield.getFieldId();
						

					String fieldValue = wfreqtabfield.getFieldValue();
					String fileExtend="";
              
			        


					if(colCalItemStr1.indexOf(fieldId)>=0){
						 isHeJi = true;
					}
					if(colCalItemStr1.indexOf(fieldId)>=0){ 
                             if(!"".equals(wfreqtabfield.getFieldValue())&&null != wfreqtabfield.getFieldValue()){
									 if( null != summap.get(fieldId)){
										 String  sumField=(String)summap.get(fieldId);
										 String sumDefaultValue = wfreqtabfield.getFieldValue();
										 if(wfreqtabfield.getFieldValue().indexOf(",")>=0){
											  sumDefaultValue = wfreqtabfield.getFieldValue().replace(",","");
										 }
										 summap.put(fieldId,(Double.parseDouble(sumField)+Double.parseDouble(sumDefaultValue))+"");
									 }else{
										   String sumDefaultValue = wfreqtabfield.getFieldValue();
										    if(wfreqtabfield.getFieldValue().indexOf(",")>=0){
											    sumDefaultValue = wfreqtabfield.getFieldValue().replace(",","");
										    }
										   summap.put(fieldId,sumDefaultValue);  
									 }
						   }
					}
					if (wfreqtabfield.isView()) {
							tdcount++;
                            //\u9644\u4ef6\u4e0a\u4f20
							if ("6".equals(fieldHtmlType)) {
								if (!"".equals(fieldValue)) {
									docids=fieldValue.split(",");
								   
									for (String docid:docids) {
										docManager.resetParameter();
										docManager.setId(Util.getIntValue(docid,0));
										
										RecordSet.executeSql("select  imagefilename,imagefileid  from DocImageFile  where docid="+Util.getIntValue(docid,0));
										if(RecordSet.next())
										{
										   fileExtend=RecordSet.getString("imagefilename");
										   imageFileid=RecordSet.getString("imagefileid");
										   if (fileExtend.lastIndexOf(".") != -1) {
										       fileExtend = fileExtend.substring(fileExtend.lastIndexOf("."));
										   } else {
											   fileExtend = "";
										   }
										}else
										{
										   fileExtend="";
										}
										docManager.getDocInfoById();
										item="{\"filetitle\":\""+docManager.getDocsubject()+fileExtend+"\",\"fileauthor\":\""+resource.getLastname(""+docManager.getOwnerid())+"\",\"" +
												"filecreatetime\":\""+docManager.getDoccreatedate()+"\",\"fileid\":\""+imageFileid+"\",\"filetype\":\"1\"}";
										attachmentssb.append(item).append(",");
									}	
								}
							} else if("3".equals(fieldHtmlType) && ("9".equals(fieldType) || "37".equals(fieldType))) { //\u6587\u6863\u548c\u591a\u6587\u6863
								if(!"".equals(fieldValue)) { 
									uploadids=fieldValue.split(",");
									for(String docid:uploadids) {
										docManager.resetParameter();
										docManager.setId(Util.getIntValue(docid,0));
										docManager.getDocInfoById();
										item="{\"filetitle\":\""+docManager.getDocsubject()+"\",\"fileauthor\":\""+resource.getLastname(""+docManager.getOwnerid())+"\",\"" +
												"filecreatetime\":\""+docManager.getDoccreatedate()+"\",\"fileid\":\""+docid+"\",\"filetype\":\"0\"}";
										attachmentssb.append(item).append(",");
									}
								}
							}
						
      out.write(_jsp_string234, 0, _jsp_string234.length);
      out.print((fieldHtmlType.equals("1") && (fieldType.equals("2") || fieldType.equals("3")) ? "text-align:left;" : "" ));
      out.write(_jsp_string164, 0, _jsp_string164.length);
      out.print((wfreqtabfield.getFieldOrder() < 0 ? "color:red;font-weight:bold;" : ""));
      out.write(_jsp_string235, 0, _jsp_string235.length);
       if("1".equals(wfdetailTabInfo.getIsEdit())){
      out.write(_jsp_string236, 0, _jsp_string236.length);
      if(isEdits){ 
      out.write(_jsp_string237, 0, _jsp_string237.length);
      out.print((wfreqtabfield.getFiledHtmlShow() ));
      out.write(_jsp_string236, 0, _jsp_string236.length);
      }else{ 
      out.write(_jsp_string238, 0, _jsp_string238.length);
      out.print((fieldId));
      out.print((x ));
      out.write(_jsp_string239, 0, _jsp_string239.length);
      out.print((i ));
      out.write('_');
      out.print((x ));
      out.write('_');
      out.print((fieldCount ));
      out.write(_jsp_string240, 0, _jsp_string240.length);
      out.print((i ));
      out.write('_');
      out.print((x ));
      out.write('_');
      out.print((fieldCount ));
      out.write(_jsp_string241, 0, _jsp_string241.length);
      out.print((wfreqtabfield.getFieldShowValue() ));
      out.write(_jsp_string242, 0, _jsp_string242.length);
      out.print((wfreqtabfield.getFiledHtmlShow() ));
      out.write(_jsp_string243, 0, _jsp_string243.length);
      }
      out.write(_jsp_string244, 0, _jsp_string244.length);
      }else{
				     String detailFieldShowValue = wfreqtabfield.getFieldShowValue();
				   
      out.write(_jsp_string236, 0, _jsp_string236.length);
      if(colCalItemStr1.indexOf(fieldId)>=0){
      out.write(_jsp_string245, 0, _jsp_string245.length);
      if(detailFieldShowValue.indexOf("<span")==-1){
      out.write(_jsp_string246, 0, _jsp_string246.length);
      out.print((wfreqtabfield.getFieldFormName() ));
      out.write(_jsp_string170, 0, _jsp_string170.length);
      out.print((wfreqtabfield.getFieldFormName() ));
      out.write(_jsp_string247, 0, _jsp_string247.length);
      out.print((detailFieldShowValue ));
      out.write(_jsp_string248, 0, _jsp_string248.length);
      }else{
      out.write(_jsp_string249, 0, _jsp_string249.length);
      out.print((detailFieldShowValue ));
      out.write(_jsp_string250, 0, _jsp_string250.length);
      }
      out.write(_jsp_string251, 0, _jsp_string251.length);
      out.print((wfreqtabfield.getFieldFormName() ));
      out.write(_jsp_string252, 0, _jsp_string252.length);
      out.print((wfreqtabfield.getFieldFormName() ));
      out.write(_jsp_string253, 0, _jsp_string253.length);
      out.print((fieldId));
      out.write('_');
      out.print((x ));
      out.write(_jsp_string254, 0, _jsp_string254.length);
      out.print((fieldId));
      out.write('_');
      out.print((x ));
      out.write(_jsp_string128, 0, _jsp_string128.length);
      out.print((wfreqtabfield.getFieldShowValue() ));
      out.write(_jsp_string255, 0, _jsp_string255.length);
      }else{
      out.write(_jsp_string245, 0, _jsp_string245.length);
      if(detailFieldShowValue.indexOf("<span")==-1){
      out.write(_jsp_string246, 0, _jsp_string246.length);
      out.print((wfreqtabfield.getFieldFormName() ));
      out.write(_jsp_string170, 0, _jsp_string170.length);
      out.print((wfreqtabfield.getFieldFormName() ));
      out.write(_jsp_string247, 0, _jsp_string247.length);
      out.print((detailFieldShowValue ));
      out.write(_jsp_string248, 0, _jsp_string248.length);
      }else{
      out.write(_jsp_string256, 0, _jsp_string256.length);
      out.print((detailFieldShowValue ));
      out.write(_jsp_string250, 0, _jsp_string250.length);
      }
      out.write(_jsp_string257, 0, _jsp_string257.length);
      out.print((wfreqtabfield.getFieldFormName() ));
      out.write(_jsp_string252, 0, _jsp_string252.length);
      out.print((wfreqtabfield.getFieldFormName() ));
      out.write(_jsp_string258, 0, _jsp_string258.length);
      out.print((wfreqtabfield.getFieldFormName() ));
      out.write(_jsp_string113, 0, _jsp_string113.length);
      out.print((wfreqtabfield.getFieldFormName() ));
      out.write(_jsp_string259, 0, _jsp_string259.length);
      out.print((wfreqtabfield.getFieldHtmlType() ));
      out.write(_jsp_string128, 0, _jsp_string128.length);
      out.print((wfreqtabfield.getFieldValue()));
      out.write(_jsp_string138, 0, _jsp_string138.length);
      out.print((wfreqtabfield.getFieldName()));
      out.write(_jsp_string260, 0, _jsp_string260.length);
      }
      out.write(_jsp_string244, 0, _jsp_string244.length);
      } 
      out.write(_jsp_string261, 0, _jsp_string261.length);
      
					  if(x==(workflowRequestTableRecords.length-1)){
					     sumString.append("<td style=\"text-align:left;\" class=\"detailValueTD\" id=\"sum"+wfreqtabfield.getFieldId()+"\">");
					     sumString.append("<input type=\"hidden\" name=\"sumvalue"+wfreqtabfield.getFieldId()+"\" >");
					     sumString.append("</td>");
					  }
					   fieldCount ++ ;
					}
				} 
			} else { 
				for (int y=0; y<workflowRequestTableFields2.length; y++) {
					WorkflowRequestTableField wfreqtabfield = workflowRequestTableFields2[y];
					String fieldHtmlType = wfreqtabfield.getFieldHtmlType();
					String fieldType = wfreqtabfield.getFieldType();
					int fieldOrder = wfreqtabfield.getFieldOrder();
					String fieldId=wfreqtabfield.getFieldId();

					String fieldValue = wfreqtabfield.getFieldValue();
					String fileExtend="";
               
					
					if(colCalItemStr1.indexOf(fieldId)>=0){
						 isHeJi = true;
					}
					String fieldShowValue = wfreqtabfield.getFieldShowValue();
						if(colCalItemStr1.indexOf(fieldId)>=0){ 
                                if(!"".equals(wfreqtabfield.getFieldValue()) && null != wfreqtabfield.getFieldValue()){
									   if( null != summap.get(fieldId)){
										   String  sumField=(String)summap.get(fieldId);
										   String sumDefaultValue = wfreqtabfield.getFieldValue();
										 if(wfreqtabfield.getFieldValue().indexOf(",")>=0){
											  sumDefaultValue = wfreqtabfield.getFieldValue().replace(",","");
										 }
										 summap.put(fieldId,(Double.parseDouble(sumField)+Double.parseDouble(sumDefaultValue))+"");
									   }else{
										    String sumDefaultValue = wfreqtabfield.getFieldValue();
										    if(wfreqtabfield.getFieldValue().indexOf(",")>=0){
											    sumDefaultValue = wfreqtabfield.getFieldValue().replace(",","");
										    }
										   summap.put(fieldId,sumDefaultValue);
									   }
								 }
					 }
					if (wfreqtabfield.isView()) {
						//\u9644\u4ef6\u4e0a\u4f20
						if ("6".equals(fieldHtmlType)) {
							if (!"".equals(fieldValue)) {
								docids=fieldValue.split(",");
							   
								for (String docid:docids) {
									docManager.resetParameter();
									docManager.setId(Util.getIntValue(docid,0));
									
									RecordSet.executeSql("select  imagefilename,imagefileid  from DocImageFile  where docid="+Util.getIntValue(docid,0));
									if(RecordSet.next())
									{
									   fileExtend=RecordSet.getString("imagefilename");
									   imageFileid=RecordSet.getString("imagefileid");
									   if (fileExtend.lastIndexOf(".") != -1) {
									       fileExtend = fileExtend.substring(fileExtend.lastIndexOf("."));
									   } else {
										   fileExtend = "";
									   }
									}else
									{
									   fileExtend="";
									}
									docManager.getDocInfoById();
									item="{\"filetitle\":\""+docManager.getDocsubject()+fileExtend+"\",\"fileauthor\":\""+resource.getLastname(""+docManager.getOwnerid())+"\",\"" +
											"filecreatetime\":\""+docManager.getDoccreatedate()+"\",\"fileid\":\""+imageFileid+"\",\"filetype\":\"1\"}";
									attachmentssb.append(item).append(",");
								}	
							}
						} else if("3".equals(fieldHtmlType) && ("9".equals(fieldType) || "37".equals(fieldType))) { //\u6587\u6863\u548c\u591a\u6587\u6863
							if(!"".equals(fieldValue)) { 
								uploadids=fieldValue.split(",");
								for(String docid:uploadids) {
									docManager.resetParameter();
									docManager.setId(Util.getIntValue(docid,0));
									docManager.getDocInfoById();
									item="{\"filetitle\":\""+docManager.getDocsubject()+"\",\"fileauthor\":\""+resource.getLastname(""+docManager.getOwnerid())+"\",\"" +
											"filecreatetime\":\""+docManager.getDoccreatedate()+"\",\"fileid\":\""+docid+"\",\"filetype\":\"0\"}";
									attachmentssb.append(item).append(",");
								}
							}
						}
						if (y == 0 && fieldHtmlType.equalsIgnoreCase("4")) {
						} else {
							tdcount++;
						
      out.write(_jsp_string262, 0, _jsp_string262.length);
      out.print((fieldHtmlType.equals("1") && (fieldType.equals("2") || fieldType.equals("3"))? "text-align:left;" : "" ));
      out.write(_jsp_string164, 0, _jsp_string164.length);
      out.print(((fieldOrder < 0 ? "color:red;font-weight:bold;" : "")));
      out.write(_jsp_string263, 0, _jsp_string263.length);
       if("1".equals(wfdetailTabInfo.getIsEdit())){
      out.write(_jsp_string236, 0, _jsp_string236.length);
      if(isEdits){ 
      out.write(_jsp_string237, 0, _jsp_string237.length);
      out.print((wfreqtabfield.getFiledHtmlShow() ));
      out.write(_jsp_string236, 0, _jsp_string236.length);
      }else{ 
      out.write(_jsp_string238, 0, _jsp_string238.length);
      out.print((fieldId));
      out.print((x ));
      out.write(_jsp_string239, 0, _jsp_string239.length);
      out.print((i ));
      out.write('_');
      out.print((x ));
      out.write('_');
      out.print((fieldCount ));
      out.write(_jsp_string240, 0, _jsp_string240.length);
      out.print((i ));
      out.write('_');
      out.print((x ));
      out.write('_');
      out.print((fieldCount ));
      out.write(_jsp_string264, 0, _jsp_string264.length);
      out.print((wfreqtabfield.getFieldShowValue() ));
      out.write(_jsp_string242, 0, _jsp_string242.length);
      out.print((wfreqtabfield.getFiledHtmlShow() ));
      out.write(_jsp_string243, 0, _jsp_string243.length);
      } 
      out.write(_jsp_string244, 0, _jsp_string244.length);
      }else{ 
				      String detailFieldShowValue = wfreqtabfield.getFieldShowValue();
				   
      out.write(_jsp_string236, 0, _jsp_string236.length);
      if(colCalItemStr1.indexOf(fieldId)>=0){
      out.write(_jsp_string265, 0, _jsp_string265.length);
      if(detailFieldShowValue.indexOf("<span")==-1){
      out.write(_jsp_string246, 0, _jsp_string246.length);
      out.print((wfreqtabfield.getFieldFormName() ));
      out.write(_jsp_string170, 0, _jsp_string170.length);
      out.print((wfreqtabfield.getFieldFormName() ));
      out.write(_jsp_string247, 0, _jsp_string247.length);
      out.print((detailFieldShowValue ));
      out.write(_jsp_string248, 0, _jsp_string248.length);
      }else{
      out.write(_jsp_string249, 0, _jsp_string249.length);
      out.print((detailFieldShowValue ));
      out.write(_jsp_string250, 0, _jsp_string250.length);
      }
      out.write(_jsp_string266, 0, _jsp_string266.length);
      out.print((fieldId));
      out.write('_');
      out.print((x ));
      out.write(_jsp_string254, 0, _jsp_string254.length);
      out.print((fieldId));
      out.write('_');
      out.print((x ));
      out.write(_jsp_string128, 0, _jsp_string128.length);
      out.print((wfreqtabfield.getFieldValue() ));
      out.write(_jsp_string255, 0, _jsp_string255.length);
      }else{
      out.write(_jsp_string245, 0, _jsp_string245.length);
      if(detailFieldShowValue.indexOf("<span")==-1){
      out.write(_jsp_string246, 0, _jsp_string246.length);
      out.print((wfreqtabfield.getFieldFormName() ));
      out.write(_jsp_string170, 0, _jsp_string170.length);
      out.print((wfreqtabfield.getFieldFormName() ));
      out.write(_jsp_string247, 0, _jsp_string247.length);
      out.print((detailFieldShowValue ));
      out.write(_jsp_string248, 0, _jsp_string248.length);
      }else{
      out.write(_jsp_string256, 0, _jsp_string256.length);
      out.print((detailFieldShowValue ));
      out.write(_jsp_string250, 0, _jsp_string250.length);
      }
      out.write(_jsp_string267, 0, _jsp_string267.length);
      out.print((wfreqtabfield.getFieldFormName() ));
      out.write(_jsp_string113, 0, _jsp_string113.length);
      out.print((wfreqtabfield.getFieldFormName() ));
      out.write(_jsp_string259, 0, _jsp_string259.length);
      out.print((wfreqtabfield.getFieldHtmlType() ));
      out.write(_jsp_string128, 0, _jsp_string128.length);
      out.print((wfreqtabfield.getFieldValue()));
      out.write(_jsp_string138, 0, _jsp_string138.length);
      out.print((wfreqtabfield.getFieldName()));
      out.write(_jsp_string260, 0, _jsp_string260.length);
      }
      out.write(_jsp_string244, 0, _jsp_string244.length);
      } 
      out.write(_jsp_string268, 0, _jsp_string268.length);
      
						 if(x==(workflowRequestTableRecords.length-1)){
						     sumString.append("<td class=\"detailValueTD2\" style=\"text-align:left\" id=\"sum"+wfreqtabfield.getFieldId()+"\">");
						     sumString.append("<input type=\"hidden\" name=\"sumvalue"+wfreqtabfield.getFieldId()+"\" >");
						     sumString.append("</td>");
						  }
						 fieldCount ++ ;
						} 
					} 
				} 
			} 
			
      out.write(_jsp_string269, 0, _jsp_string269.length);
      out.print((i ));
      out.write('_');
      out.print((x ));
      out.write(_jsp_string270, 0, _jsp_string270.length);
      out.print((i ));
      out.write(',');
      out.print((x ));
      out.write(',');
      out.print((fieldCount ));
      out.write(',');
      out.print((isEdits ));
      out.write(',');
      out.print((isdisplay));
      out.write(_jsp_string271, 0, _jsp_string271.length);
      out.print((i ));
      out.write('_');
      out.print((x ));
      out.write(_jsp_string272, 0, _jsp_string272.length);
      out.print((tdcount+3));
      out.write(_jsp_string273, 0, _jsp_string273.length);
      out.print((i ));
      out.write('_');
      out.print((x ));
      out.write(_jsp_string274, 0, _jsp_string274.length);
      
		if (x != 0) {
		
      out.write(_jsp_string275, 0, _jsp_string275.length);
      out.print((tdcount));
      out.write(_jsp_string276, 0, _jsp_string276.length);
      
		}
	}
    if(workflowRequestTableRecords.length == 0 && canEdit){
    	   //\u5f53\u4e3a\u7a7a\u7684\u65f6\u5019\u9700\u8981\u5c06\u9ed8\u8ba4\u884c\u6570\u529f\u80fd\u6dfb\u52a0\u8fdb\u6765
    	   int defaultRowCountInt =!"".equals(defaultRowCount)&&null!=defaultRowCount?Integer.parseInt(defaultRowCount):0;
    	   if("1".equals(defaultRow)&&defaultRowCountInt>0){   
      out.write(_jsp_string277, 0, _jsp_string277.length);
      out.print((i));
      out.write(_jsp_string278, 0, _jsp_string278.length);
      out.print((defaultRowCountInt));
      out.write(_jsp_string279, 0, _jsp_string279.length);
      out.print((i ));
      out.write('(');
      out.print((i ));
      out.write(_jsp_string280, 0, _jsp_string280.length);
       }else{
      out.write(_jsp_string281, 0, _jsp_string281.length);
      out.print((i));
      out.write(_jsp_string282, 0, _jsp_string282.length);
      }
		   String sumStr = WorkflowServiceUtil.getApproveSumString(workflowid,nodeId,user,tableOrderId,colCalItemStr1,tableFieldName);
	       if(!"".equals(sumStr)){
			     sumString.append(sumStr);
			     isHeJi = true;
		   }
	}
	
      out.write(_jsp_string283, 0, _jsp_string283.length);
      } 
      out.write(_jsp_string284, 0, _jsp_string284.length);
      if(colCalAry.size()>0&&isHeJi){
      out.write(_jsp_string285, 0, _jsp_string285.length);
      if(canEdit){
      out.write(_jsp_string286, 0, _jsp_string286.length);
      }
      out.write(_jsp_string287, 0, _jsp_string287.length);
      out.print((SystemEnv.getHtmlLabelName(358,user.getLanguage())));
      out.write(_jsp_string288, 0, _jsp_string288.length);
      out.print((sumString.toString() ));
      out.write(_jsp_string289, 0, _jsp_string289.length);
      } 
      out.write(_jsp_string290, 0, _jsp_string290.length);
      
	}
	
      out.write(_jsp_string291, 0, _jsp_string291.length);
      
    String temStr = "";
    for(int m=0; m<rowCalAry.size(); m++){
        temStr = "";
		String calExp = (String)rowCalAry.get(m);
        ArrayList calExpList=DynamicDataInput.FormatString(calExp);

      out.write(_jsp_string59, 0, _jsp_string59.length);
      
            for(int j=0;j<calExpList.size();j++){
            calExp=(String)calExpList.get(j);
			String targetStr ="";
       
      out.write(_jsp_string60, 0, _jsp_string60.length);
      
            if(calExp.indexOf("innerHTML")>0){
		        out.println("if(i.indexOf('_')>=0){i=parseInt(i.substring(0,i.indexOf('_')));}");
				targetStr=calExp.substring(0,calExp.indexOf("innerHTML")-7)+"_span\")";
				out.println("if("+targetStr+"){");
            if (calExp.indexOf("=") != calExp.length()-1) {
            	 out.println("try{"); 
            	 out.println(calExp.replace("span","_span")+"; "); 
				 out.println(calExp.replace("span","_span_d")+"; ");
				 out.println("try{ ");
					 String isshowDiv= "";
					 if(targetStr.indexOf("_")>=0){
						isshowDiv =targetStr.substring(0,targetStr.indexOf("_")).replace("field","")+"\"+i)";
					 }
				    out.println("if("+isshowDiv+"){");
				       out.println("document.getElementById("+isshowDiv+".value).innerHTML="+targetStr+".innerHTML");
                    out.println("}");
				 out.println("}catch(ev){} ");
            	 try{
             		 if(calExp.indexOf("=")>=0){
             			 String[] calSplitSign=calExp.split("=");
             			 String rightequalsmark = calSplitSign[0].replace(".innerHTML","");
             			 String leftequalsmark = calSplitSign[1].replace(".replace(/,/g,\"\"))", "").replace("parse_Float(", "").replace(".value", ""); 
             			 if(leftequalsmark.indexOf("/")>=0){
             				  String leftdivide  =leftequalsmark.split("/")[0];
             				  String rightdivide =leftequalsmark.split("/")[1];
             				  String inputObj = rightequalsmark.replace("+\"span\")",")");
             				  out.println(" if("+rightequalsmark+".innerHTML == \"Infinity\" ||  "+rightequalsmark+".innerHTML == \"-Infinity\" || "+rightequalsmark+".innerHTML == \"NaN\"){");
             				  out.println("if("+inputObj+".viewtype == 1){"); //\u5fc5\u586b
             				  out.println(rightequalsmark+".innerHTML=\"<img src='/images/BacoError_wev8.gif' align=absmiddle>\";");
             				  out.println("}else{");
             				  out.println(rightequalsmark+".innerHTML='';");
             				  out.println("}");
             				  out.println(inputObj+".value='';");
             				  out.println("return;");
             				  out.println("}");
             			 }
             		 } 
             	  }catch(Exception e){}
             	  out.println("}catch(ex){");
             	  out.println("}");
            }
            out.println("}");
			
			out.println("if("+calExp.substring(0,calExp.indexOf("innerHTML")-9)+").getAttribute('datetype')=='int' && "+calExp.substring(0,calExp.indexOf("innerHTML")-9)+").getAttribute('datavaluetype')!='5'){ ") ;
			out.println(calExp.substring(0,calExp.indexOf("=")).replace("span","_span")+"=toPrecision("+calExp.substring(0,calExp.indexOf("innerHTML")-9)+").value,0);");
			out.println(calExp.substring(0,calExp.indexOf("=")).replace("span","_span_d")+"=toPrecision("+calExp.substring(0,calExp.indexOf("innerHTML")-9)+").value,0);");
			out.println("}else if("+calExp.substring(0,calExp.indexOf("innerHTML")-9)+").getAttribute('datetype')!='int' && "+calExp.substring(0,calExp.indexOf("innerHTML")-9)+").getAttribute('datavaluetype')=='5'){");
               out.println("if("+targetStr+"){");
			     out.println(targetStr+".innerHTML=changeToThousandsVal("+calExp.substring(0,calExp.indexOf("innerHTML")-9)+").value)+'';");
				  out.println(targetStr.replace("_span","_span_d")+".innerHTML=changeToThousandsVal("+calExp.substring(0,calExp.indexOf("innerHTML")-9)+").value)+'';");
			   out.println("try{ ");
			   String isshowDiv= "";
			     if(targetStr.indexOf("_")>=0){
				   isshowDiv =targetStr.substring(0,targetStr.indexOf("_")).replace("field","")+"\"+i)";
			     }
				out.println("if("+isshowDiv+"){");
			    out.println("document.getElementById("+isshowDiv+".value).innerHTML=changeToThousandsVal("+calExp.substring(0,calExp.indexOf("innerHTML")-9)+").value)+'';");
               out.println("}");
			   out.println("}catch(ev){} ");
               out.println("}");
                 String targetValue = targetStr.substring(0,targetStr.lastIndexOf("+"))+")";
                 out.println("if("+targetValue+"){");
			     out.println(targetValue+".value=changeToThousandsVal("+calExp.substring(0,calExp.indexOf("innerHTML")-9)+").value)+'';");
                out.println("}");
			 out.println("}else if("+calExp.substring(0,calExp.indexOf("innerHTML")-9)+").getAttribute('datetype')!='int' && "+calExp.substring(0,calExp.indexOf("innerHTML")-9)+").getAttribute('datavaluetype')=='4'){");
             out.println("try{ ");
					 if(targetStr.indexOf("_")>=0){
						isshowDiv =targetStr.substring(0,targetStr.indexOf("_")).replace("field","")+"\"+i)";
					 }
				    out.println("if("+isshowDiv+"){");
				        out.println("var moneyFormat ="+targetStr+".innerHTML ");
					   out.println("if(moneyFormat == '' || moneyFormat == 0 || moneyFormat == '0'){");
					    out.println("moneyFormat= '0.00'");
					   out.println("}else{");
					     out.println("moneyFormat= (milfloatFormat(toPrecision("+targetStr+".innerHTML,datalength))); "); 
					   out.println("}");
				       out.println("document.getElementById("+isshowDiv+".value).innerHTML=numberChangeToChinese("+targetStr+".innerHTML)+'('+moneyFormat+')';");
                       out.println(targetStr.replace("_span","_span_d")+".innerHTML=numberChangeToChinese("+targetStr+".innerHTML)+'('+moneyFormat+')';");
					out.println("}");
				 out.println("}catch(ev){} ");
				  String  resultNum = calExp.substring(0,calExp.indexOf("innerHTML")-9).substring(calExp.indexOf("field")+5)+"+\"_d";
            out.println("try{");
              out.println("if("+calExp.substring(0,calExp.indexOf("innerHTML")-9)+"+\"_d\")){");
                  out.println(" var fieldtype="+calExp.substring(0,calExp.indexOf("innerHTML")-9)+"+\"_d\").getAttribute('datavaluetype');");
                    out.println("  if(fieldtype == 4){");
                             out.println(" document.getElementById(\"field_lable"+resultNum+"\").value = toPrecision("+calExp.substring(0,calExp.indexOf("innerHTML")-9)+"+\"_d\").value,datalength);");
                           out.println(" numberToFormat(\""+resultNum+"\");");
			           out.println("document.getElementById(\"field_lable"+resultNum+"\").onchange()");
                     out.println("}");
                   out.println("}");
                out.println("}catch(e){");
		        out.println("}");
			 out.println("}else{");
                out.println("if("+targetStr+"){");
                 out.println(targetStr+".innerHTML=toPrecision("+calExp.substring(0,calExp.indexOf("innerHTML")-9)+").value,datalength);");
			   out.println(targetStr.replace("_span","_span_d")+".innerHTML=toPrecision("+calExp.substring(0,calExp.indexOf("innerHTML")-9)+").value,datalength);");
			  out.println("try{ ");
			  if(targetStr.indexOf("_")>=0){
						isshowDiv =targetStr.substring(0,targetStr.indexOf("_")).replace("field","")+"\"+i)";
			  }
			  out.println("if("+isshowDiv+"){");
			  out.println("document.getElementById("+isshowDiv+".value).innerHTML=toPrecision("+calExp.substring(0,calExp.indexOf("innerHTML")-9)+").value,datalength);");
              out.println("}");
		     out.println("}catch(ev){} ");
            out.println("}");
            out.println("}");
            }else{
              if(calExp.indexOf("value")>0){
                  targetStr=calExp.substring(0,calExp.indexOf("value")-1);
                  out.println("if("+targetStr+"){");
                  out.println(" datalength = "+targetStr+".getAttribute('datalength');");
                  if (calExp.indexOf("=") != calExp.length()-1) {
            	      out.println(calExp+"; ") ;
                  }
			     out.println("if("+calExp.substring(0,calExp.indexOf("value")-1)+".datatype=='int'){ "+calExp.substring(0,calExp.indexOf("="))+"=toPrecision("+calExp.substring(0,calExp.indexOf("="))+",0);"
				  +"}else{ "+calExp.substring(0,calExp.indexOf("="))+"=toPrecision("+calExp.substring(0,calExp.indexOf("="))+",datalength);}}");
				 out.println("if(i.indexOf('_d')==-1){");
					 out.println(calExp.substring(0,calExp.indexOf("value")-2)+"+\"_d\").value=toPrecision("+calExp.substring(0,calExp.indexOf("="))+",datalength)");
					 out.println(calExp.substring(0,calExp.indexOf("value")-2)+"+\"_d\").onchange();");
				 out.println("}else{");
				     out.println(calExp.substring(0,calExp.indexOf("value")-2)+"+\"\").value=toPrecision("+calExp.substring(0,calExp.indexOf("="))+",datalength)");
					 out.println(calExp.substring(0,calExp.indexOf("value")-2)+"+\"\").onchange();");
				  out.println("}");
                }
             }
            
      out.write(_jsp_string61, 0, _jsp_string61.length);
      
                }
	        
      out.write(_jsp_string62, 0, _jsp_string62.length);
      
    }

      out.write(_jsp_string292, 0, _jsp_string292.length);
      for(int m=0;m<wdtiCount;m++){
      out.write(_jsp_string293, 0, _jsp_string293.length);
      out.print((m));
      out.write(_jsp_string294, 0, _jsp_string294.length);
      out.print((m));
      out.write(_jsp_string295, 0, _jsp_string295.length);
      }
      out.write(_jsp_string296, 0, _jsp_string296.length);
      
		for(int m=0;m<mainCalAry.size();m++){
			String str2 =  mainCalAry.get(m).toString();
		    int idx = str2.indexOf("=");
			String str3 = str2.substring(0,idx);
			str3 = str3.substring(str3.indexOf("_")+1);
			String str4 = str2.substring(idx);
			str4 = str4.substring(str4.indexOf("_")+1);
	
      out.write(_jsp_string297, 0, _jsp_string297.length);
      out.print((str4));
      out.write(_jsp_string298, 0, _jsp_string298.length);
      out.print((str3));
      out.write(_jsp_string66, 0, _jsp_string66.length);
      out.print((str3));
      out.write(_jsp_string67, 0, _jsp_string67.length);
      out.print((str3));
      out.write(_jsp_string68, 0, _jsp_string68.length);
      out.print((str3));
      out.write(_jsp_string69, 0, _jsp_string69.length);
      out.print((str3));
      out.write(_jsp_string70, 0, _jsp_string70.length);
      out.print((str3));
      out.write(_jsp_string71, 0, _jsp_string71.length);
      out.print((str3));
      out.write(_jsp_string72, 0, _jsp_string72.length);
      out.print((str3));
      out.write(_jsp_string73, 0, _jsp_string73.length);
      out.print((str3));
      out.write(_jsp_string74, 0, _jsp_string74.length);
      out.print((str3));
      out.write(_jsp_string75, 0, _jsp_string75.length);
      out.print((str3));
      out.write(_jsp_string76, 0, _jsp_string76.length);
      out.print((str3));
      out.write(_jsp_string77, 0, _jsp_string77.length);
      out.print((str3));
      out.write(_jsp_string78, 0, _jsp_string78.length);
      out.print((str3));
      out.write(_jsp_string79, 0, _jsp_string79.length);
      out.print((str3));
      out.write(_jsp_string80, 0, _jsp_string80.length);
      out.print((str3));
      out.write(_jsp_string81, 0, _jsp_string81.length);
      out.print((str3));
      out.write(_jsp_string82, 0, _jsp_string82.length);
      out.print((str3));
      out.write(_jsp_string83, 0, _jsp_string83.length);
      out.print((str3));
      out.write(_jsp_string84, 0, _jsp_string84.length);
      out.print((str3));
      out.write(_jsp_string85, 0, _jsp_string85.length);
      out.print((str3));
      out.write(_jsp_string86, 0, _jsp_string86.length);
      out.print((str3));
      out.write(_jsp_string87, 0, _jsp_string87.length);
      out.print((str3));
      out.write(_jsp_string88, 0, _jsp_string88.length);
      out.print((str3));
      out.write(_jsp_string89, 0, _jsp_string89.length);
      out.print((str3));
      out.write(_jsp_string90, 0, _jsp_string90.length);
      out.print((str3));
      out.write(_jsp_string91, 0, _jsp_string91.length);
      }
      out.write(_jsp_string299, 0, _jsp_string299.length);
      for(int m=0;m<wdtiCount;m++){
      out.write(_jsp_string300, 0, _jsp_string300.length);
      out.print((m));
      out.write(_jsp_string294, 0, _jsp_string294.length);
      out.print((m));
      out.write(_jsp_string301, 0, _jsp_string301.length);
      }
      out.write(_jsp_string302, 0, _jsp_string302.length);
      
    for(int m=0; m<colCalAry.size(); m++){
		String str = colCalAry.get(m).toString();
		str = str.substring(str.indexOf("_")+1);
		if("0".equals(isBill)){
			 RecordSet.executeSql("select fielddbtype from workflow_formdict where id=" + str);
        }else{
        	 RecordSet.executeSql("select fielddbtype from workflow_billfield where id=" + str);
        }
		int decimaldigits_t =2;
    	if("oracle".equals(RecordSet.getDBType())){
    		 if(RecordSet.next()){
    	        	String fielddbtypeStr=RecordSet.getString("fielddbtype");
    	        	if(fielddbtypeStr.indexOf("number")>=0){
    	        		int digitsIndex = fielddbtypeStr.indexOf(",");
        				if(digitsIndex > -1){
        					decimaldigits_t = Util.getIntValue(fielddbtypeStr.substring(digitsIndex+1, fielddbtypeStr.length()-1), 2);
        				}else{
        					decimaldigits_t = 2;
        				}
    	        	}else{
    	        		if(fielddbtypeStr.equals("integer")){
    	        			decimaldigits_t = 0;
    	        		}
    	        	}
    	        }
    	}else{
    		 if(RecordSet.next()){
 	        	String fielddbtypeStr=RecordSet.getString("fielddbtype");
 	        	if(fielddbtypeStr.indexOf("decimal")>=0){
 	        		int digitsIndex = fielddbtypeStr.indexOf(",");
     				if(digitsIndex > -1){
     					decimaldigits_t = Util.getIntValue(fielddbtypeStr.substring(digitsIndex+1, fielddbtypeStr.length()-1), 2);
     				}else{
     					decimaldigits_t = 2;
     				}
 	        	}else{
 	        		if("int".equals(fielddbtypeStr)){
 	        			decimaldigits_t = 0;
 	        		}
 	        	}
 	        }
    	}
		//String defaultValue = "0";
	   // if(null != summap.get(str)&&!"".equals((String)summap.get(str))){
		//	  defaultValue = (String)summap.get(str);
		//}

      out.write(_jsp_string303, 0, _jsp_string303.length);
      out.print((str));
      out.write(_jsp_string304, 0, _jsp_string304.length);
      out.print((decimaldigits_t));
      out.write(_jsp_string305, 0, _jsp_string305.length);
      out.print((str));
      out.write(_jsp_string306, 0, _jsp_string306.length);
      out.print((str));
      out.write(_jsp_string307, 0, _jsp_string307.length);
      out.print((str));
      out.write(_jsp_string308, 0, _jsp_string308.length);
      out.print((str));
      out.write(_jsp_string309, 0, _jsp_string309.length);
      
    }

      out.write(_jsp_string310, 0, _jsp_string310.length);
      
      for(int u=0;u<colCalAry.size();u++){
    	  String fieldStr =(String)colCalAry.get(u);
		  String  defaultValue = "0";
    	  fieldStr =fieldStr.replaceAll("detailfield_","");
		  if(null != summap.get(fieldStr)&&!"".equals((String)summap.get(fieldStr))){
			  defaultValue = (String)summap.get(fieldStr);
		   }
    	 for(int o=0;o<wdtiCount;o++){
     
      out.write(_jsp_string311, 0, _jsp_string311.length);
      out.print((o));
      out.write(_jsp_string312, 0, _jsp_string312.length);
      out.print((o));
      out.write(_jsp_string313, 0, _jsp_string313.length);
      out.print((defaultValue));
      out.write(_jsp_string314, 0, _jsp_string314.length);
      out.print((fieldStr));
      out.write(_jsp_string315, 0, _jsp_string315.length);
      out.print((fieldStr));
      out.write(_jsp_string316, 0, _jsp_string316.length);
      out.print((fieldStr));
      out.write(_jsp_string317, 0, _jsp_string317.length);
      }}
      out.write(_jsp_string318, 0, _jsp_string318.length);
      out.print((wdtiCount));
      out.write(_jsp_string319, 0, _jsp_string319.length);
      
response.setHeader("cache-control", "no-cache");
response.setHeader("pragma", "no-cache");
response.setHeader("expires", "Mon 1 Jan 1990 00:00:00 GMT");
 user = HrmUserVarify.getUser (request , response) ;
 String groupId = request.getParameter("groupId");
 String derecorderindex =  request.getParameter("derecorderindex");
 //workflowid =  request.getParameter("workflowid");
 nodeId =  request.getParameter("nodeId");
 String rowIndex = request.getParameter("rowIndex");
String cmd = request.getParameter("cmd");
//if("createDiv".equals(cmd)){
	//if(!"".equals(groupId)&&groupId != null){
		//int groupIdInt = Integer.parseInt(groupId);
		//if("".equals(derecorderindex) || null== derecorderindex){
			//derecorderindex = "0";
		//}
		//if("".equals(rowIndex)|| null == rowIndex){
			//rowIndex = "0";
		//}
		//int rowIndexInt = Integer.parseInt(rowIndex);
		//int derecorderindexInt = Integer.parseInt(derecorderindex);
		//String html = WorkflowServiceUtil.getMouseOverJsString(workflowid,nodeId,user,derecorderindexInt,groupIdInt,rowIndexInt);
		//System.out.println(html);
		//out.println(html);
	//}
//}


      out.write(_jsp_string320, 0, _jsp_string320.length);
      out.write(_jsp_string321, 0, _jsp_string321.length);
      out.write(_jsp_string322, 0, _jsp_string322.length);
      out.write(_jsp_string323, 0, _jsp_string323.length);
      out.write(_jsp_string324, 0, _jsp_string324.length);
      
}

      out.write(_jsp_string175, 0, _jsp_string175.length);
      }else{
      out.write(_jsp_string175, 0, _jsp_string175.length);
      
if (!"create".equals(method) && workflowRequestInfo.getWorkflowDetailTableInfos() != null && workflowRequestInfo.getWorkflowDetailTableInfos().length>0) {

      out.write(_jsp_string325, 0, _jsp_string325.length);
      
	WorkflowDetailTableInfo[] workflowDetailTableInfos = workflowRequestInfo.getWorkflowDetailTableInfos();
	for (int i=0; i<workflowDetailTableInfos.length; i++) {
		WorkflowDetailTableInfo wfdetailTabInfo = workflowDetailTableInfos[i];
		String[] tableFieldName = wfdetailTabInfo.getTableFieldName();
		WorkflowRequestTableRecord[] workflowRequestTableRecords = wfdetailTabInfo.getWorkflowRequestTableRecords();
		int index = i + 1;
		int tblHeadCnt = tableFieldName.length - 1;
	
      out.write(_jsp_string326, 0, _jsp_string326.length);
      out.print((tableFieldName.length + 1 ));
      out.write(_jsp_string327, 0, _jsp_string327.length);
      out.print((i != 0 ? "margin-top:25px;" : "" ));
      out.write(_jsp_string328, 0, _jsp_string328.length);
      out.print((i != 0 ? "1px" : "0px"));
      out.write(_jsp_string329, 0, _jsp_string329.length);
      
		for (int x=0; x<tableFieldName.length; x++) {
		
      out.write(_jsp_string330, 0, _jsp_string330.length);
      out.print((i != 0 ? "1px" : "0px" ));
      out.write(_jsp_string331, 0, _jsp_string331.length);
      out.print((tableFieldName[x] ));
      out.write(_jsp_string332, 0, _jsp_string332.length);
      
		}
		
      out.write(_jsp_string217, 0, _jsp_string217.length);
      
		for (int x=0; x<workflowRequestTableRecords.length; x++) {
			WorkflowRequestTableRecord wfreqtabrec = workflowRequestTableRecords[x];
			WorkflowRequestTableField[] workflowRequestTableFields2 = wfreqtabrec.getWorkflowRequestTableFields();
			int tdcount = 0;
			int tblCentCnt = 0;
			int recordOrder = wfreqtabrec.getRecordOrder();
		
      out.write(_jsp_string333, 0, _jsp_string333.length);
      
			if (recordOrder < 0) {
			
      out.write(_jsp_string334, 0, _jsp_string334.length);
      } else { 
      out.write(_jsp_string335, 0, _jsp_string335.length);
      out.print((x + 1 ));
      out.write(_jsp_string233, 0, _jsp_string233.length);
      }
			tblCentCnt = workflowRequestTableFields2.length - 1;
			
			if (tblHeadCnt == tblCentCnt) {
				for (int y=0; y<workflowRequestTableFields2.length; y++) {
					WorkflowRequestTableField wfreqtabfield = workflowRequestTableFields2[y];
					String fieldHtmlType = wfreqtabfield.getFieldHtmlType();
					String fieldType = wfreqtabfield.getFieldType();
					String fieldId=wfreqtabfield.getFieldId();
					String detailFieldShowValue = wfreqtabfield.getFieldShowValue();
					if (wfreqtabfield.isView()) {
							tdcount++;
						
      out.write(_jsp_string234, 0, _jsp_string234.length);
      out.print((fieldHtmlType.equals("1") && (fieldType.equals("2") || fieldType.equals("3")) ? "text-align:right;" : "" ));
      out.write(_jsp_string164, 0, _jsp_string164.length);
      out.print((wfreqtabfield.getFieldOrder() < 0 ? "color:red;font-weight:bold;" : ""));
      out.write(_jsp_string336, 0, _jsp_string336.length);
      out.print((wfreqtabfield.getFieldFormName() ));
      out.write(_jsp_string170, 0, _jsp_string170.length);
      out.print((wfreqtabfield.getFieldFormName() ));
      out.write(_jsp_string247, 0, _jsp_string247.length);
      out.print((detailFieldShowValue ));
      out.write(_jsp_string337, 0, _jsp_string337.length);
      out.print((wfreqtabfield.getFieldFormName() ));
      out.write(_jsp_string252, 0, _jsp_string252.length);
      out.print((wfreqtabfield.getFieldFormName() ));
      out.write(_jsp_string338, 0, _jsp_string338.length);
      out.print((fieldId));
      out.write('_');
      out.print((x ));
      out.write(_jsp_string254, 0, _jsp_string254.length);
      out.print((fieldId));
      out.write('_');
      out.print((x ));
      out.write(_jsp_string128, 0, _jsp_string128.length);
      out.print((wfreqtabfield.getFieldValue() ));
      out.write(_jsp_string339, 0, _jsp_string339.length);
      
					}
				} 
			} else { 
				for (int y=0; y<workflowRequestTableFields2.length; y++) {
					WorkflowRequestTableField wfreqtabfield = workflowRequestTableFields2[y];
					String fieldHtmlType = wfreqtabfield.getFieldHtmlType();
					String fieldType = wfreqtabfield.getFieldType();
					int fieldOrder = wfreqtabfield.getFieldOrder();
					String fieldShowValue = wfreqtabfield.getFieldShowValue();
					String fieldId=wfreqtabfield.getFieldId();
					String detailFieldShowValue = wfreqtabfield.getFieldShowValue();
					if (wfreqtabfield.isView()) {
						if (y == 0 && fieldHtmlType.equalsIgnoreCase("4")) {
						} else {
							tdcount++;
						
      out.write(_jsp_string262, 0, _jsp_string262.length);
      out.print((fieldHtmlType.equals("1") && (fieldType.equals("2") || fieldType.equals("3"))? "text-align:right;" : "" ));
      out.write(_jsp_string164, 0, _jsp_string164.length);
      out.print(((fieldOrder < 0 ? "color:red;font-weight:bold;" : "")));
      out.write(_jsp_string340, 0, _jsp_string340.length);
      out.print((wfreqtabfield.getFieldFormName() ));
      out.write(_jsp_string170, 0, _jsp_string170.length);
      out.print((wfreqtabfield.getFieldFormName() ));
      out.write(_jsp_string247, 0, _jsp_string247.length);
      out.print((detailFieldShowValue ));
      out.write(_jsp_string337, 0, _jsp_string337.length);
      out.print((wfreqtabfield.getFieldFormName() ));
      out.write(_jsp_string252, 0, _jsp_string252.length);
      out.print((wfreqtabfield.getFieldFormName() ));
      out.write(_jsp_string341, 0, _jsp_string341.length);
      out.print((fieldId));
      out.write('_');
      out.print((x ));
      out.write(_jsp_string254, 0, _jsp_string254.length);
      out.print((fieldId));
      out.write('_');
      out.print((x ));
      out.write(_jsp_string128, 0, _jsp_string128.length);
      out.print((wfreqtabfield.getFieldValue() ));
      out.write(_jsp_string342, 0, _jsp_string342.length);
      
						} 
					} 
				} 
			} 
			
      out.write(_jsp_string343, 0, _jsp_string343.length);
      
		if (x != 0) {
		
      out.write(_jsp_string275, 0, _jsp_string275.length);
      out.print((tdcount));
      out.write(_jsp_string276, 0, _jsp_string276.length);
      
		}
	}
	
      out.write(_jsp_string290, 0, _jsp_string290.length);
      
	}
	
      out.write(_jsp_string344, 0, _jsp_string344.length);
      
}
}

      out.write(_jsp_string345, 0, _jsp_string345.length);
      
String rsdata = "";
//\u5982\u679c\u91cc\u9762\u5305\u542b\u5143\u7d20
if (attachmentssb.length()>2) {
	rsdata = attachmentssb.substring(0, attachmentssb.length()-1) + "]";
} else {
	rsdata = "[]";
}
rsdata=rsdata.replace("\\", "&transline;");
rsdata=rsdata.replace("\"", "\\\"");


      out.write(_jsp_string346, 0, _jsp_string346.length);
      out.print((rsdata));
      out.write(_jsp_string347, 0, _jsp_string347.length);
      
					} 
					
      out.write(_jsp_string348, 0, _jsp_string348.length);
      out.print((module ));
      out.write(_jsp_string349, 0, _jsp_string349.length);
      out.print((scope ));
      out.write(_jsp_string350, 0, _jsp_string350.length);
      out.print((requestid ));
      out.write(_jsp_string351, 0, _jsp_string351.length);
      out.print((workflowid ));
      out.write(_jsp_string352, 0, _jsp_string352.length);
      out.print((Util.null2String(workflowRequestInfo.getRemark())));
      out.write(_jsp_string353, 0, _jsp_string353.length);
      out.print((Util.null2String(workflowRequestInfo.getSignatureAppendfix())));
      out.write(_jsp_string354, 0, _jsp_string354.length);
      if(isreject.equals("1")){
      out.write(_jsp_string355, 0, _jsp_string355.length);
      out.print((zjclNodeid ));
      out.write(_jsp_string356, 0, _jsp_string356.length);
      }else{
      out.write(_jsp_string357, 0, _jsp_string357.length);
      }
      out.write(_jsp_string358, 0, _jsp_string358.length);
       if(flagServerVersion4_5){ 
      out.write(_jsp_string359, 0, _jsp_string359.length);
      out.print(((clienttype.equalsIgnoreCase("Webclient") && !"create".equals(method))));
      out.write(_jsp_string360, 0, _jsp_string360.length);
      } 
      out.write(_jsp_string361, 0, _jsp_string361.length);
      out.print(((!workflowRequestInfo.isCanEdit() || clienttype.equalsIgnoreCase("Webclient"))));
      out.write(_jsp_string362, 0, _jsp_string362.length);
      out.print(((clienttype.equalsIgnoreCase("Webclient"))));
      out.write(_jsp_string363, 0, _jsp_string363.length);
        if("1".equals(isBill) && "180".equals(formId)){ 
      out.write(_jsp_string364, 0, _jsp_string364.length);
        } 
      out.write(_jsp_string365, 0, _jsp_string365.length);
      
		if (!"create".equals(method)) {
		
      out.write(_jsp_string366, 0, _jsp_string366.length);
      
		}
		
      out.write(_jsp_string367, 0, _jsp_string367.length);
       if(flagForwardReceiveDef){ 
      out.write(_jsp_string368, 0, _jsp_string368.length);
      out.print((WorkflowSpeechAppend.getAllOperateredResource(String.valueOf(requestid))));
      out.write(_jsp_string369, 0, _jsp_string369.length);
       } 
      out.write(_jsp_string370, 0, _jsp_string370.length);
      out.print((workflowid));
      out.write(_jsp_string371, 0, _jsp_string371.length);
      out.print((requestid));
      out.write(_jsp_string372, 0, _jsp_string372.length);
      out.print((userid));
      out.write(_jsp_string373, 0, _jsp_string373.length);
      //if(!"".equals(workflowHtmlShow)){ 
      out.write(_jsp_string374, 0, _jsp_string374.length);
       //} 
      out.write(_jsp_string375, 0, _jsp_string375.length);
      out.print((FnaCostCenter.ORGANIZATION_TYPE));
      out.write(_jsp_string376, 0, _jsp_string376.length);
      out.print((request.getQueryString().replace("isPreLoad", "isPreLoadAAAA")));
      out.write(_jsp_string377, 0, _jsp_string377.length);
      out.print((workflowRequestInfo.isNeedAffirmance() ));
      out.write(_jsp_string378, 0, _jsp_string378.length);
      out.print((workflowRequestInfo.getWorkflowBaseInfo().getIsselectrejectnode() ));
      out.write(_jsp_string379, 0, _jsp_string379.length);
      
	//\u662f\u5426\u662f\u4ece\u81ea\u5b9a\u4e49\u6a21\u5757\u4ece\u521b\u5efa\u6d41\u7a0b
	int createFromCustomMode = Util.getIntValue(Util.null2String(request.getParameter("crtfctm")), -1);
	
      out.write(_jsp_string380, 0, _jsp_string380.length);
      out.print((createFromCustomMode == 1 ));
      out.write(_jsp_string381, 0, _jsp_string381.length);
      out.print((fromRequestid));
      out.write(_jsp_string382, 0, _jsp_string382.length);
      out.print((workflowRequestInfo.getRequestName()));
      out.write(_jsp_string383, 0, _jsp_string383.length);
      out.print((workflowid));
      out.write(_jsp_string384, 0, _jsp_string384.length);
      out.print((workflowRequestInfo.getCurrentNodeId() ));
      out.write(_jsp_string385, 0, _jsp_string385.length);
      out.print((workflowRequestInfo.isNeedAffirmance() ));
      out.write(_jsp_string386, 0, _jsp_string386.length);
      out.print(("2".equals(workflowRequestInfo.getTempletStatus()) ));
      out.write(_jsp_string387, 0, _jsp_string387.length);
      out.print((1 == workflowRequestInfo.getWorkflowBaseInfo().getIsselectrejectnode() ));
      out.write(_jsp_string388, 0, _jsp_string388.length);
      
	        if(freedis.equals("1")){
      out.write(_jsp_string389, 0, _jsp_string389.length);
      }else{
    	   
      out.write(_jsp_string390, 0, _jsp_string390.length);
      out.print((workflowid));
      out.write('|');
      out.print((requestid));
      out.write('|');
      out.print((nodeId));
      out.write(_jsp_string391, 0, _jsp_string391.length);
      }
      out.write(_jsp_string392, 0, _jsp_string392.length);
      out.print(("1".equals(workflowRequestInfo.getSignatureStatus()) ));
      out.write(_jsp_string393, 0, _jsp_string393.length);
      out.print(("1".equals(workflowRequestInfo.getTempletStatus()) ));
      out.write(_jsp_string394, 0, _jsp_string394.length);
      out.print(("1".equals(workflowRequestInfo.getIsAnnexUpload()) ? "" : SystemEnv.getHtmlLabelName(30492, userLanguage) ));
      out.write(_jsp_string395, 0, _jsp_string395.length);
      out.print(((annexDocCategory != null) ? "" : SystemEnv.getHtmlLabelName(31004, userLanguage)));
      out.write(_jsp_string396, 0, _jsp_string396.length);
      out.print((hasOperation));
      out.write(_jsp_string397, 0, _jsp_string397.length);
      out.print((workflowRequestInfo.isMustInputRemark() ));
      out.write(_jsp_string398, 0, _jsp_string398.length);
      out.print((Util.null2String(workflowRequestInfo.getRemark()).replace("\n","\\n")));
      out.write(_jsp_string399, 0, _jsp_string399.length);
      
		String phrasesstring = "{\\\"phrases\\\":[";
		String[][] workflowPhrases = workflowRequestInfo.getWorkflowPhrases();
		if(workflowPhrases != null){
			for (int i=0; i<workflowRequestInfo.getWorkflowPhrases().length; i++) {
				if (i != 0) phrasesstring += ",";
				String phrName = workflowRequestInfo.getWorkflowPhrases()[i][0].replaceAll("\r\n", "").replaceAll("\n", "").replaceAll("\r", "").replaceAll("\\\\", "\\\\\\\\").replace("\"", "\\\\\\\"").replaceAll("\'", "\\\\\'");
				String phrValue = workflowRequestInfo.getWorkflowPhrases()[i][1].replaceAll("\r\n", "").replaceAll("\n", "\\\\\\n").replaceAll("\r", "").replaceAll("\\\\", "\\\\\\\\").replace("\"", "\\\\\\\"").replaceAll("\'", "\\\\\'");
				phrasesstring += "{\\\"name\\\": \\\"" + phrName + "\\\", \\\"value\\\":\\\"" + phrValue + "\\\"}";
			}
		}
		phrasesstring += "]}";
		
      out.write(_jsp_string400, 0, _jsp_string400.length);
      out.print((phrasesstring ));
      out.write(_jsp_string401, 0, _jsp_string401.length);
      out.print((workflowRequestInfo.getIsFormSignature().equals("1") ));
      out.write(_jsp_string402, 0, _jsp_string402.length);
      
		int operatorType = -1;
		StringBuffer operationJson = new StringBuffer("{\\\"operations\\\" : [");
		if (workflowRequestInfo.getSubmitButtonName() != null && !workflowRequestInfo.getSubmitButtonName().equals("")) {
			
			operatorType = 0;
			//if (workflowRequestInfo.getRejectButtonName()!=null&&!workflowRequestInfo.getRejectButtonName().equals("")) {
			//	operatorType = 0;
			//}
			
			operationJson.append("{\\\"name\\\": \\\"").append(workflowRequestInfo.getSubmitButtonName()).append("\\\", \\\"type\\\":\\\"" + operatorType).append("\\\", \\\"callback\\\":\\\"doSubmit_4Mobile(1)\\\"},");
		}
		if (workflowRequestInfo.getSubnobackButtonName()!=null&&!workflowRequestInfo.getSubnobackButtonName().equals("")) {
			operatorType = 2;
			operationJson.append("{\\\"name\\\": \\\"").append(workflowRequestInfo.getSubnobackButtonName()).append("\\\", \\\"type\\\":\\\"" + operatorType).append("\\\", \\\"callback\\\":\\\"doSubmit_4Mobile(2)\\\"},");
		}
		if (workflowRequestInfo.getSubbackButtonName()!=null&&!workflowRequestInfo.getSubbackButtonName().equals("")) { 
			operatorType = 3;
			operationJson.append("{\\\"name\\\": \\\"").append(workflowRequestInfo.getSubbackButtonName()).append("\\\", \\\"type\\\":\\\"" + operatorType).append("\\\", \\\"callback\\\":\\\"doSubmit_4Mobile(3)\\\"},");
		}
		if (workflowRequestInfo.getRejectButtonName()!=null&&!workflowRequestInfo.getRejectButtonName().equals("")) { 
			if(!"".equals(isornotFree)){
		       if(isreject.equals("1")){
		    	 operatorType = 1;
			     operationJson.append("{\\\"name\\\": \\\"").append("\u9000\u56de").append("\\\", \\\"type\\\":\\\"" + operatorType).append("\\\", \\\"callback\\\":\\\"dorejectIsfree()\\\"},");
			   }
			}else{
			     operatorType = 1;
			     operationJson.append("{\\\"name\\\": \\\"").append(workflowRequestInfo.getRejectButtonName()).append("\\\", \\\"type\\\":\\\"" + operatorType).append("\\\", \\\"callback\\\":\\\"doreject()\\\"},");
			}
		}else{
			if(isreject.equals("1")){
		    	 operatorType = 1;
			     operationJson.append("{\\\"name\\\": \\\"").append("\u9000\u56de").append("\\\", \\\"type\\\":\\\"" + operatorType).append("\\\", \\\"callback\\\":\\\"dorejectIsfree()\\\"},");
			  }
		}
		if (workflowRequestInfo.getForwardButtonName()!=null&&!workflowRequestInfo.getForwardButtonName().equals("")) { 
			operatorType = 4;
			operationJson.append("{\\\"name\\\": \\\"").append(workflowRequestInfo.getForwardButtonName()).append("\\\", \\\"type\\\":\\\"" + operatorType).append("\\\", \\\"callback\\\":\\\"doforward()\\\",\\\"forwardoperationkey\\\":\\\"forwardoperation\\\"},");
			
		}
		if (workflowRequestInfo.getTakingOpsButtonName()!=null&&!workflowRequestInfo.getTakingOpsButtonName().equals("")) { 
			operatorType = 4;
			operationJson.append("{\\\"name\\\": \\\"").append(workflowRequestInfo.getTakingOpsButtonName()).append("\\\", \\\"type\\\":\\\"" + operatorType).append("\\\", \\\"callback\\\":\\\"doforward2()\\\",\\\"forwardoperationkey\\\":\\\"forwardoperation2\\\"},");
			
		}
		if (workflowRequestInfo.getHandleForwardButtonName()!=null&&!workflowRequestInfo.getHandleForwardButtonName().equals("")) { 
			operatorType = 4;
			operationJson.append("{\\\"name\\\": \\\"").append(workflowRequestInfo.getHandleForwardButtonName()).append("\\\", \\\"type\\\":\\\"" + operatorType).append("\\\", \\\"callback\\\":\\\"doforward3()\\\",\\\"forwardoperationkey\\\":\\\"forwardoperation3\\\"},");
			
		}
			if (workflowRequestInfo.getForhandbackButtonName()!=null&&!workflowRequestInfo.getForhandbackButtonName().equals("")) { 
			operatorType = 4;
			operationJson.append("{\\\"name\\\": \\\"").append(workflowRequestInfo.getForhandbackButtonName()).append("\\\", \\\"type\\\":\\\"" + operatorType).append("\\\", \\\"callback\\\":\\\"doforward3()\\\",\\\"forwardoperationkey\\\":\\\"forwardoperation4\\\"},");
			
		}
			if (workflowRequestInfo.getForhandnobackButtonName()!=null&&!workflowRequestInfo.getForhandnobackButtonName().equals("")) { 
			operatorType = 4;
			operationJson.append("{\\\"name\\\": \\\"").append(workflowRequestInfo.getForhandnobackButtonName()).append("\\\", \\\"type\\\":\\\"" + operatorType).append("\\\", \\\"callback\\\":\\\"doforward3()\\\",\\\"forwardoperationkey\\\":\\\"forwardoperation5\\\"},");
			
		}
		if (workflowRequestInfo.getGivingopinionsName() != null && !workflowRequestInfo.getGivingopinionsName().equals("")) {
			
			operatorType = 0;
			//if (workflowRequestInfo.getRejectButtonName()!=null&&!workflowRequestInfo.getRejectButtonName().equals("")) {
			//	operatorType = 0;
			//}
			
			operationJson.append("{\\\"name\\\": \\\"").append(workflowRequestInfo.getGivingopinionsName()).append("\\\", \\\"type\\\":\\\"" + operatorType).append("\\\", \\\"callback\\\":\\\"doSubmit_4Mobile(1)\\\"},");
		}
		if (workflowRequestInfo.getGivingOpinionsnobackName()!=null&&!workflowRequestInfo.getGivingOpinionsnobackName().equals("")) {
			operatorType = 2;
			operationJson.append("{\\\"name\\\": \\\"").append(workflowRequestInfo.getGivingOpinionsnobackName()).append("\\\", \\\"type\\\":\\\"" + operatorType).append("\\\", \\\"callback\\\":\\\"doSubmit_4Mobile(2)\\\"},");
		}
		if (workflowRequestInfo.getGivingOpinionsbackName()!=null&&!workflowRequestInfo.getGivingOpinionsbackName().equals("")) { 
			operatorType = 3;
			operationJson.append("{\\\"name\\\": \\\"").append(workflowRequestInfo.getGivingOpinionsbackName()).append("\\\", \\\"type\\\":\\\"" + operatorType).append("\\\", \\\"callback\\\":\\\"doSubmit_4Mobile(3)\\\"},");
		}
		operationJson.delete(operationJson.length() - 1, operationJson.length());
		operationJson.append("]");
        if (workflowRequestInfo.getForwardButtonName()!=null&&!workflowRequestInfo.getForwardButtonName().equals("")) { 
			operationJson.append(",\\\"forwardoperation\\\" :"); 
			operationJson.append("[{\\\"isFromFord\\\":\\\"true\\\",").append("\\\"name\\\": \\\"").append("\u63d0\u4ea4").append("\\\", \\\"type\\\":\\\"6\\\"").append(",\\\"callbackFunction1\\\":\\\"forwardresourceids\\\"").append(",\\\"callbackFunction2\\\":\\\"forwardresources\\\"").append(", \\\"callback\\\":\\\"doforward()\\\"}]");
		}
		 if (workflowRequestInfo.getTakingOpsButtonName()!=null&&!workflowRequestInfo.getTakingOpsButtonName().equals("")) { 
			operationJson.append(",\\\"forwardoperation2\\\" :"); 
			operationJson.append("[{\\\"isFromFord\\\":\\\"true\\\",").append("\\\"name\\\": \\\"").append("\u610f\u89c1\u5f81\u8be2").append("\\\", \\\"type\\\":\\\"6\\\"").append(",\\\"callbackFunction1\\\":\\\"forwardresourceids2\\\"").append(",\\\"callbackFunction2\\\":\\\"forwardresources2\\\"").append(", \\\"callback\\\":\\\"doforward2()\\\"}]");
		}
		 if (workflowRequestInfo.getHandleForwardButtonName()!=null&&!workflowRequestInfo.getHandleForwardButtonName().equals("")) { 
			operationJson.append(",\\\"forwardoperation3\\\" :"); 
			operationJson.append("[{\\\"isFromFord\\\":\\\"true\\\",").append("\\\"name\\\": \\\"").append("\u8f6c\u529e\u63d0\u4ea4").append("\\\", \\\"type\\\":\\\"6\\\"").append(",\\\"callbackFunction1\\\":\\\"forwardresourceids3\\\"").append(",\\\"callbackFunction2\\\":\\\"forwardresources3\\\"").append(", \\\"callback\\\":\\\"doforward3()\\\"}]");
		}
		 if (workflowRequestInfo.getForhandbackButtonName()!=null&&!workflowRequestInfo.getForhandbackButtonName().equals("")) { 
			operationJson.append(",\\\"forwardoperation4\\\" :"); 
			operationJson.append("[{\\\"isFromFord\\\":\\\"true\\\",").append("\\\"name\\\": \\\"").append("\u8f6c\u529e\u9700\u53cd\u9988\u63d0\u4ea4").append("\\\", \\\"type\\\":\\\"6\\\"").append(",\\\"callbackFunction1\\\":\\\"forwardresourceids3\\\"").append(",\\\"callbackFunction2\\\":\\\"forwardresources3\\\"").append(", \\\"callback\\\":\\\"doforward3()\\\"}]");
		}
		 if (workflowRequestInfo.getForhandnobackButtonName()!=null&&!workflowRequestInfo.getForhandnobackButtonName().equals("")) { 
			operationJson.append(",\\\"forwardoperation5\\\" :"); 
			operationJson.append("[{\\\"isFromFord\\\":\\\"true\\\",").append("\\\"name\\\": \\\"").append("\u8f6c\u529e\u4e0d\u9700\u53cd\u9988\u63d0\u4ea4").append("\\\", \\\"type\\\":\\\"6\\\"").append(",\\\"callbackFunction1\\\":\\\"forwardresourceids3\\\"").append(",\\\"callbackFunction2\\\":\\\"forwardresources3\\\"").append(", \\\"callback\\\":\\\"doforward3()\\\"}]");
		}

		operationJson.append("}");
		
      out.write(_jsp_string400, 0, _jsp_string400.length);
      out.print((operationJson.toString() ));
      out.write(_jsp_string403, 0, _jsp_string403.length);
      
String workflowidFna = workflowid;
int currentnodeidFna = 0;
if(requestid > 0){
	rsFna.executeSql("select a.workflowid, a.currentnodeid from workflow_requestbase a where a.requestid = "+requestid);
	if(rsFna.next()){
		workflowidFna = Util.null2String(rsFna.getString("workflowid")).trim();
		currentnodeidFna = rsFna.getInt("currentnodeid");
	}
}
String custompage4Emoble = "";
rsFna.executeSql("select custompage4Emoble from workflow_base where id = "+Util.getIntValue(workflowidFna));
if(rsFna.next()){
	custompage4Emoble = Util.null2String(rsFna.getString("custompage4Emoble")).trim();
}
if(!"".equals(custompage4Emoble)){

      out.write(_jsp_string404, 0, _jsp_string404.length);
      pageContext.include(custompage4Emoble, "workflowid=" + com.caucho.el.Expr.toString(workflowidFna, null)+ "&" + "nodeid=" + com.caucho.el.Expr.toString(currentnodeidFna, null)+ "&" + "requestid=" + com.caucho.el.Expr.toString(requestid, null)+ "&" + "userid=" + com.caucho.el.Expr.toString(userid, null)+ "&" + "languageid=" + com.caucho.el.Expr.toString(user.getLanguage(), null), true);
      out.write(_jsp_string175, 0, _jsp_string175.length);
      		
}

      out.write(_jsp_string405, 0, _jsp_string405.length);
    } catch (java.lang.Throwable _jsp_e) {
      pageContext.handlePageException(_jsp_e);
    } finally {
      _jsp_application.getJspApplicationContext().freePageContext(pageContext);
    }
  }

  private java.util.ArrayList _caucho_depends = new java.util.ArrayList();

  public java.util.ArrayList _caucho_getDependList()
  {
    return _caucho_depends;
  }

  public void _caucho_addDepend(com.caucho.vfs.PersistentDependency depend)
  {
    super._caucho_addDepend(depend);
    com.caucho.jsp.JavaPage.addDepend(_caucho_depends, depend);
  }

  public boolean _caucho_isModified()
  {
    if (_caucho_isDead)
      return true;
    if (com.caucho.server.util.CauchoSystem.getVersionId() != 1886798272571451039L)
      return true;
    for (int i = _caucho_depends.size() - 1; i >= 0; i--) {
      com.caucho.vfs.Dependency depend;
      depend = (com.caucho.vfs.Dependency) _caucho_depends.get(i);
      if (depend.isModified())
        return true;
    }
    return false;
  }

  public long _caucho_lastModified()
  {
    return 0;
  }

  public java.util.HashMap<String,java.lang.reflect.Method> _caucho_getFunctionMap()
  {
    return _jsp_functionMap;
  }

  public void init(ServletConfig config)
    throws ServletException
  {
    com.caucho.server.webapp.WebApp webApp
      = (com.caucho.server.webapp.WebApp) config.getServletContext();
    super.init(config);
    com.caucho.jsp.TaglibManager manager = webApp.getJspApplicationContext().getTaglibManager();
    com.caucho.jsp.PageContextImpl pageContext = new com.caucho.jsp.PageContextImpl(webApp, this);
  }

  public void destroy()
  {
      _caucho_isDead = true;
      super.destroy();
  }

  public void init(com.caucho.vfs.Path appDir)
    throws javax.servlet.ServletException
  {
    com.caucho.vfs.Path resinHome = com.caucho.server.util.CauchoSystem.getResinHome();
    com.caucho.vfs.MergePath mergePath = new com.caucho.vfs.MergePath();
    mergePath.addMergePath(appDir);
    mergePath.addMergePath(resinHome);
    com.caucho.loader.DynamicClassLoader loader;
    loader = (com.caucho.loader.DynamicClassLoader) getClass().getClassLoader();
    String resourcePath = loader.getResourcePathSpecificFirst();
    mergePath.addClassPath(resourcePath);
    com.caucho.vfs.Depend depend;
    depend = new com.caucho.vfs.Depend(appDir.lookup("mobile/plugin/1/client.jsp"), -2579617165168803903L, false);
    com.caucho.jsp.JavaPage.addDepend(_caucho_depends, depend);
    depend = new com.caucho.vfs.Depend(appDir.lookup("mobile/plugin/1/html/operDetail.jsp"), 5058176916479607641L, false);
    com.caucho.jsp.JavaPage.addDepend(_caucho_depends, depend);
    depend = new com.caucho.vfs.Depend(appDir.lookup("mobile/plugin/1/html/htmlcalculate.jsp"), -734143554100879879L, false);
    com.caucho.jsp.JavaPage.addDepend(_caucho_depends, depend);
    depend = new com.caucho.vfs.Depend(appDir.lookup("mobile/plugin/1/form.jsp"), 6246127646350006039L, false);
    com.caucho.jsp.JavaPage.addDepend(_caucho_depends, depend);
    depend = new com.caucho.vfs.Depend(appDir.lookup("mobile/plugin/1/form/detail/jsaddanddelete.jsp"), 5111922075283070548L, false);
    com.caucho.jsp.JavaPage.addDepend(_caucho_depends, depend);
    depend = new com.caucho.vfs.Depend(appDir.lookup("mobile/plugin/1/form/detail/jscalculate.jsp"), 6255773625163818376L, false);
    com.caucho.jsp.JavaPage.addDepend(_caucho_depends, depend);
    depend = new com.caucho.vfs.Depend(appDir.lookup("mobile/plugin/1/form/detail/rowhtmldetail.jsp"), 8239158636688901950L, false);
    com.caucho.jsp.JavaPage.addDepend(_caucho_depends, depend);
  }

  private final static char []_jsp_string277;
  private final static char []_jsp_string225;
  private final static char []_jsp_string182;
  private final static char []_jsp_string364;
  private final static char []_jsp_string264;
  private final static char []_jsp_string227;
  private final static char []_jsp_string73;
  private final static char []_jsp_string327;
  private final static char []_jsp_string208;
  private final static char []_jsp_string377;
  private final static char []_jsp_string283;
  private final static char []_jsp_string278;
  private final static char []_jsp_string266;
  private final static char []_jsp_string26;
  private final static char []_jsp_string52;
  private final static char []_jsp_string22;
  private final static char []_jsp_string384;
  private final static char []_jsp_string282;
  private final static char []_jsp_string14;
  private final static char []_jsp_string301;
  private final static char []_jsp_string344;
  private final static char []_jsp_string371;
  private final static char []_jsp_string161;
  private final static char []_jsp_string11;
  private final static char []_jsp_string78;
  private final static char []_jsp_string98;
  private final static char []_jsp_string389;
  private final static char []_jsp_string351;
  private final static char []_jsp_string310;
  private final static char []_jsp_string267;
  private final static char []_jsp_string188;
  private final static char []_jsp_string285;
  private final static char []_jsp_string173;
  private final static char []_jsp_string394;
  private final static char []_jsp_string379;
  private final static char []_jsp_string141;
  private final static char []_jsp_string382;
  private final static char []_jsp_string133;
  private final static char []_jsp_string171;
  private final static char []_jsp_string13;
  private final static char []_jsp_string194;
  private final static char []_jsp_string183;
  private final static char []_jsp_string16;
  private final static char []_jsp_string170;
  private final static char []_jsp_string386;
  private final static char []_jsp_string87;
  private final static char []_jsp_string184;
  private final static char []_jsp_string333;
  private final static char []_jsp_string108;
  private final static char []_jsp_string246;
  private final static char []_jsp_string390;
  private final static char []_jsp_string242;
  private final static char []_jsp_string116;
  private final static char []_jsp_string293;
  private final static char []_jsp_string57;
  private final static char []_jsp_string259;
  private final static char []_jsp_string193;
  private final static char []_jsp_string302;
  private final static char []_jsp_string138;
  private final static char []_jsp_string163;
  private final static char []_jsp_string36;
  private final static char []_jsp_string261;
  private final static char []_jsp_string295;
  private final static char []_jsp_string42;
  private final static char []_jsp_string326;
  private final static char []_jsp_string224;
  private final static char []_jsp_string151;
  private final static char []_jsp_string279;
  private final static char []_jsp_string258;
  private final static char []_jsp_string81;
  private final static char []_jsp_string342;
  private final static char []_jsp_string104;
  private final static char []_jsp_string91;
  private final static char []_jsp_string44;
  private final static char []_jsp_string308;
  private final static char []_jsp_string397;
  private final static char []_jsp_string237;
  private final static char []_jsp_string376;
  private final static char []_jsp_string45;
  private final static char []_jsp_string132;
  private final static char []_jsp_string35;
  private final static char []_jsp_string358;
  private final static char []_jsp_string334;
  private final static char []_jsp_string31;
  private final static char []_jsp_string159;
  private final static char []_jsp_string105;
  private final static char []_jsp_string93;
  private final static char []_jsp_string353;
  private final static char []_jsp_string19;
  private final static char []_jsp_string356;
  private final static char []_jsp_string65;
  private final static char []_jsp_string83;
  private final static char []_jsp_string58;
  private final static char []_jsp_string38;
  private final static char []_jsp_string297;
  private final static char []_jsp_string312;
  private final static char []_jsp_string189;
  private final static char []_jsp_string107;
  private final static char []_jsp_string135;
  private final static char []_jsp_string359;
  private final static char []_jsp_string324;
  private final static char []_jsp_string120;
  private final static char []_jsp_string250;
  private final static char []_jsp_string33;
  private final static char []_jsp_string191;
  private final static char []_jsp_string222;
  private final static char []_jsp_string298;
  private final static char []_jsp_string54;
  private final static char []_jsp_string12;
  private final static char []_jsp_string262;
  private final static char []_jsp_string152;
  private final static char []_jsp_string335;
  private final static char []_jsp_string396;
  private final static char []_jsp_string393;
  private final static char []_jsp_string238;
  private final static char []_jsp_string71;
  private final static char []_jsp_string205;
  private final static char []_jsp_string201;
  private final static char []_jsp_string76;
  private final static char []_jsp_string27;
  private final static char []_jsp_string43;
  private final static char []_jsp_string30;
  private final static char []_jsp_string62;
  private final static char []_jsp_string126;
  private final static char []_jsp_string123;
  private final static char []_jsp_string213;
  private final static char []_jsp_string99;
  private final static char []_jsp_string373;
  private final static char []_jsp_string4;
  private final static char []_jsp_string206;
  private final static char []_jsp_string172;
  private final static char []_jsp_string340;
  private final static char []_jsp_string61;
  private final static char []_jsp_string254;
  private final static char []_jsp_string109;
  private final static char []_jsp_string41;
  private final static char []_jsp_string3;
  private final static char []_jsp_string185;
  private final static char []_jsp_string118;
  private final static char []_jsp_string329;
  private final static char []_jsp_string128;
  private final static char []_jsp_string114;
  private final static char []_jsp_string299;
  private final static char []_jsp_string148;
  private final static char []_jsp_string303;
  private final static char []_jsp_string243;
  private final static char []_jsp_string92;
  private final static char []_jsp_string17;
  private final static char []_jsp_string101;
  private final static char []_jsp_string48;
  private final static char []_jsp_string21;
  private final static char []_jsp_string320;
  private final static char []_jsp_string248;
  private final static char []_jsp_string263;
  private final static char []_jsp_string178;
  private final static char []_jsp_string84;
  private final static char []_jsp_string63;
  private final static char []_jsp_string270;
  private final static char []_jsp_string29;
  private final static char []_jsp_string274;
  private final static char []_jsp_string127;
  private final static char []_jsp_string1;
  private final static char []_jsp_string51;
  private final static char []_jsp_string322;
  private final static char []_jsp_string66;
  private final static char []_jsp_string202;
  private final static char []_jsp_string284;
  private final static char []_jsp_string275;
  private final static char []_jsp_string350;
  private final static char []_jsp_string306;
  private final static char []_jsp_string79;
  private final static char []_jsp_string331;
  private final static char []_jsp_string55;
  private final static char []_jsp_string39;
  private final static char []_jsp_string200;
  private final static char []_jsp_string56;
  private final static char []_jsp_string287;
  private final static char []_jsp_string305;
  private final static char []_jsp_string252;
  private final static char []_jsp_string253;
  private final static char []_jsp_string349;
  private final static char []_jsp_string269;
  private final static char []_jsp_string130;
  private final static char []_jsp_string180;
  private final static char []_jsp_string362;
  private final static char []_jsp_string196;
  private final static char []_jsp_string134;
  private final static char []_jsp_string381;
  private final static char []_jsp_string80;
  private final static char []_jsp_string348;
  private final static char []_jsp_string168;
  private final static char []_jsp_string339;
  private final static char []_jsp_string338;
  private final static char []_jsp_string315;
  private final static char []_jsp_string75;
  private final static char []_jsp_string0;
  private final static char []_jsp_string234;
  private final static char []_jsp_string218;
  private final static char []_jsp_string239;
  private final static char []_jsp_string257;
  private final static char []_jsp_string203;
  private final static char []_jsp_string70;
  private final static char []_jsp_string300;
  private final static char []_jsp_string319;
  private final static char []_jsp_string50;
  private final static char []_jsp_string174;
  private final static char []_jsp_string129;
  private final static char []_jsp_string24;
  private final static char []_jsp_string223;
  private final static char []_jsp_string195;
  private final static char []_jsp_string64;
  private final static char []_jsp_string198;
  private final static char []_jsp_string147;
  private final static char []_jsp_string25;
  private final static char []_jsp_string370;
  private final static char []_jsp_string5;
  private final static char []_jsp_string383;
  private final static char []_jsp_string288;
  private final static char []_jsp_string226;
  private final static char []_jsp_string369;
  private final static char []_jsp_string307;
  private final static char []_jsp_string286;
  private final static char []_jsp_string190;
  private final static char []_jsp_string167;
  private final static char []_jsp_string40;
  private final static char []_jsp_string100;
  private final static char []_jsp_string366;
  private final static char []_jsp_string355;
  private final static char []_jsp_string96;
  private final static char []_jsp_string272;
  private final static char []_jsp_string102;
  private final static char []_jsp_string125;
  private final static char []_jsp_string165;
  private final static char []_jsp_string149;
  private final static char []_jsp_string137;
  private final static char []_jsp_string113;
  private final static char []_jsp_string103;
  private final static char []_jsp_string304;
  private final static char []_jsp_string49;
  private final static char []_jsp_string352;
  private final static char []_jsp_string121;
  private final static char []_jsp_string289;
  private final static char []_jsp_string280;
  private final static char []_jsp_string15;
  private final static char []_jsp_string46;
  private final static char []_jsp_string192;
  private final static char []_jsp_string330;
  private final static char []_jsp_string402;
  private final static char []_jsp_string321;
  private final static char []_jsp_string247;
  private final static char []_jsp_string94;
  private final static char []_jsp_string332;
  private final static char []_jsp_string296;
  private final static char []_jsp_string229;
  private final static char []_jsp_string157;
  private final static char []_jsp_string115;
  private final static char []_jsp_string162;
  private final static char []_jsp_string158;
  private final static char []_jsp_string291;
  private final static char []_jsp_string255;
  private final static char []_jsp_string392;
  private final static char []_jsp_string357;
  private final static char []_jsp_string292;
  private final static char []_jsp_string69;
  private final static char []_jsp_string240;
  private final static char []_jsp_string360;
  private final static char []_jsp_string375;
  private final static char []_jsp_string265;
  private final static char []_jsp_string47;
  private final static char []_jsp_string337;
  private final static char []_jsp_string230;
  private final static char []_jsp_string145;
  private final static char []_jsp_string245;
  private final static char []_jsp_string179;
  private final static char []_jsp_string136;
  private final static char []_jsp_string294;
  private final static char []_jsp_string86;
  private final static char []_jsp_string398;
  private final static char []_jsp_string314;
  private final static char []_jsp_string90;
  private final static char []_jsp_string34;
  private final static char []_jsp_string391;
  private final static char []_jsp_string97;
  private final static char []_jsp_string164;
  private final static char []_jsp_string207;
  private final static char []_jsp_string403;
  private final static char []_jsp_string341;
  private final static char []_jsp_string176;
  private final static char []_jsp_string271;
  private final static char []_jsp_string119;
  private final static char []_jsp_string32;
  private final static char []_jsp_string311;
  private final static char []_jsp_string177;
  private final static char []_jsp_string112;
  private final static char []_jsp_string387;
  private final static char []_jsp_string28;
  private final static char []_jsp_string231;
  private final static char []_jsp_string122;
  private final static char []_jsp_string209;
  private final static char []_jsp_string143;
  private final static char []_jsp_string156;
  private final static char []_jsp_string10;
  private final static char []_jsp_string155;
  private final static char []_jsp_string215;
  private final static char []_jsp_string365;
  private final static char []_jsp_string2;
  private final static char []_jsp_string214;
  private final static char []_jsp_string150;
  private final static char []_jsp_string241;
  private final static char []_jsp_string146;
  private final static char []_jsp_string23;
  private final static char []_jsp_string268;
  private final static char []_jsp_string256;
  private final static char []_jsp_string216;
  private final static char []_jsp_string343;
  private final static char []_jsp_string142;
  private final static char []_jsp_string82;
  private final static char []_jsp_string124;
  private final static char []_jsp_string7;
  private final static char []_jsp_string318;
  private final static char []_jsp_string8;
  private final static char []_jsp_string53;
  private final static char []_jsp_string372;
  private final static char []_jsp_string95;
  private final static char []_jsp_string85;
  private final static char []_jsp_string368;
  private final static char []_jsp_string186;
  private final static char []_jsp_string260;
  private final static char []_jsp_string232;
  private final static char []_jsp_string210;
  private final static char []_jsp_string154;
  private final static char []_jsp_string233;
  private final static char []_jsp_string313;
  private final static char []_jsp_string106;
  private final static char []_jsp_string401;
  private final static char []_jsp_string77;
  private final static char []_jsp_string220;
  private final static char []_jsp_string37;
  private final static char []_jsp_string236;
  private final static char []_jsp_string175;
  private final static char []_jsp_string281;
  private final static char []_jsp_string290;
  private final static char []_jsp_string228;
  private final static char []_jsp_string244;
  private final static char []_jsp_string67;
  private final static char []_jsp_string169;
  private final static char []_jsp_string374;
  private final static char []_jsp_string328;
  private final static char []_jsp_string276;
  private final static char []_jsp_string20;
  private final static char []_jsp_string400;
  private final static char []_jsp_string131;
  private final static char []_jsp_string74;
  private final static char []_jsp_string219;
  private final static char []_jsp_string199;
  private final static char []_jsp_string273;
  private final static char []_jsp_string166;
  private final static char []_jsp_string361;
  private final static char []_jsp_string68;
  private final static char []_jsp_string399;
  private final static char []_jsp_string317;
  private final static char []_jsp_string404;
  private final static char []_jsp_string380;
  private final static char []_jsp_string160;
  private final static char []_jsp_string117;
  private final static char []_jsp_string111;
  private final static char []_jsp_string249;
  private final static char []_jsp_string336;
  private final static char []_jsp_string18;
  private final static char []_jsp_string354;
  private final static char []_jsp_string144;
  private final static char []_jsp_string385;
  private final static char []_jsp_string347;
  private final static char []_jsp_string323;
  private final static char []_jsp_string89;
  private final static char []_jsp_string405;
  private final static char []_jsp_string395;
  private final static char []_jsp_string325;
  private final static char []_jsp_string110;
  private final static char []_jsp_string204;
  private final static char []_jsp_string187;
  private final static char []_jsp_string388;
  private final static char []_jsp_string363;
  private final static char []_jsp_string6;
  private final static char []_jsp_string140;
  private final static char []_jsp_string235;
  private final static char []_jsp_string139;
  private final static char []_jsp_string197;
  private final static char []_jsp_string346;
  private final static char []_jsp_string309;
  private final static char []_jsp_string217;
  private final static char []_jsp_string221;
  private final static char []_jsp_string153;
  private final static char []_jsp_string212;
  private final static char []_jsp_string60;
  private final static char []_jsp_string9;
  private final static char []_jsp_string316;
  private final static char []_jsp_string367;
  private final static char []_jsp_string378;
  private final static char []_jsp_string251;
  private final static char []_jsp_string211;
  private final static char []_jsp_string88;
  private final static char []_jsp_string345;
  private final static char []_jsp_string181;
  private final static char []_jsp_string72;
  private final static char []_jsp_string59;
  static {
    _jsp_string277 = "\r\n    	          <script language=\"javascript\">\r\n					      document.getElementById(\"nodenum".toCharArray();
    _jsp_string225 = "\" style=\"background-color:#F7F7F7;\" ".toCharArray();
    _jsp_string182 = "\").value = parseInt(nodenum)+1;\r\n		document.getElementById(\"newRowNum".toCharArray();
    _jsp_string364 = "\r\n	//\u8bf7\u5047\u7533\u8bf7\u5355\u7684\u7279\u6b8a\u5904\u7406\uff0c\u9690\u85cf\u5269\u4f59\u5e74\u5047\u3001\u5e26\u85aa\u75c5\u5047\u4fe1\u606f\u3002\r\n	jQuery(\"select[nameBak='leaveType']\").trigger(\"onchange\");\r\n".toCharArray();
    _jsp_string264 = "\">\r\n				             ".toCharArray();
    _jsp_string227 = " <td class=\"detailCountTDValue\">\r\n			    <input onclick=\"event.stopPropagation();\"  type=\"checkbox\" name=\"check_node".toCharArray();
    _jsp_string73 = "\").getAttribute(\"datatype\")==\"text\"){\r\n						document.getElementById(\"field".toCharArray();
    _jsp_string327 = ");\">\r\n		<table id=\"head\" cellspacing=\"0\" cellpadding=\"0\" width=\"100%\" class=\"mainFormTable\" style=\"".toCharArray();
    _jsp_string208 = "\" />\r\n		<table id=\"table".toCharArray();
    _jsp_string377 = "\";\r\n		jQuery.ajax({\r\n			type: \"GET\",\r\n			url: ajaxUrl\r\n		});\r\n	}\r\n\r\n\r\n\r\n\r\n	\r\n	function isNeedAffirmance() {\r\n		return ".toCharArray();
    _jsp_string283 = "\r\n	".toCharArray();
    _jsp_string278 = "\").value = 0;\r\n					       var lengthVar=".toCharArray();
    _jsp_string266 = "\r\n						 <input type=\"hidden\" fieldType=\"1\" id=\"field".toCharArray();
    _jsp_string26 = "&scope=".toCharArray();
    _jsp_string52 = "\r\n<script>\r\njQuery(document).ready(function(){\r\n	jQuery(\"input[type='hidden'][name^=nodenum]\").each(function(){\r\n		var groupid=jQuery(this).attr(\"name\").replace(\"nodenum\",\"\");\r\n		calSum(groupid);\r\n	});\r\n});\r\n\r\n\r\nfunction $G(identity, _document) {\r\n	return $GetEle(identity, _document);\r\n}\r\n\r\n/**\r\n * \u6839\u636e\u6807\u8bc6\uff08name\u6216\u8005id\uff09\u83b7\u53d6\u5143\u7d20\uff0c\u4e3b\u8981\u7528\u4e8e\u89e3\u51b3\u7cfb\u7edf\u4e2d\u5f88\u591a\u5143\u7d20\u6ca1\u6709id\u5c5e\u6027\uff0c\r\n * \u5374\u5728js\u4e2d\u4f7f\u7528document.getElementById(name)\u6765\u83b7\u53d6\u5143\u7d20\u7684\u95ee\u9898\u3002\r\n * @param identity name\u6216\u8005id\r\n * @return \u5143\u7d20\r\n */\r\nfunction $GetEle(identity, _document) {\r\n	var rtnEle = null;\r\n	if (_document == undefined || _document == null) _document = document;\r\n	\r\n	rtnEle = _document.getElementById(identity);\r\n	if (rtnEle == undefined || rtnEle == null) {\r\n		rtnEle = _document.getElementsByName(identity);\r\n		if (rtnEle.length > 0) rtnEle = rtnEle[0];\r\n		else rtnEle = null;\r\n	}\r\n	return rtnEle;\r\n}\r\n\r\nfunction parse_Float(i){\r\n	try{\r\n		i = parseFloat(i);\r\n		if((i+\"\")==(\"NaN\")){\r\n			return 0;\r\n		}else{\r\n			return i;\r\n		}\r\n	}catch(e){\r\n		return 0;\r\n	}\r\n}\r\n\r\nfunction getEvent() {\r\n	if (window.ActiveXObject) {\r\n		return window.event;// \u5982\u679c\u662fie\r\n	}\r\n	func = getEvent.caller;\r\n	while (func != null) {\r\n		var arg0 = func.arguments[0];\r\n		if (arg0) {\r\n			if ((arg0.constructor == Event || arg0.constructor == MouseEvent)\r\n					|| (typeof (arg0) == \"object\" && arg0.preventDefault && arg0.stopPropagation)) {\r\n				return arg0;\r\n			}\r\n		}\r\n		func = func.caller;\r\n	}\r\n	return null;\r\n}\r\n\r\nfunction toPrecision(aNumber,precision){\r\n	var temp1 = Math.pow(10,precision);\r\n	var temp2 = new Number(aNumber);\r\n    //QC79136 \u4e2d\u4fee\u6539\r\n	var returnVal = isNaN(Math.round(temp1*temp2) /temp1)?0:Math.round(temp1*temp2) /temp1;\r\n	try{\r\n		if(String(returnVal).indexOf(\"e\")>=0)return returnVal;\r\n	}catch(e){}\r\n	var valInt = (returnVal.toString().split(\".\")[1]+\"\").length;\r\n	if(aNumber == 0){\r\n		return  \"\";\r\n	}\r\n	if(valInt != precision){\r\n	    var lengInt = precision-valInt;\r\n		//\u5224\u65ad\u6dfb\u52a0\u5c0f\u6570\u4f4d0\u7684\u4e2a\u6570\r\n		if(lengInt == 1){\r\n			returnVal += \"0\";\r\n		}else if(lengInt == 2){\r\n			returnVal += \"00\";\r\n		}else if(lengInt == 3){\r\n			returnVal += \"000\";\r\n		}else if(lengInt < 0){\r\n			if(precision == 1){\r\n				returnVal += \".0\";\r\n			}else if(precision == 2){\r\n				returnVal += \".00\";\r\n			}else if(precision == 3){\r\n				returnVal += \".000\";\r\n			}else if(precision == 4){\r\n				returnVal += \".0000\";\r\n			}		\r\n		}		\r\n	}\r\n	return  returnVal;		\r\n}\r\n\r\nfunction getFieldSumValue(fieldid){\r\n	var sumValue=0;\r\n	try{\r\n		var otableObj=jQuery(\"td[_fieldid='\"+fieldid+\"']\").closest(\"table[name^='oTable']\");\r\n		var rownum=otableObj.parent().find(\"input[name^='nodenum']\").val();\r\n		for(var i=0;i<rownum;i++){\r\n			try{\r\n				var tempVal=jQuery(\"[name='field\"+fieldid+\"_\"+i+\"']\").val();\r\n				tempVal=tempVal.replace(/,/g,\"\");\r\n				if(tempVal+\"\"!=\"\"){\r\n					sumValue += tempVal*1;\r\n				}\r\n			}catch(ev){}\r\n		}\r\n	}catch(e){}\r\n	return sumValue;\r\n}\r\n\r\nfunction calSum(obj){\r\n	calSumPrice();		//\u884c\u89c4\u5219\u8ba1\u7b97\r\n	".toCharArray();
    _jsp_string22 = "\";\r\n	var js_clienttype=\"".toCharArray();
    _jsp_string384 = "&node=".toCharArray();
    _jsp_string282 = "\").value = 0;\r\n		         </script>\r\n    	   ".toCharArray();
    _jsp_string14 = "\";\r\n	var js_module = \"".toCharArray();
    _jsp_string301 = "').value);\r\n    if(temprow>rows) rows=temprow;\r\n    ".toCharArray();
    _jsp_string344 = "\r\n</div>\r\n<div style=\"height:10px;overflow:hidden;\"></div>\r\n".toCharArray();
    _jsp_string371 = "&requestId=".toCharArray();
    _jsp_string161 = "'></input>\r\n						".toCharArray();
    _jsp_string11 = "\";\r\n	\r\n	var bodyScrollLeft = 0;\r\n	var fieldIdRemindType;\r\n	var fieldIdRemindBeforeStart;\r\n	var fieldIdRemindBeforeEnd;\r\n	var fieldIdRemindTimesBeforeStart;\r\n	var fieldIdRemindTimesBeforeEnd;\r\n	var clientVersion=0;\r\n	var clienttype=\"".toCharArray();
    _jsp_string78 = "\")){\r\n						         document.getElementById(\"field".toCharArray();
    _jsp_string98 = ">\r\n			<td colspan=\"3\" class=\"mainFromSplitLine\"></td>\r\n		</tr>\r\n".toCharArray();
    _jsp_string389 = "\r\n	         $('#src').val(\"reject\");\r\n	         $('#workflowfrm').submit();\r\n	     ".toCharArray();
    _jsp_string351 = "\">\r\n					<input type=\"hidden\" name=\"workflowid\" value=\"".toCharArray();
    _jsp_string310 = "\r\n	calMainField(obj);\r\n}\r\n \r\n\r\n\r\nfunction getEvent() {\r\n	if (window.ActiveXObject) {\r\n		return window.event;// \u5982\u679c\u662fie\r\n	}\r\n	func = getEvent.caller;\r\n	while (func != null) {\r\n		var arg0 = func.arguments[0];\r\n		if (arg0) {\r\n			if ((arg0.constructor == Event || arg0.constructor == MouseEvent)\r\n					|| (typeof (arg0) == \"object\" && arg0.preventDefault && arg0.stopPropagation)) {\r\n				return arg0;\r\n			}\r\n		}\r\n		func = func.caller;\r\n	}\r\n	return null;\r\n}\r\n\r\n$(document).ready(function () {\r\n    var detailrow = 0; \r\n     ".toCharArray();
    _jsp_string267 = "\r\n						 <input type=\"hidden\" name=\"".toCharArray();
    _jsp_string188 = "&newRowNum=\"+(parseInt(newRowNum)+1)+\"\", false);\r\n		ajax.setRequestHeader(\"Content-Type\",\"application/x-www-form-urlencoded\");\r\n		ajax.send(null);\r\n	    if (ajax.status == 200) {\r\n			var htmlStr=ajax.responseText;\r\n			jQuery(oTable).append(htmlStr);\r\n		}\r\n   }\r\n   \r\n   function deleteRow(obj){\r\n       var flag = false;\r\n	   var ids = document.getElementsByName('check_node'+obj);\r\n	   for(i=0; i<ids.length; i++) {\r\n		  if(ids[i].checked==true) {\r\n			  flag = true;\r\n			   break;\r\n		  }\r\n	   }\r\n       if(flag) {\r\n		  if(isdel()){\r\n			  var isdeleteCount = 0;\r\n             for(j=0; j<ids.length; j++) {\r\n		        if(ids[j].checked==true) {\r\n				  try{\r\n		             var rowId= ids[j].value;\r\n		             if(rowId != 'on'){\r\n		                document.getElementById(\"deleteId\"+obj).value += rowId+\",\";\r\n		             }\r\n		           }catch(e){}\r\n		           try{\r\n		           	if (jQuery(ids[j]).parent().parent().next().children(\"td\").length == 1) {\r\n		           		jQuery(ids[j]).parent().parent().next().remove();\r\n		           	}\r\n		              jQuery(ids[j]).parent().parent().remove();\r\n                      isdeleteCount++;\r\n		           }catch(e){\r\n		           }\r\n\r\n		          j--;\r\n		        }\r\n	         }\r\n	        //\u5e8f\u53f7\u91cd\u73b0\u6392\u5e8f\u5e76\u5c06\u6240\u6709\u5728\u884c\u7684\u6240\u6709\u5b57\u6bb5\u5e8f\u53f7\u90fd\u53d8\u52a8\r\n			 sortDetail(obj,isdeleteCount);\r\n			 //\u8ba1\u7b97\u884c\u5217\u89c4\u5219\r\n	         calSum(obj);\r\n        }\r\n    }else{\r\n        alert('".toCharArray();
    _jsp_string285 = "\r\n	          <tfoot>\r\n			   <tr>\r\n			    ".toCharArray();
    _jsp_string173 = "\r\n				</div>\r\n			</td>\r\n		</tr>\r\n	".toCharArray();
    _jsp_string394 = ";\r\n	}\r\n	\r\n	//\u662f\u5426\u5141\u8bb8\u7b7e\u5b57\u610f\u89c1\u4e0a\u4f20\u9644\u4ef6  \r\n	function getIsAnnexUpload(){\r\n		return \"".toCharArray();
    _jsp_string379 = ";\r\n	}\r\n	\r\n	".toCharArray();
    _jsp_string141 = "\r\n			".toCharArray();
    _jsp_string382 = " > 0){\r\n			goBack();\r\n			return 1;\r\n		}\r\n	}\r\n	\r\n	function getRequestTitle(){\r\n		return \"".toCharArray();
    _jsp_string133 = "\r\n					<SCRIPT language=\"JavaScript\">\r\n					//<!--\r\n						function doChangeLeaveDateTime(){\r\n							var formDateVal = $(\"[nameBak='fromDate']\").val();\r\n							var fromTimeVal = $(\"[nameBak='fromTime']\").val();\r\n							var toDateVal = $(\"[nameBak='toDate']\").val();\r\n							var toTimeVal = $(\"[nameBak='toTime']\").val();\r\n							if(formDateVal && fromTimeVal && toDateVal && toTimeVal){\r\n								$.get('/mobile/plugin/1/workflowBillAction.jsp?action=getLeaveDays',{fromDate:formDateVal,fromTime:fromTimeVal,toDate:toDateVal,toTime:toTimeVal,resourceId:\"".toCharArray();
    _jsp_string171 = "_span\" > -->\r\n						".toCharArray();
    _jsp_string13 = "\";\r\n	var js_sessionkey = \"".toCharArray();
    _jsp_string194 = "</BUTTON>\r\n	  ".toCharArray();
    _jsp_string183 = "\").value = parseInt(newRowNum)+1;\r\n        var oTable=document.getElementById('detailInfo'+obj);\r\n        var  htmlStr = \"\";\r\n        var ajax=ajaxinit();\r\n		ajax.open(\"GET\", \"/mobile/plugin/1/form/detail/rowhtml.jsp?groupId=\"+obj+\"&derecorderindex=\"+nodenum+\"&workflowid=".toCharArray();
    _jsp_string16 = "\";\r\n	var js_fromRequestid = \"".toCharArray();
    _jsp_string170 = "_span\" name=\"".toCharArray();
    _jsp_string386 = ";\r\n	}\r\n	\r\n	function docheckreject(){\r\n		return docheckreject2(".toCharArray();
    _jsp_string87 = "_span\").innerHTML=toPrecision(sum,datalength);\r\n						     }\r\n							\r\n							try{\r\n								 if(document.getElementById(\"field".toCharArray();
    _jsp_string184 = "&nodeId=".toCharArray();
    _jsp_string333 = "\r\n			<tr>\r\n			".toCharArray();
    _jsp_string108 = "\r\n								<SCRIPT type=\"text/javascript\" >\r\n								<!--\r\n									function doChangeRemindType(obj){\r\n										if(obj.value==\"1\"){\r\n											$('td#remindType_remindBeforeStart').hide();\r\n											$('td#remindType_remindBeforeEnd').hide();\r\n											$('td#remindType_remindTimesBeforeStart').hide();\r\n											$('td#remindType_remindTimesBeforeEnd').hide();\r\n											".toCharArray();
    _jsp_string246 = "\r\n						   <span id=\"".toCharArray();
    _jsp_string390 = "\r\n	         var url = \"/mobile/plugin/browser.jsp\";\r\n	         var datas = encodeURI(\"&returnIdField=rejectToNodeid&returnShowField=rejectToNodeName&method=listBrowserData&browserTypeId=-100&customBrowType=".toCharArray();
    _jsp_string242 = "\r\n				       </div>\r\n				       <div id=\"isedit\" style=\"display:none\">\r\n				         ".toCharArray();
    _jsp_string116 = "\" ".toCharArray();
    _jsp_string293 = "\r\n         var temprow=0;\r\n         if(document.getElementById('nodenum".toCharArray();
    _jsp_string57 = "\")+\" \";\r\n        	}\r\n	".toCharArray();
    _jsp_string259 = "\" _fieldhtmlType=\"".toCharArray();
    _jsp_string193 = ")\">".toCharArray();
    _jsp_string302 = "\r\n    if(rowindex<rows)\r\n        rowindex=rows;\r\n    var sum=0;\r\n    var temStr;\r\n".toCharArray();
    _jsp_string138 = "\" nameBak=\"".toCharArray();
    _jsp_string163 = "\r\n					".toCharArray();
    _jsp_string36 = "\r\n\r\n/**\r\n * \u9884\u7b97\u8d39\u7528\u52a8\u6001\u751f\u6210\u660e\u7ec6\u7f16\u8f91\u9875\u9762\u540e\uff0c\u7ed1\u5b9a\u4e8b\u4ef6\u51fd\u6570\r\n **/\r\nfunction dyeditPageFnaFyFun(groupid,rowId,fieldCount,isedit,isdisplay) {\r\n	return;\r\n}\r\n\r\nfunction controlEditMode(){		//\u63a7\u5236\u7f16\u8f91\u6a21\u5f0f\uff0c\u5e73\u677f\u76f4\u63a5\u5728\u884c\u4e0a\u7f16\u8f91\r\n	".toCharArray();
    _jsp_string261 = "\r\n				</td>\r\n					".toCharArray();
    _jsp_string295 = "').value);\r\n         if(temprow>rows) rows=temprow;\r\n    ".toCharArray();
    _jsp_string42 = "\";\r\n				var recordNum=jQuery(\"#nodenum\"+groupid).val();\r\n				addStr=addStr.replace(/\\$rowIndex\\$/g,recordNum);\r\n				//console.log(addStr);\r\n				jQuery(\"#oTable\"+groupid).children(\"tbody\").append(addStr);\r\n				//\u603b\u8bb0\u5f55\u4e2a\u6570\u52a01\r\n				jQuery(\"#nodenum\"+groupid).val(parseInt(recordNum)+1);\r\n				//\u5e8f\u53f7\u4e3a\u4e0a\u4e00\u5e8f\u53f7\u52a01\r\n				var serialSpan=jQuery(\"tr#trView\"+groupid+\"_\"+recordNum).children(\"td:first-child\").find(\"span\");\r\n				if(recordNum==0){\r\n					serialSpan.text(\"1\");\r\n				}else{\r\n					serialSpan.text(jQuery(\"tr[id^='trView\"+groupid+\"']\").size());\r\n				}\r\n				controlEditMode();\r\n			}\r\n			\r\n			function deleteRow".toCharArray();
    _jsp_string326 = "\r\n	<div name=\"detailTableDiv\" style=\"overflow-x:auto;width:100%;\" onclick=\"exTblCol(this, ".toCharArray();
    _jsp_string224 = "\r\n			<tr class=\"isneed_".toCharArray();
    _jsp_string151 = "></option>\r\n							".toCharArray();
    _jsp_string279 = ";\r\n					       for(var s=0;s<lengthVar;s++){\r\n						       addRow".toCharArray();
    _jsp_string258 = "_span_d\" >\r\n						   </span>\r\n						 <input type=\"hidden\" name=\"".toCharArray();
    _jsp_string81 = "\").getAttribute(\"datavaluetype\")== \"5\"){\r\n							if(document.getElementById(\"field".toCharArray();
    _jsp_string342 = "\" />\r\n					 </td>\r\n						".toCharArray();
    _jsp_string104 = "\r\n				<div class=\"mainFormRowValueTDDIV\">\r\n".toCharArray();
    _jsp_string91 = ");\r\n								             }catch(e){\r\n								             }\r\n								       }\r\n								  }\r\n							}catch(e){}\r\n						}\r\n					}\r\n\r\n                }\r\n	     ".toCharArray();
    _jsp_string44 = "\");\r\n					return;\r\n				}\r\n				if(confirm(\"".toCharArray();
    _jsp_string308 = "\")!=null){\r\n        	document.getElementById(\"sumvalue".toCharArray();
    _jsp_string397 = ";\r\n	}\r\n	\r\n	function isMustInputRemark() {\r\n		return ".toCharArray();
    _jsp_string237 = "\r\n				        ".toCharArray();
    _jsp_string376 = "\";\r\n					}\r\n					\r\n					try{\r\n						var _fnaUrlPara1 = \"orgid=\"+orgid+\"&orgtype=\"+orgtype+\"&isFnaSubmitRequest4Mobile=1\";\r\n						data = data+\"&\"+_fnaUrlPara1;\r\n					}catch(ex2){}\r\n		    	}\r\n			}\r\n		}catch(ex2){}\r\n		var oldVal = $(\"#\" + returnIdField).val();\r\n		var oldName = $(\"#\" + returnShowField).text().replace(/( )+/g, \",\");\r\n		url = (url + \"?r=\" + (new Date()).getTime() + data);\r\n		\r\n		var splitChar = \"@@TYLLKFGF@@\";\r\n		//\u4eba\u529b\u8d44\u6e90\r\n		if (browserMethod == \"listUser\") {\r\n			url = \"HRMRESOURCE\";\r\n			splitChar = \":\";\r\n		}\r\n		\r\n		var browserName = \"\";\r\n		if (returnIdField == \"forwardresourceids\") {\r\n			//\u8f6c\u53d1\u4eba		\r\n			browserName = \"\u8f6c\u53d1\u63a5\u6536\u4eba\";\r\n			\r\n			if(flagForwardFirst){\r\n				oldVal = flagForwardReceiver;\r\n				flagForwardFirst = false;\r\n			}else{\r\n				oldVal = $(\"#\" + returnIdField).val();\r\n			}\r\n			\r\n			splitChar = \":\";\r\n		}else if (returnIdField == \"forwardresourceids2\") {\r\n			//\u610f\u89c1\u5f81\u8be2		\r\n			browserName = \"\u610f\u89c1\u5f81\u8be2\u63a5\u6536\u4eba\";\r\n			\r\n			if(flagForwardFirst){\r\n				oldVal = flagForwardReceiver;\r\n				flagForwardFirst = false;\r\n			}else{\r\n				oldVal = $(\"#\" + returnIdField).val();\r\n			}\r\n			\r\n			splitChar = \":\";\r\n		}else if (returnIdField == \"forwardresourceids3\") {\r\n			//\u8f6c\u53d1\u4eba		\r\n			browserName = \"\u8f6c\u529e\u63a5\u6536\u4eba\";\r\n			\r\n			if(flagForwardFirst){\r\n				oldVal = flagForwardReceiver;\r\n				flagForwardFirst = false;\r\n			}else{\r\n				oldVal = $(\"#\" + returnIdField).val();\r\n			}\r\n			\r\n			splitChar = \":\";\r\n		} else if(returnIdField == \"rejectToNodeid\"){\r\n			browserName = \"\u9000\u56de\u8282\u70b9\";\r\n		} else {\r\n			if(document.getElementById(returnIdField+\"_d\")){ //\u660e\u7ec6\u8868\u7684\u8bfb\u53d6\r\n			     browserName = $(\"#\" + returnIdField+\"_d\").parent().prev().text();\r\n			}else{\r\n			     browserName = $(\"#\" + returnIdField).closest(\"div\").parent().prev().prev().text();\r\n			}\r\n		}\r\n		var nativeUrl = \"emobile\" + splitChar + \"Browser\" + splitChar + url + splitChar + isMuti + splitChar + oldVal + splitChar + \"setBrowserData\" + splitChar + returnIdField + splitChar + returnShowField + splitChar + browserName + splitChar + oldName+splitChar+\"UTF-8\";\r\n		location = nativeUrl; \r\n	}\r\n	\r\n	/**\r\n	 * \u9884\u7b97\u8d39\u7528\u56de\u8c03\u51fd\u6570\r\n	 **/\r\n	function fnaFyFunCallBack(fieldID, fieldSpan, keys, vals, clickType) {\r\n		return;\r\n	}\r\n\r\n	\r\n	\r\n	/**\r\n	 * \u6d4f\u89c8\u6846\u56de\u8c03\u65b9\u6cd5\r\n	 **/\r\n	function setBrowserData(fieldID, fieldSpan, keys, vals, clickType, call_fnaFyFunCallBack) {\r\n		if(call_fnaFyFunCallBack==null){\r\n			call_fnaFyFunCallBack = true;\r\n		}\r\n		//\u70b9\u51fb\u4e86\u6e05\u7a7a\u6216\u8005\u53d6\u6d88\r\n		if (clickType == 1 || clickType == 2) {			\r\n			//\u70b9\u51fb\u4e86\u6e05\u7a7a\r\n			if (clickType == 1) {\r\n				try {\r\n					$(\"#\" + fieldID).val(\"\");\r\n					$(\"#\" + fieldSpan).html(\"\");\r\n					$(\"#\" + fieldID).change();\r\n					if(document.getElementById(fieldID+\"_d\")){\r\n					   $(\"#\" + fieldID+\"_d\").val(\"\");\r\n					}\r\n					if(document.getElementById(fieldSpan+\"_d\")){\r\n					   $(\"#\" + fieldSpan+\"_d\").html(\"\");\r\n					     var groupidStr=$(\"#\" + fieldSpan+\"_d\").attr(\"groupid\");\r\n						 var rowIdStr=$(\"#\" + fieldSpan+\"_d\").attr(\"rowId\");\r\n						 var columnIdStr=$(\"#\" + fieldSpan+\"_d\").attr(\"columnId\");\r\n						 if(groupidStr&&rowIdStr&&columnIdStr){\r\n							var showObj= document.getElementById(\"isshow\"+groupidStr+\"_\"+rowIdStr+\"_\"+columnIdStr);\r\n							showObj.innerHTML = \"<span id=\\\"\"+fieldSpan+\"\\\" name=\\\"\"+fieldSpan+\"\\\" keyid=\\\"mingxi\\\"></span>\";\r\n						 }\r\n					}\r\n				} catch (e) {\r\n					alert(e);\r\n				}\r\n				try{\r\n					if(call_fnaFyFunCallBack){\r\n						fnaFyFunCallBack(fieldID, fieldSpan, keys, vals, clickType);\r\n					}\r\n				}catch(ex){}\r\n				if(fieldID == \"markId\"){\r\n					//\u7535\u5b50\u7b7e\u7ae0\u6e05\u7a7a\u64cd\u4f5c\r\n					return \"markId:Empty\";\r\n				}\r\n			}\r\n			return false;\r\n		}\r\n		\r\n		if (clickType == 0) {\r\n			try {\r\n				$(\"#\" + fieldID).val(keys);\r\n				$(\"td[id='\"+fieldSpan+\"']\").html(\"<span id=\\\"\"+fieldSpan+\"\\\" name=\\\"\"+fieldSpan+\"\\\" keyid=\\\"\"+keys+\"\\\">\"+vals+\"</span>\");\r\n				$(\"#\" + fieldID).change();\r\n				if(document.getElementById(fieldID+\"_d\")){\r\n					$(\"#\" + fieldID+\"_d\").val(keys);\r\n			    }\r\n				if(document.getElementById(fieldSpan+\"_d\")){\r\n				    $(\"#\" + fieldSpan+\"_d\").html(vals);\r\n				     var groupidStr=$(\"#\" + fieldSpan+\"_d\").attr(\"groupid\");\r\n					 var rowIdStr=$(\"#\" + fieldSpan+\"_d\").attr(\"rowId\");\r\n					 var columnIdStr=$(\"#\" + fieldSpan+\"_d\").attr(\"columnId\");\r\n					 if(groupidStr&&rowIdStr&&columnIdStr){\r\n					    var showObj= document.getElementById(\"isshow\"+groupidStr+\"_\"+rowIdStr+\"_\"+columnIdStr);\r\n					    showObj.innerHTML = \"<span id=\\\"\"+fieldSpan+\"\\\" name=\\\"\"+fieldSpan+\"\\\" keyid=\\\"mingxi\\\">\"+vals+\"</span>\";\r\n					 }\r\n				}\r\n			} catch (e) {\r\n				alert(e);\r\n			}\r\n			try{\r\n				if(call_fnaFyFunCallBack){\r\n					fnaFyFunCallBack(fieldID, fieldSpan, keys, vals, clickType);\r\n				}\r\n			}catch(ex){}\r\n			\r\n			if (fieldID == \"forwardresourceids\") {\r\n\r\n				if(keys == null || keys == \"\"){\r\n					var msg = \"\u8bf7\u9009\u62e9\u8f6c\u53d1\u63a5\u6536\u4eba\uff01\";\r\n					return \"emobile:Message:\" + msg + \":\" + promptWrod;\r\n				}\r\n				setTimeout(function () {\r\n					var flag = confirm(\"\u786e\u8ba4\u662f\u5426\u8f6c\u53d1\uff1f\");\r\n					if (flag) {\r\n					//\u7f6e\u7070\u6240\u6709\u6309\u94ae 				\r\n						$('#src').val(\"forward\");\r\n						$('#forwardflag').val(\"1\");\r\n						$('#workflowfrm').submit();\r\n						return true;\r\n					} else {\r\n						return false;\r\n					}\r\n					\r\n				}, 1000);\r\n				\r\n			}else if (fieldID == \"forwardresourceids2\") {\r\n\r\n				if(keys == null || keys == \"\"){\r\n					var msg = \"\u8bf7\u9009\u62e9\u610f\u89c1\u5f81\u8be2\u63a5\u6536\u4eba\uff01\";\r\n					return \"emobile:Message:\" + msg + \":\" + promptWrod;\r\n				}\r\n				setTimeout(function () {\r\n					var flag = confirm(\"\u786e\u8ba4\u662f\u5426\u610f\u89c1\u5f81\u8be2\uff1f\");\r\n					if (flag) {\r\n					//\u7f6e\u7070\u6240\u6709\u6309\u94ae 				\r\n						$('#src').val(\"forward\");\r\n						$('#forwardflag').val(\"2\");\r\n						$('#workflowfrm').submit();\r\n						return true;\r\n					} else {\r\n						return false;\r\n					}\r\n					\r\n				}, 1000);\r\n				\r\n			}else if (fieldID == \"forwardresourceids3\") {\r\n\r\n				if(keys == null || keys == \"\"){\r\n					var msg = \"\u8bf7\u9009\u62e9\u8f6c\u529e\u63a5\u6536\u4eba\uff01\";\r\n					return \"emobile:Message:\" + msg + \":\" + promptWrod;\r\n				}\r\n				setTimeout(function () {\r\n					var flag = confirm(\"\u786e\u8ba4\u662f\u5426\u8f6c\u529e\uff1f\");\r\n					if (flag) {\r\n					//\u7f6e\u7070\u6240\u6709\u6309\u94ae 				\r\n						$('#src').val(\"forward\");\r\n						$('#forwardflag').val(\"3\");\r\n						$('#workflowfrm').submit();\r\n						return true;\r\n					} else {\r\n						return false;\r\n					}\r\n					\r\n				}, 1000);\r\n				\r\n			} else if(fieldID == \"rejectToNodeid\"){\r\n				if(keys == null || keys == \"\"){\r\n					var msg = \"\u8bf7\u9009\u62e9\u9000\u56de\u8282\u70b9\uff01\";\r\n					return \"emobile:Message:\" + msg + \":\" + promptWrod;\r\n				}\r\n				\r\n				setTimeout(function () {\r\n					var flag = confirm(\"\u786e\u8ba4\u662f\u5426\u9000\u56de\uff1f\");\r\n					if (flag) {\r\n						$('#src').val(\"reject\");\r\n						$('#workflowfrm').submit();\r\n						return true;\r\n					}else{\r\n						return false;\r\n					}\r\n					\r\n				}, 1000);\r\n			} else {\r\n				if(fieldID == \"markId\"){\r\n					if(keys == \"\"){\r\n						return \"markId:Empty\";\r\n					}else{\r\n						var markURL = \"/weaver/weaver.file.SignatureDownLoad?markId=\" + keys;\r\n						return markURL;\r\n					}\r\n				}\r\n			}\r\n			\r\n			return false;\r\n		}else{\r\n			return false;\r\n		}\r\n	}\r\n\r\n	//\u8f6c\u53d1\u5904\u7406\r\n    function setForwardBrowserData(fieldID, fieldSpan, keys, vals, clickType) {\r\n		  if(docheckforward()){\r\n			 return  setBrowserData(fieldID,fieldSpan,keys,vals,clickType);\r\n		  }else{\r\n		     try {\r\n			   clearInterval(ckInterval);\r\n		     } catch (e){}\r\n		     setInterval(\"setRedflag()\",1000);\r\n		     return \"emobile:Message:\u8bf7\u586b\u5199\u7b7e\u5b57\u610f\u89c1\uff01:\u63d0\u793a\";\r\n		  }\r\n	}\r\n	\r\n	//\u7528\u4e8e\u9884\u52a0\u8f7d\u9875\u9762\u4e4b\u540e\uff0c\u6b63\u5f0f\u52a0\u8f7d\u9875\u9762\u4fe1\u606f\u3002\u53bb\u6389new\u6807\u8bb0\u3001\u5bf9\u6284\u9001\u4e0d\u9700\u63d0\u4ea4\u4f5c\u63d0\u4ea4\u64cd\u4f5c\u3002\r\n	function reloadData () {\r\n		var ajaxUrl = \"/mobile/plugin/1/client.jsp?".toCharArray();
    _jsp_string45 = "\")){\r\n					delRecords.each(function(){\r\n						var recordid=jQuery(this).val();\r\n						if(recordid!=\"on\"){\r\n							jQuery(\"#deleteId\"+groupid).val(jQuery(\"#deleteId\"+groupid).val()+recordid);\r\n						}\r\n						var tr_id=jQuery(this).closest(\"tr\").attr(\"id\");\r\n						jQuery(\"tr#\"+tr_id).remove();\r\n						jQuery(\"tr#\"+tr_id.replace(\"trView\",\"trEdit\")).remove();\r\n					});\r\n					//\u5e8f\u53f7\u6392\u5e8f\r\n					jQuery(\"input[name='check_node\"+groupid+\"']\").each(function(index){\r\n						jQuery(this).next().text(index+1);\r\n					});\r\n				}\r\n				try{\r\n					calSum(groupid);		//\u884c\u5217\u89c4\u5219\u8ba1\u7b97\r\n				}catch(e){}\r\n			}\r\n		\r\n		".toCharArray();
    _jsp_string132 = "\r\n						\r\n							</td>\r\n						</tr>\r\n					</table>\r\n			".toCharArray();
    _jsp_string35 = "\r\n							\r\n\r\n<script language=\"javascript\">\r\n".toCharArray();
    _jsp_string358 = "\r\n			</form>\r\n		</div>\r\n	</div>\r\n</div>\r\n\r\n<script type=\"text/javascript\">\r\nvar flagHiddenSpeechBtn = false;\r\n\r\njQuery(function(){\r\n".toCharArray();
    _jsp_string334 = "\r\n				<td class=\"detailCountTD\">\u5408\u8ba1</td>\r\n			".toCharArray();
    _jsp_string31 = "\"/>\r\n					<input type=\"hidden\" id=\"clientver\" name=\"clientver\" value=\"".toCharArray();
    _jsp_string159 = "\r\n						<input type=\"hidden\" id='vdcontent".toCharArray();
    _jsp_string105 = "\r\n					<table style=\"width: 100%;\">\r\n						<tr>\r\n							<td id=\"remindType_".toCharArray();
    _jsp_string93 = "\r\n							".toCharArray();
    _jsp_string353 = "</textarea>\r\n					</div>\r\n					\r\n					<input type=\"hidden\" id=\"fieldHandWritten\" name=\"fieldHandWritten\" value=\"\"/>\r\n					<input type=\"hidden\" id=\"fieldSpeechAppend\" name=\"fieldSpeechAppend\" value=\"\"/>\r\n					\r\n					\r\n					<div id=\"fieldSignAppendfix\" style=\"display:none\"></div>\r\n					<input type=\"hidden\" id=\"fieldSignAppendfix\" name=\"fieldSignAppendfix\" value=\"".toCharArray();
    _jsp_string19 = "\";\r\n	var js_clientlevel = \"".toCharArray();
    _jsp_string356 = "\">\r\n					".toCharArray();
    _jsp_string65 = "\");\r\n                \r\n                if($GetEle(\"field".toCharArray();
    _jsp_string83 = "_span\").innerHTML=changeToThousandsVal(toPrecision(sum,datalength)); \r\n							}\r\n							if(document.getElementById(\"field".toCharArray();
    _jsp_string58 = "\r\n	calMainField(obj);		//\u5217\u89c4\u5219\u8ba1\u7b97\r\n}\r\n\r\nfunction calSumPrice(){\r\n     var temv1;\r\n     var datalength = 2;\r\n     var evt = getEvent();\r\n".toCharArray();
    _jsp_string38 = "\r\n}\r\n\r\n".toCharArray();
    _jsp_string297 = "\r\n               var sum=0;\r\n               var temStr;\r\n                for(i=0; i<rowindex; i++){\r\n\r\n                    try{\r\n                        temStr=$GetEle(\"field".toCharArray();
    _jsp_string312 = "\")){\r\n               detailrow=document.getElementById(\"nodenum".toCharArray();
    _jsp_string189 = "');\r\n		return;\r\n    }\r\n   }\r\n\r\n   function sortDetail(obj,isdeleteCount){\r\n	    var nodenum =document.getElementById(\"newRowNum\"+obj).value;\r\n	         var newRowNum = 0;\r\n	         for(var k=0;k<nodenum;k++){\r\n	             if(document.getElementById(\"detailRowNum\"+obj+\"_\"+k)){ //\u5f53\u524d\u884c\u6570\u636e\r\n	                 document.getElementById(\"detailRowNum\"+obj+\"_\"+k).innerHTML = \"\"+(newRowNum+1);\r\n					 //document.getElementById(\"detailRowNum\"+obj+\"_\"+k).setAttribute(\"id\",\"detailRowNum\"+obj+\"_\"+newRowNum);\r\n                      //\u5c06\u5f53\u524d\u884c\u7684\u6240\u6709\u5143\u7d20\u7684\u5e8f\u53f7\u90fd\u53d8\u66f4\u6210\u65b0\u7684\u5e8f\u53f7\r\n                        // var  trObj =  document.getElementById(\"detailRowNum\"+obj+\"_\"+k).parentNode;\r\n						 //trobj\u4e8b\u4ef6\u53d8\u66f4\r\n						//var  trClickValue = trObj.getAttribute(\"onclick\");\r\n                         //trClickValue = trClickValue.split(\",\")[0]+\",\"+newRowNum+\");\"\r\n						 //trObj.setAttribute(\"onclick\",trClickValue);\r\n						 //\u663e\u793atr,tdID\u4fee\u6539\r\n						//document.getElementById(\"trspace\"+obj+\"_\"+k).setAttribute(\"id\",\"trspace\"+obj+\"_\"+newRowNum);\r\n						 //document.getElementById(\"tdspace\"+obj+\"_\"+k).setAttribute(\"id\",\"tdspace\"+obj+\"_\"+newRowNum);\r\n						 // var tdElememtCount = 0;\r\n						// for(var mx=0;mx<trObj.childNodes.length;mx++){\r\n							  //  var tdObj = trObj.childNodes[mx];\r\n								//if(tdObj.nodeType == 1 && tdObj.nodeName == \"TD\"){\r\n									//	if(tdElememtCount == 0){ //checkbox\u4e0d\u9700\u8981\u53d8\u66f4\r\n										//}else if(tdElememtCount == 1){ //\u5e8f\u53f7\u9700\u8981\u53d8\u66f4\u5e8f\u53f7\r\n											//tdObj.setAttribute(\"id\",\"detailRowNum\"+obj+\"_\"+newRowNum);\r\n									//	}else { //\u5176\u4ed6\u5143\u7d20\u9700\u8981\u53d8\u66f4\u5e8f\u53f7\r\n											// var otherObjs =tdObj.childNodes;\r\n											 //for(var mw=0;mw<otherObjs.length;mw++){\r\n												 // var otherObj = otherObjs[mw];\r\n												  //if(otherObj.nodeType ==1 && otherObj.nodeName == 'A'){//\u70b9\u51fb\u4e8b\u4ef6\u9700\u8981\u53d8\u66f4\u5e8f\u53f7\r\n													  //if(otherObj.getAttribute(\"id\")&&otherObj.getAttribute(\"onclick\")){\r\n														  //try{\r\n														   //var aid =   otherObj.getAttribute(\"id\");\r\n														  // var ahref =otherObj.getAttribute(\"onclick\");\r\n														   //var anewId = aid.split(\"_\")[0]+\"_\"+newRowNum;\r\n														   //var anewhref = ahref.split(\"(\")[0]+\"(\"+ahref.split(\"(\")[1].split(\",\")[0]+\",\"+newRowNum+\",\"+ahref.split(\"(\")[1].split(\",\")[2]+\",\"+ahref.split(\"(\")[1].split(\",\")[3]+\",\"+ahref.split(\"(\")[1].split(\",\")[4];\r\n														   //otherObj.setAttribute(\"id\",anewId);\r\n														   //otherObj.setAttribute(\"onclick\",anewhref);\r\n														  //}catch(eother){}\r\n													 // }\r\n												   //}\r\n												  //if(otherObj.nodeType == 1 &&  otherObj.nodeName == 'INPUT'){ //input\u5143\u7d20\r\n													 // if(otherObj.getAttribute(\"fieldType\")){\r\n														 //  if(otherObj.getAttribute(\"id\")){\r\n															//	otherObj.setAttribute(\"id\",otherObj.getAttribute(\"id\").split(\"_\")[0]+\"_\"+newRowNum);\r\n															// }\r\n															// if(otherObj.getAttribute(\"name\")){\r\n															//	otherObj.setAttribute(\"name\",otherObj.getAttribute(\"name\").split(\"_\")[0]+\"_\"+newRowNum);\r\n															//}\r\n													  //}else{\r\n														  // var inputValue =  otherObj.getAttribute(\"value\");\r\n														//  inputValue = inputValue.split(\"_\")[0]+\"_\"+newRowNum+\"_\"+inputValue.split(\"_\")[2];\r\n														  //otherObj.setAttribute(\"value\",inputValue);\r\n													//  }    \r\n												//  }\r\n												 // if(otherObj.nodeType == 1 &&  otherObj.nodeName == 'DIV'){ //DIV\u5143\u7d20\r\n													//  var divId = otherObj.getAttribute(\"id\");\r\n													  // if(divId != 'isedit'){ //\u5c55\u793a\u6570\u636e\u7684\u5730\u65b9\r\n														//	 var divNewId =  divId.split(\"_\")[0]+\"_\"+newRowNum+\"_\"+divId.split(\"_\")[2];\r\n															 //otherObj.setAttribute(\"id\",divNewId);\r\n															 //try{\r\n																//for(var su=0;su<otherObj.childNodes.length;su++){\r\n																	// var elementObj= otherObj.childNodes[su];\r\n																	 //if(elementObj.nodeType ==1 && elementObj.nodeName == 'SPAN'){\r\n																			//if(elementObj.getAttribute(\"id\")){\r\n																			//	elementObj.setAttribute(\"id\",elementObj.getAttribute(\"id\").split(\"_\")[0]+\"_\"+newRowNum+\"_\"+elementObj.getAttribute(\"name\").split(\"_\")[2]);\r\n																			//  }\r\n																			// if(elementObj.getAttribute(\"name\")){\r\n																				//	elementObj.setAttribute(\"name\",elementObj.getAttribute(\"name\").split(\"_\")[0]+\"_\"+newRowNum+\"_\"+elementObj.getAttribute(\"name\").split(\"_\")[2]);\r\n																			// }\r\n																	// }\r\n																	  //if(elementObj.nodeType ==1 && elementObj.nodeName == 'INPUT'){\r\n																			  //if(elementObj.getAttribute(\"id\")){\r\n																					  // elementObj.setAttribute(\"id\",elementObj.getAttribute(\"id\").split(\"_\")[0]+\"_\"+newRowNum);\r\n																			//   }\r\n																			 // if(elementObj.getAttribute(\"name\")){\r\n																				//	elementObj.setAttribute(\"name\",elementObj.getAttribute(\"name\").split(\"_\")[0]+\"_\"+newRowNum);\r\n																			   //}\r\n																	//  }\r\n																//}\r\n															 //}catch(e){}\r\n													   //}else if(divId == 'isedit'){ //\u7f16\u8f91\u9875\u9762\u7684\u6570\u636e\u53d8\u66f4\r\n															// delEditEvent(otherObj,newRowNum);\r\n													  // }\r\n												 // }\r\n											 //}\r\n\r\n										//}\r\n                                    \r\n									//tdElememtCount++;\r\n								//}\r\n						// }\r\n	                 newRowNum ++;\r\n	             }else{\r\n					 continue;\r\n					 newRowNum --;\r\n				 }\r\n	         }\r\n			 document.getElementById(\"newRowNum\"+obj).value = parseInt(nodenum) - isdeleteCount;\r\n\r\n\r\n\r\n\r\n\r\n   }\r\n   //\u5220\u9664\u7684\u65f6\u5019\u5c06\u7f16\u8f91\u7684\u5143\u7d20Id\u8fdb\u884c\u53d8\u66f4 divObj \u7f16\u8f91DIV\u5bf9\u8c61\r\n    function delEditEvent(divObj,newRowNum){\r\n	       var tableObjs =  divObj.childNodes;\r\n		   for(var i=0;i<tableObjs.length;i++){\r\n                var tableObj = tableObjs[i];\r\n				//\u53ea\u8bfb\u7684\u60c5\u51b5\r\n				if(tableObj.nodeType == 1 &&  tableObj.nodeName == 'INPUT'){\r\n					     if(tableObj.getAttribute(\"id\")){\r\n                               tableObj.setAttribute(\"id\",tableObj.getAttribute(\"id\").split(\"_\")[0]+\"_\"+newRowNum);\r\n						}\r\n					     if(tableObj.getAttribute(\"name\")){\r\n							 tableObj.setAttribute(\"name\",tableObj.getAttribute(\"name\").split(\"_\")[0]+\"_\"+newRowNum);\r\n						}\r\n				}\r\n				if(tableObj.nodeType == 1 &&  tableObj.nodeName == 'SPAN'){\r\n                      if(tableObj.getAttribute(\"id\")){\r\n                               tableObj.setAttribute(\"id\",tableObj.getAttribute(\"id\").split(\"_\")[0]+\"_\"+newRowNum+\"_\"+tableObj.getAttribute(\"name\").split(\"_\")[2]);\r\n						}\r\n					     if(tableObj.getAttribute(\"name\")){\r\n							 tableObj.setAttribute(\"name\",tableObj.getAttribute(\"name\").split(\"_\")[0]+\"_\"+newRowNum+\"_\"+tableObj.getAttribute(\"name\").split(\"_\")[2]);\r\n						}\r\n				}\r\n				\r\n			   if(tableObj.nodeType == 1 &&  tableObj.nodeName == 'TABLE'){\r\n					if(tableObjs[i].childNodes[0]){ //tbody\r\n						if(tableObjs[i].childNodes[0].childNodes[0]){ //tr\r\n                                var tdObjs = tableObjs[i].childNodes[0].childNodes[0].childNodes;\r\n								var tdCount = 0;\r\n							    for(var j=0;j<tableObjs[i].childNodes[0].childNodes[0].childNodes.length;j++){\r\n								     var tdObj = tableObjs[i].childNodes[0].childNodes[0].childNodes[j];\r\n									 if(tdObj.nodeType ==1 &&  tdObj.nodeName == 'TD'){\r\n										  try{\r\n											  if(tdObj.getAttribute(\"id\")){ //\u5982\u679c\u662f\u6d4f\u89c8\u6846\u7c7b\u578b\u7684td\u4e0a\u5305\u542b\u4e86id\r\n												   var tdIdSplits =  tdObj.getAttribute(\"id\").split(\"_\");\r\n                                                   tdObj.setAttribute(\"id\",tdIdSplits[0]+\"_\"+newRowNum+\"_\"+tdIdSplits[2]);\r\n											  }\r\n											  if(tdObj.getAttribute(\"onclick\")){\r\n												  var newonclick = \"\";\r\n												  var splitValues = tdObj.getAttribute(\"onclick\").split(\"&\");\r\n												  for(var si=0;si<splitValues.length;si++){\r\n													    var splitValue=splitValues[si];\r\n														if(splitValue.indexOf(\"=\")>=0){\r\n															var sequalsValue = splitValue.split(\"=\");\r\n															var newReturnValue =\"\";\r\n															for(var se=0;se<sequalsValue.length;se++){\r\n																 var  sequalsVal =  sequalsValue[se];\r\n                                                                 if(sequalsVal.indexOf(\"_\")>=0){\r\n																	  var splitRealV=sequalsVal.split(\"_\");\r\n																	  if(splitRealV.length == 2){\r\n																		   newReturnValue += splitRealV[0]+\"_\"+newRowNum;\r\n																	  }else if(splitRealV.length == 3){\r\n																		   newReturnValue += splitRealV[0]+\"_\"+newRowNum+\"_\"+splitRealV[2];\r\n																	  } \r\n																 }else{\r\n																	 if(se == 0){\r\n																		  newReturnValue += sequalsVal +\"=\";\r\n																	 }else{\r\n																		   newReturnValue += sequalsVal;\r\n																	 }\r\n                                                                    \r\n																 }\r\n															}\r\n															if(si==(splitValues.length-1)){\r\n                                                                  newonclick += newReturnValue;\r\n															}else{\r\n																 newonclick += newReturnValue + \"&\";\r\n															}\r\n															\r\n														}else{\r\n														    newonclick +=splitValue+\"&\";\r\n														}\r\n														\r\n													    \r\n												  }\r\n                                                  tdObj.setAttribute(\"onclick\",newonclick);\r\n											  }\r\n										  }catch(e){}\r\n										   var elementObjs =   tdObj.childNodes;\r\n										   for(var k=0;k<elementObjs.length;k++){\r\n											     var elementObj = elementObjs[k];\r\n												 if(elementObj.nodeType == 1 && elementObj.nodeName == 'INPUT'){ //input \u5143\u7d20\r\n													 if(tdCount == 0){ //\u975e\u5fc5\u586b\u7684\u60c5\u51b5\r\n														 var oldId = \"\";\r\n														 var newChangeId = \"\";\r\n													     if(elementObj.getAttribute(\"id\")){ //id\u7684\u53d8\u66f4\r\n															  var idValue = elementObj.getAttribute(\"id\");\r\n															   oldId = idValue;\r\n															   if(idValue.indexOf(\"_\")>=0){\r\n																   var splitValues = idValue.split(\"_\");\r\n																   var  newId=\"\";\r\n																   for(var s=0;s<splitValues.length;s++){\r\n																	      \r\n																		  if(s==(splitValues.length -1)){\r\n																			    newId +=newRowNum;\r\n																		  }else{\r\n																			   newId += splitValues[s] +\"_\";\r\n																		  }\r\n																   }\r\n                                                                   newChangeId = newId; \r\n                                                                   elementObj.setAttribute(\"id\",newId);\r\n															   } \r\n														}\r\n														if(elementObj.getAttribute(\"name\")){ //name\u7684\u53d8\u66f4\r\n                                                            var  nameValue = elementObj.getAttribute(\"name\");\r\n															if(nameValue.indexOf(\"_\")>=0){\r\n																   var  newName =\"\";\r\n																   var splitnames = nameValue.split(\"_\");\r\n																   for(s=0;s<splitnames.length;s++){\r\n																	   if(s == (splitnames.length -1)){\r\n																		      newName += newRowNum;\r\n																	   }else{\r\n																		     newName += splitnames[s] + \"_\";\r\n																	   }\r\n																   }\r\n                                                                 elementObj.setAttribute(\"name\",newName);\r\n															} \r\n														}\r\n														if(elementObj.getAttribute(\"onchange\")){\r\n															var reg=new RegExp(oldId,\"gmi\");\r\n                                                             elementObj.setAttribute(\"onchange\",\r\n																 elementObj.getAttribute(\"onchange\").replace(reg,newChangeId));\r\n														}\r\n								\r\n														if(elementObj.getAttribute(\"onkeypress\")){\r\n															var oldMoney = oldId; \r\n															var newMoney = newChangeId;\r\n															if(oldId.indexOf(\"lable\")>=0){\r\n																  oldMoney = oldId.replace(/_lable/g,'');\r\n															}\r\n														    if(newChangeId.indexOf(\"lable\")>=0){\r\n																 newMoney = newChangeId.replace(/_lable/g,'');\r\n															}\r\n                                                             var reg=new RegExp(oldMoney,\"gmi\");\r\n                                                             elementObj.setAttribute(\"onkeypress\",\r\n																 elementObj.getAttribute(\"onkeypress\").replace(reg,newMoney));\r\n														}\r\n\r\n														if(elementObj.getAttribute(\"onblur\")){\r\n															if(elementObj.getAttribute(\"onblur\").indexOf(\"numberToFormat\")>=0){\r\n																  var reg=new RegExp(oldId.replace(/field_lable/g,''),\"gmi\");\r\n																   elementObj.setAttribute(\"onblur\",\r\n																	 elementObj.getAttribute(\"onblur\").replace(reg,newChangeId.replace(/field_lable/g,'')));\r\n															}else{\r\n																 var reg=new RegExp(oldId,\"gmi\");\r\n																 elementObj.setAttribute(\"onblur\",\r\n																	 elementObj.getAttribute(\"onblur\").replace(reg,newChangeId));\r\n															}\r\n														}\r\n\r\n													   if(elementObj.getAttribute(\"onfocus\")){\r\n														   if(elementObj.getAttribute(\"onfocus\").indexOf(\"FormatToNumber\")>=0){\r\n															    var reg=new RegExp(oldId.replace(/field_lable/g,''),\"gmi\");\r\n																   elementObj.setAttribute(\"onfocus\",\r\n																	 elementObj.getAttribute(\"onfocus\").replace(reg,newChangeId.replace(/field_lable/g,'')));\r\n														   }else{\r\n															   var reg=new RegExp(oldId,\"gmi\");\r\n                                                               elementObj.setAttribute(\"onfocus\",\r\n																     elementObj.getAttribute(\"onfocus\").replace(reg,newChangeId));\r\n														   }\r\n                                                            \r\n														}\r\n\r\n													 }else{ //\u9a8c\u8bc1\u5fc5\u586b\u7684\u60c5\u51b5\r\n														 if(elementObj.getAttribute(\"id\") && elementObj.getAttribute(\"id\") == 'ismandfield'){ //id\u7684\u53d8\u66f4\r\n															     var elementValue = elementObj.getAttribute(\"value\");\r\n																  if(elementValue.indexOf(\"_\")>=0){\r\n																     var  newValue = elementValue.split(\"_\")[0]+\"_\"+newRowNum;\r\n                                                                     elementObj.setAttribute(\"value\",newValue);\r\n															      }\r\n														 }\r\n													 }\r\n												 }\r\n\r\n												 if(elementObj.nodeType == 1 && elementObj.nodeName == 'TEXTAREA'){\r\n													   if(elementObj.getAttribute(\"id\")){\r\n                                                            elementObj.setAttribute(\"id\",elementObj.getAttribute(\"id\").split(\"_\")[0]+\"_\"+newRowNum);\r\n													   }\r\n													   if(elementObj.getAttribute(\"name\")){\r\n														     elementObj.setAttribute(\"name\",elementObj.getAttribute(\"name\").split(\"_\")[0]+\"_\"+newRowNum);\r\n													   }\r\n												 }\r\n\r\n												  if(elementObj.nodeType == 1 && elementObj.nodeName == 'SELECT'){\r\n													   if(elementObj.getAttribute(\"id\")){\r\n                                                            elementObj.setAttribute(\"id\",elementObj.getAttribute(\"id\").split(\"_\")[0]+\"_\"+newRowNum);\r\n													   }\r\n													   if(elementObj.getAttribute(\"name\")){\r\n														     elementObj.setAttribute(\"name\",elementObj.getAttribute(\"name\").split(\"_\")[0]+\"_\"+newRowNum);\r\n													   }\r\n												 }\r\n\r\n\r\n												  if(elementObj.nodeType == 1 && elementObj.nodeName == 'SPAN'){ //input \u5143\u7d20\r\n													 if(tdCount == 0){ //\u975e\u5fc5\u586b\u7684\u60c5\u51b5\r\n													     \r\n													 }else{ //\u9a8c\u8bc1\u5fc5\u586b\u7684\u60c5\u51b5\r\n														 if(elementObj.getAttribute(\"id\")){ //id\u7684\u53d8\u66f4\r\n															     var elementValue = elementObj.getAttribute(\"id\");\r\n																  if(elementValue.indexOf(\"_\")>=0){\r\n																     var  newValue = elementValue.split(\"_\")[0]+\"_\"+newRowNum+\"_\"+elementValue.split(\"_\")[2];\r\n                                                                     elementObj.setAttribute(\"id\",newValue);\r\n															      }\r\n														 }\r\n													 }\r\n												 }\r\n										   }\r\n                                          tdCount++; \r\n									 }\r\n				                }\r\n						}\r\n					}\r\n			   }\r\n\r\n		   }\r\n	}\r\n   \r\n   function isdel(){\r\n	  var str = \"".toCharArray();
    _jsp_string107 = "\" align=\"left\">\r\n					".toCharArray();
    _jsp_string135 = "\r\n					<input type=\"text\" name=\"".toCharArray();
    _jsp_string359 = "\r\n	//\u4ec5\u5f53 \u5f53\u524d\u8bbf\u95ee\u7a0b\u5e8f\u662fWebClient\u800c\u4e14\u4e0d\u662f\u521b\u5efa\u6d41\u7a0b\u65f6\u5019\uff0c\u624d\u5bf9\u8bed\u97f3\u9644\u4ef6\u4f5c\u9690\u85cf\u5904\u7406\u3002\r\n 	flagHiddenSpeechBtn = ".toCharArray();
    _jsp_string324 = "   DIVHTML +=  \"<input namebak=\\\"\"+namebak+\"\\\" datalength=\\\"\"+datalength+\"\\\" datavaluetype=\\\"\"+datavaluetype+\"\\\" datetype=\\\"\"+datetype+\"\\\" datatype=\\\"\"+datatype+\"\\\" type=\\\"\"+type+\"\\\" name=\\\"\"+name+\"_d\\\" id=\\\"\"+idval+\"_d\\\" value=\\\"\"+value+\"\\\" />\";\r\n	                                                                                       DIVHTML +=  \"<script language='javascript'> numberToFormat('\"+idval.replace(\"field\",\"\")+\"_d');<\\/script>\";\r\n	                                                                                   }\r\n	                                                                               }else if(datavaluetype == 2){ //\u6574\u6570\r\n	                                                                                     var datatype = tdObjs.getAttribute(\"datatype\");\r\n	                                                                                     var datetype = tdObjs.getAttribute(\"datetype\");\r\n	                                                                                     var datalength = tdObjs.getAttribute(\"datalength\");\r\n	                                                                                     var onkeypress = tdObjs.getAttribute(\"onkeypress\");\r\n	                                                                                     DIVHTML += \"<input onchange=\\\"onChangeClick(this,\"+isedit+\",\"+groupid+\",\"+rowId+\",\"+elementCount+\");\\\"   value=\\\"\"+value+\"\\\" onblur=\\\"checknumber1(this);calSum(\"+groupid+\");\\\" onkeypress=\\\"onkeypress('\"+onkeypress.substring(onkeypress.indexOf(\"'\")+1,onkeypress.lastIndexOf(\"'\"))+\"')\\\" type=\\\"\"+type+\"\\\" datatype=\\\"\"+datatype+\"\\\" datetype=\\\"\"+datetype+\"\\\" datavaluetype=\\\"\"+datavaluetype+\"\\\" datalength=\\\"\"+datalength+\"\\\" name=\\\"\"+name+\"_d\\\" id=\\\"\"+idval+\"_d\\\" namebak=\\\"\"+namebak+\"\\\" />\";\r\n	                                                                               }else{\r\n	                                                                               } \r\n	                                                                          }else{\r\n	                                                                             if(idval){\r\n	                                                                                if(idval.indexOf(\"chinglish\")>=0){\r\n	                                                                                    DIVHTML +=  \"<input type=\\\"\"+type+\"\\\" name=\\\"\"+name+\"_d\\\" id=\\\"\"+idval+\"_d\\\" value=\\\"\"+value+\"\\\" readonly=\\\"readonly\\\" />\";\r\n	                                                                                }\r\n	                                                                                if(type == 'checkbox'){\r\n	                                                                                      var onchange = tdObjs.getAttribute(\"onchange\");\r\n	                                                                                      var disabledVal = \"\";\r\n																						   var sourceJs = \"\";\r\n	                                                                                      if(onchange){\r\n	                                                                                           var reg =   eval(\"/\"+idval+\"/ig\");\r\n	                                                                                           onchange = onchange.replace(reg,idval+\"_d\");\r\n																							   sourceJs = \"var cks=document.getElementsByName('\"+idval+\"');for(var pk=0;pk<cks.length;pk++){if(cks[pk]){if(document.getElementById('\"+idval+\"').getAttribute('checked')&&document.getElementById('\"+idval+\"').getAttribute('checked')!='false'){cks[pk].setAttribute('value',1);}else{cks[pk].setAttribute('value',0);}}}\";\r\n	                                                                                      }else{\r\n	                                                                                          disabledVal = \"disabled\";\r\n	                                                                                      }\r\n																						   var checkedVal =\"\" ;\r\n																						   if(tdObjs.checked && tdObjs.getAttribute(\"checked\")!=\"false\"){\r\n																									checkedVal =\"checked\";\r\n																						   }\r\n	                                                                                    DIVHTML += \"<input onchange=\\\"\"+onchange+\";onChangeClick(this,\"+isedit+\",\"+groupid+\",\"+rowId+\",\"+elementCount+\");\"+sourceJs+\"\\\" \"+(checkedVal)+\"  name=\\\"\"+name+\"_d\\\" id=\\\"\"+idval+\"_d\\\" type=\\\"\"+type+\"\\\"  \"+disabledVal+\" />\"; \r\n	                                                                                }else{\r\n	                                                                                   if(tdObjs.getAttribute(\"onchange\")){\r\n	                                                                                      var onchange = tdObjs.getAttribute(\"onchange\");\r\n	                                                                                      var reg =   eval(\"/\"+idval+\"/ig\");\r\n	                                                                                      onchange = onchange.replace(reg,idval+\"_d\");\r\n	                                                                                        var classVal = tdObjs.getAttribute(\"class\");\r\n																							  if(classVal){\r\n																							       if(classVal == 'scroller_date'){ //\u65e5\u671f\r\n																							         	DIVHTML += \"<input onchange=\\\"\"+onchange+\";onChangeClick(this,\"+isedit+\",\"+groupid+\",\"+rowId+\",\"+elementCount+\");\\\" class=\\\"\"+classVal+\"\\\" type=\\\"\"+type+\"\\\" id=\\\"\"+idval+\"_d\\\" name=\\\"\"+name+\"_d\\\" namebak=\\\"\"+namebak+\"\\\" value=\\\"\"+value+\"\\\" readonly=\\\"readonly\\\" />\";\r\n																								        DIVHTML += \"<script language=\\\"javascript\\\">$('#\"+idval+\"_d').scroller({preset: 'date',dateFormat:'yy-mm-dd',theme: 'default',display: 'bottom', mode: 'scroller',endYear:2020,nowText:'\u4eca\u5929',setText:'\u786e\u5b9a',cancelText:'\u53d6\u6d88',monthText:'\u6708',yearText:'\u5e74',dayText:'\u65e5',showNow:true,dateOrder: 'yymmdd',onShow: moveDataTimeContorl});<\\/script>\";\r\n																							      }else if(classVal == 'scroller_time'){//\u65f6\u95f4\r\n																								      DIVHTML += \"<input onchange=\\\"\"+onchange+\";onChangeClick(this,\"+isedit+\",\"+groupid+\",\"+rowId+\",\"+elementCount+\");\\\" class=\\\"\"+classVal+\"\\\" type=\\\"\"+type+\"\\\" id=\\\"\"+idval+\"_d\\\" name=\\\"\"+name+\"_d\\\" namebak=\\\"\"+namebak+\"\\\" value=\\\"\"+value+\"\\\" readonly=\\\"readonly\\\" />\";\r\n																								      DIVHTML += \"<script language=\\\"javascript\\\">$('#\"+idval+\"_d').scroller({preset: 'time',timeFormat:'HH:ii',theme: 'default',display: 'bottom',mode: 'scroller',nowText:'\u73b0\u5728',setText:'\u786e\u5b9a',cancelText:'\u53d6\u6d88',minuteText:'\u5206',hourText:'\u65f6',timeWheels:'HHii',showNow:true,onShow: moveDataTimeContorl});<\\/script>\"; \r\n																							     }\r\n																							  }else{\r\n																							    if(tdObjs.getAttribute(\"fieldtype\")){\r\n																							         var fieldtype = tdObjs.getAttribute(\"fieldtype\");\r\n																									 DIVHTML += \"<input fieldtype=\\\"\"+fieldtype+\"\\\" type=\\\"\"+type+\"\\\" id=\\\"\"+idval+\"_d\\\" name=\\\"\"+name+\"_d\\\" namebak=\\\"\"+namebak+\"\\\" value=\\\"\"+value+\"\\\"  onchange=\\\"\"+onchange+\";\\\" />\"; \r\n																							    }else{\r\n																							         if(value.indexOf(\"\\\"\")!=-1){\r\n																							            value = value.replace(/\\\"/g,\"&quot;\");\r\n																							         }\r\n																							         DIVHTML += \"<input type=\\\"\"+type+\"\\\" id=\\\"\"+idval+\"_d\\\" name=\\\"\"+name+\"_d\\\" namebak=\\\"\"+namebak+\"\\\" value=\\\"\"+value+\"\\\" onchange=\\\"\"+onchange+\";onChangeClick(this,\"+isedit+\",\"+groupid+\",\"+rowId+\",\"+elementCount+\");\\\" />\";\r\n																						        }\r\n																						     }\r\n	                                                                                   }else{\r\n	                                                                                       var classVal = tdObjs.getAttribute(\"class\");\r\n																							if(classVal){\r\n																								if(classVal == 'scroller_date'){ //\u65e5\u671f\r\n																								DIVHTML += \"<input onchange=\\\"onChangeClick(this,\"+isedit+\",\"+groupid+\",\"+rowId+\",\"+elementCount+\");\\\" class=\\\"\"+classVal+\"\\\" type=\\\"\"+type+\"\\\" id=\\\"\"+idval+\"_d\\\" name=\\\"\"+name+\"_d\\\" namebak=\\\"\"+namebak+\"\\\" value=\\\"\"+value+\"\\\" readonly=\\\"readonly\\\" />\";\r\n																								DIVHTML += \"<script language=\\\"javascript\\\">$('#\"+idval+\"_d').scroller({preset: 'date',dateFormat:'yy-mm-dd',theme: 'default',display: 'bottom', mode: 'scroller',endYear:2020,nowText:'\u4eca\u5929',setText:'\u786e\u5b9a',cancelText:'\u53d6\u6d88',monthText:'\u6708',yearText:'\u5e74',dayText:'\u65e5',showNow:true,dateOrder: 'yymmdd',onShow: moveDataTimeContorl});<\\/script>\";\r\n																							 }else if(classVal == 'scroller_time'){//\u65f6\u95f4\r\n																								 DIVHTML += \"<input onchange=\\\"onChangeClick(this,\"+isedit+\",\"+groupid+\",\"+rowId+\",\"+elementCount+\");\\\" class=\\\"\"+classVal+\"\\\" type=\\\"\"+type+\"\\\" id=\\\"\"+idval+\"_d\\\" name=\\\"\"+name+\"_d\\\" namebak=\\\"\"+namebak+\"\\\" value=\\\"\"+value+\"\\\" readonly=\\\"readonly\\\" />\";\r\n																								 DIVHTML += \"<script language=\\\"javascript\\\">$('#\"+idval+\"_d').scroller({preset: 'time',timeFormat:'HH:ii',theme: 'default',display: 'bottom',mode: 'scroller',nowText:'\u73b0\u5728',setText:'\u786e\u5b9a',cancelText:'\u53d6\u6d88',minuteText:'\u5206',hourText:'\u65f6',timeWheels:'HHii',showNow:true,onShow: moveDataTimeContorl});<\\/script>\"; \r\n																							 }\r\n																							}else{\r\n																								 if(tdObjs.getAttribute(\"fieldtype\")){\r\n																									 var fieldtype = tdObjs.getAttribute(\"fieldtype\");\r\n																									 DIVHTML += \"<input fieldtype=\\\"\"+fieldtype+\"\\\" type=\\\"\"+type+\"\\\" id=\\\"\"+idval+\"_d\\\" name=\\\"\"+name+\"_d\\\" namebak=\\\"\"+namebak+\"\\\" value=\\\"\"+value+\"\\\" />\"; \r\n																								 }\r\n																							   \r\n																						   }\r\n\r\n\r\n	                                                                                   }\r\n	                                                                                }\r\n	                                                                             }else{\r\n	                                                                                  DIVHTML += \"<input type=\\\"\"+type+\"\\\" name=\\\"\"+name+\"_d\\\" namebak=\\\"\"+namebak+\"\\\" value=\\\"\"+value+\"\\\" />\"; \r\n	                                                                             }\r\n	                                                                             \r\n	                                                          \r\n	                                                                          }\r\n	                                                                        \r\n	                                                                    }\r\n	                                                                }\r\n	                                                           }\r\n	                                                      }\r\n	                                                     \r\n	                                                  }\r\n	                                                  \r\n	                                              }\r\n	                                        }\r\n	                                   } \r\n	                                }\r\n	                          }         \r\n                                                       \r\n                                              }\r\n                                          }\r\n                                       }\r\n                                   }\r\n                              }\r\n                         }\r\n						  }\r\n                      }\r\n                      DIVHTML += \"</td></tr>\";\r\n                  }\r\n                  elementCount ++ ;\r\n              }\r\n        }      \r\n        tableObj.innerHTML = DIVHTML;\r\n        document.getElementById(\"trspace\"+groupid+\"_\"+rowId).style.display =\"block\";\r\n        jQuery(document.getElementById(\"tdspace\"+groupid+\"_\"+rowId)).html(\"\");\r\n                //jQuery(document.getElementById(\"tdspace\"+groupid+\"_\"+rowId)).append(divObj);\r\n        jQuery(document.getElementById(\"tdspace\"+groupid+\"_\"+rowId)).append(tableObj);\r\n        jQuery(document.getElementById(\"tdspace\"+groupid+\"_\"+rowId)).css(\"width\",widthPosition);\r\n        jQuery(document.getElementById(\"trspace\"+groupid+\"_\"+rowId)).css(\"width\",widthPosition);\r\n        \r\n        try{dyeditPageFnaFyFun(groupid,rowId,fieldCount,isedit,isdisplay);}catch(ex){}\r\n   }\r\n   \r\n   //\u79fb\u52a8\u5230tr\u4e0a\u7684\u4e8b\u4ef6\r\n   function trMouseOver(groupId,rowId){\r\n        var trspaceObj =  document.getElementById(\"trspace\"+groupId+\"_\"+rowId);\r\n        if(trspaceObj.style.display == \"none\"){\r\n         document.getElementById(\"a\"+groupId+\"_\"+rowId).onclick();\r\n         if(document.getElementById(\"table\"+groupId).style.width){\r\n             jQuery(document.getElementById(\"table\"+groupId)).css(\"width\",\"\");\r\n         }\r\n        }else{\r\n           detailtableMouseOut(groupId,rowId);  \r\n        }\r\n   }\r\n   \r\n   //\u79fb\u51fatr\u4e0a\u7684\u4e8b\u4ef6\r\n   function trMouseOut(groupId,rowId){\r\n      document.getElementById(\"trspace\"+groupId+\"_\"+rowId).style.display =\"none\";\r\n       if(document.getElementById(\"table\"+groupId).style.width){\r\n             jQuery(document.getElementById(\"table\"+groupId)).css(\"width\",\"\");\r\n         }\r\n   }\r\n   //\u660e\u7ec6\u8868\u4e2d\u79fb\u4e0a\u53bb\u7684\u65f6\u5019\u663e\u793a\r\n   function detailtableMouseOver(groupId,rowId){\r\n       document.getElementById(\"trspace\"+groupId+\"_\"+rowId).style.display =\"block\";\r\n        if(document.getElementById(\"table\"+groupId).style.width){\r\n             jQuery(document.getElementById(\"table\"+groupId)).css(\"width\",\"\");\r\n         }\r\n   }\r\n   //\u660e\u7ec6\u8868\u4e2d\u79fb\u51fa\u7684\u65f6\u5019\u4e0d\u663e\u793a\uff0c\u5e76\u4e14\u540c\u6b65\u8be5\u8868\u683c\u6570\u636e\u5230\u4e3b\u8868\u4e2d\r\n   function detailtableMouseOut(groupId,rowId){\r\n     jQuery(document.getElementById(\"trspace\"+groupId+\"_\"+rowId)).slideUp();\r\n       if(document.getElementById(\"table\"+groupId).style.width){\r\n             jQuery(document.getElementById(\"table\"+groupId)).css(\"width\",\"\");\r\n       }\r\n   }\r\n   \r\n   //\u70b9\u51fb\u660e\u7ec6\u8868\u7684\u6570\u636e\uff0c\u540c\u6b65\u5230\u4e3b\u8868\u76f8\u5bf9\u5e94\u7684\u5b57\u6bb5 \u76ee\u524d\u4f7f\u7528\u6b64\u65b9\u6cd5\r\n   function onChangeClick(obj,isedit,groupId,rowId,colId){\r\n     colId = colId -2; //\u524d\u9762\u5305\u542b\u4e862\u5217\r\n     if(isedit){\r\n           if(obj.nodeType == 1){\r\n	           if(obj.nodeName == \"INPUT\"){\r\n	               var id   = obj.getAttribute(\"id\");\r\n	               var type = obj.getAttribute(\"type\");\r\n	               var name = obj.getAttribute(\"name\");\r\n	               var copyid = id.substring(0,id.lastIndexOf(\"_d\"));\r\n	               if(\"\" == copyid){copyid = id;}\r\n	                  \r\n	               if(type == 'checkbox'){\r\n	                  if(obj.checked){\r\n	                       document.getElementById(copyid).checked = true; \r\n						   document.getElementById(id).checked = true; \r\n	                  }else{\r\n	                      document.getElementById(copyid).checked = false;\r\n						  document.getElementById(id).checked = false; \r\n	                  }  \r\n	               }else{\r\n	                  //\u5224\u65ad\u662f\u5426\u4e3a\u91d1\u989d\u5343\u5206\u4f4d\r\n	                  if(obj.getAttribute(\"datavaluetype\")){\r\n	                       var datavaluetype = obj.getAttribute(\"datavaluetype\");\r\n	                       if(datavaluetype == 5){\r\n	                           var re;\r\n	                           if(obj.value.indexOf(\".\")<0){\r\n	                                  re = /(\\d{1,3})(?=(\\d{3})+($))/g;\r\n	                            }else{\r\n	                                  re = /(\\d{1,3})(?=(\\d{3})+(\\.))/g;\r\n	                            }\r\n	                           var tovalue = obj.value.replace(re,\"$1,\");\r\n	                           document.getElementById(id).setAttribute(\"value\",tovalue);\r\n	                           document.getElementById(copyid).setAttribute(\"value\",tovalue);\r\n	                           document.getElementById(copyid).value = tovalue;\r\n	                       }else{\r\n	                           document.getElementById(id).setAttribute(\"value\",document.getElementById(id).value);\r\n	                           document.getElementById(copyid).setAttribute(\"value\",document.getElementById(id).value);\r\n	                           document.getElementById(copyid).value = document.getElementById(id).value; \r\n	                       }\r\n	                  }else{\r\n	                      document.getElementById(id).setAttribute(\"value\",document.getElementById(id).value);\r\n	                      document.getElementById(copyid).setAttribute(\"value\",document.getElementById(id).value);\r\n	                      document.getElementById(copyid).value = document.getElementById(id).value; \r\n	                  }\r\n	               }\r\n	           }\r\n	           if(obj.nodeName == \"SELECT\"){\r\n	               var id   = obj.getAttribute(\"id\");\r\n	               var name = obj.getAttribute(\"name\");\r\n	               var copyid = id.substring(0,id.lastIndexOf(\"_d\"));\r\n	               if(\"\" == copyid){copyid = id;}\r\n	               var targetObj = document.getElementById(copyid);\r\n	               \r\n	               for(var i=0;i<obj.options.length;i++){\r\n	                    if(obj.options[i].selected){\r\n	                         targetObj.options[i].selected = true; \r\n	                    }else{\r\n	                         targetObj.options[i].selected = false; \r\n	                    }\r\n	               }\r\n\r\n				   if(document.getElementById(copyid+\"child\")){\r\n	                 try{\r\n					     var selChange = targetObj.getAttribute(\"onchange\");\r\n					     if(selChange.indexOf(\"changeChildFieldDetail\")!=-1){\r\n					          targetObj.value = obj.value;\r\n					          jQuery(targetObj).trigger(\"onchange\");\r\n					     }\r\n					   }catch(e){}\r\n					}\r\n\r\n	               \r\n	           }\r\n	           if(obj.nodeName == \"TEXTAREA\"){\r\n	               var id   = obj.getAttribute(\"id\");\r\n	               var name = obj.getAttribute(\"name\");\r\n	               var copyid = id.substring(0,id.lastIndexOf(\"_d\"));\r\n	               if(\"\" == copyid){copyid = id;}\r\n	                document.getElementById(id).innerHTML = \"\";\r\n	                document.getElementById(id).innerHTML = obj.value;\r\n	                document.getElementById(id).setAttribute(\"value\",obj.value);\r\n	                document.getElementById(copyid).innerHTML = \"\";\r\n	                document.getElementById(copyid).innerHTML =   obj.value;\r\n	                document.getElementById(copyid).setAttribute(\"value\",obj.value);\r\n	               \r\n	           }\r\n	      }  \r\n     }else{\r\n	         if(obj.nodeType == 1){\r\n	           if(obj.nodeName == \"INPUT\"){\r\n	               var id   = obj.getAttribute(\"id\");\r\n	               var type = obj.getAttribute(\"type\");\r\n	               var name = obj.getAttribute(\"name\");\r\n	               var copyid = id.substring(0,id.lastIndexOf(\"_d\"));\r\n	               if(\"\" == copyid){copyid = id;}\r\n	                  \r\n	               if(type == 'checkbox'){\r\n	                   var name=obj.getAttribute(\"name\");\r\n	                  var checkHtml = \"<input type=\\\"checkbox\\\" id=\\\"\"+id+\"\\\" name=\\\"\"+name+\"\\\"  \"+(obj.checked?\"checked\":\"\")+\" disabled  \\><label for=\\\"\"+id+\"\\\"></label>\";\r\n	                  document.getElementById(\"isshow\"+groupId+\"_\"+rowId+\"_\"+colId+\"\").innerHTML = checkHtml;\r\n	                  if(obj.checked){\r\n						   document.getElementById(copyid).setAttribute(\"checked\",\"true\");\r\n						   if(document.getElementById(copyid).getAttribute(\"onchange\")){\r\n							    document.getElementById(copyid).onchange(); \r\n						   }\r\n						    document.getElementById(id).setAttribute(\"checked\",\"true\");\r\n	                  }else{\r\n						  document.getElementById(copyid).setAttribute(\"checked\",\"false\");\r\n						 if(document.getElementById(copyid).getAttribute(\"onchange\")){\r\n							    document.getElementById(copyid).onchange(); \r\n						   }\r\n						  document.getElementById(id).setAttribute(\"checked\",\"false\");\r\n\r\n	                  }\r\n	               }else{\r\n	                  //\u5224\u65ad\u662f\u5426\u4e3a\u91d1\u989d\u5343\u5206\u4f4d\r\n	                  if(obj.getAttribute(\"datavaluetype\")){\r\n	                       var datavaluetype = obj.getAttribute(\"datavaluetype\");\r\n	                       if(datavaluetype == 5){ //\u91d1\u989d\u5343\u5206\u4f4d\r\n	                           var re;\r\n	                           if(obj.value.indexOf(\".\")<0){\r\n	                                  re = /(\\d{1,3})(?=(\\d{3})+($))/g;\r\n	                            }else{\r\n	                                  re = /(\\d{1,3})(?=(\\d{3})+(\\.))/g;\r\n	                            }\r\n	                           var tovalue = obj.value.replace(re,\"$1,\");\r\n	                           document.getElementById(id).setAttribute(\"value\",tovalue);\r\n	                           document.getElementById(copyid).setAttribute(\"value\",tovalue);\r\n	                           document.getElementById(copyid).value = tovalue; \r\n	                           document.getElementById(\"isshow\"+groupId+\"_\"+rowId+\"_\"+colId+\"\").innerHTML =tovalue; \r\n							   //\u5224\u65ad\u5fc5\u586b\u7684\u9a8c\u8bc1\r\n							    var idSplitIdStr =id+\"_ismandspan\";\r\n							    var ismandObj=document.getElementById(idSplitIdStr);\r\n							    if(ismandObj){\r\n								 if(document.getElementById(id).value && document.getElementById(id).value!=\"\"){\r\n												 ismandObj.style.display = \"none\";\r\n									 }else{\r\n											 ismandObj.style.display = \"block\";\r\n									}\r\n								}\r\n	                       }else if(datavaluetype == 3||datavaluetype == 2||datavaluetype == 4){ //\u6d6e\u70b9\u6570\u4e0e\u6574\u6570\r\n	                            document.getElementById(id).setAttribute(\"value\",document.getElementById(id).value);\r\n	                             document.getElementById(copyid).setAttribute(\"value\",document.getElementById(id).value);\r\n	                             document.getElementById(copyid).value = document.getElementById(id).value;\r\n	                             var datalength = obj.getAttribute(\"datalength\");\r\n	                             if(datavaluetype == 4){ //\u91d1\u989d\u8f6c\u6362\r\n									  var moneyFormat = document.getElementById(id).value.replace(/,/g,'');\r\n									    if(moneyFormat == '' || moneyFormat == '0' ){\r\n											 moneyFormat =  \"0.00\";\r\n										}else{\r\n                                             moneyFormat = milfloatFormat(toPrecision(moneyFormat,datalength));\r\n										}\r\n	                                   document.getElementById(\"isshow\"+groupId+\"_\"+rowId+\"_\"+colId+\"\").innerHTML = numberChangeToChinese(toPrecision(document.getElementById(id).value.replace(/,/g,''),datalength));\r\n	                                   document.getElementById(\"isshow\"+groupId+\"_\"+rowId+\"_\"+colId+\"\").innerHTML += \"(\"+moneyFormat+\")\";\r\n									   //\u91d1\u989d\u8f6c\u6362\u9700\u8981\u5c06label\u53bb\u6389\u8d4b\u503c\r\n									   if(copyid.indexOf(\"_\")>=0){\r\n										    var copyidSplit = copyid.split(\"_\");\r\n											var copyidSplitIdStr =copyidSplit[0]+copyidSplit[1].replace(/lable/g,\"\")+\"_\"+copyidSplit[2];\r\n											document.getElementById(copyidSplitIdStr).setAttribute(\"value\",toPrecision(document.getElementById(id).value.replace(/,/g,''),datalength));\r\n									   }\r\n									    //\u5224\u65ad\u5fc5\u586b\u7684\u9a8c\u8bc1\r\n									   if(id.indexOf(\"_\")>=0){\r\n										    var idSplit = id.split(\"_\");\r\n											var idSplitIdStr =idSplit[0]+idSplit[1].replace(/lable/g,\"\")+\"_\"+idSplit[2]+\"_d_ismandspan\";\r\n											var ismandObj=document.getElementById(idSplitIdStr);\r\n											if(ismandObj){\r\n												   if(document.getElementById(id).value && document.getElementById(id).value!=\"\"){\r\n													    ismandObj.style.display = \"none\";\r\n												   }else{\r\n													    ismandObj.style.display = \"block\";\r\n												   }\r\n											}\r\n									   }\r\n	                             }else{\r\n	                                  document.getElementById(\"isshow\"+groupId+\"_\"+rowId+\"_\"+colId+\"\").innerHTML = toPrecision(document.getElementById(id).value,datalength);\r\n									   //\u5224\u65ad\u5fc5\u586b\u7684\u9a8c\u8bc1\r\n										var idSplitIdStr =id+\"_ismandspan\";\r\n										var ismandObj=document.getElementById(idSplitIdStr);\r\n										if(ismandObj){\r\n											 if(document.getElementById(id).value && document.getElementById(id).value!=\"\"){\r\n													  ismandObj.style.display = \"none\";\r\n											 }else{\r\n													  ismandObj.style.display = \"block\";\r\n											}\r\n										}\r\n	                             }\r\n	                       }else{\r\n	                           document.getElementById(id).setAttribute(\"value\",document.getElementById(id).value);\r\n	                           document.getElementById(copyid).setAttribute(\"value\",document.getElementById(id).value);\r\n	                           document.getElementById(copyid).value = document.getElementById(id).value;\r\n	                           document.getElementById(\"isshow\"+groupId+\"_\"+rowId+\"_\"+colId+\"\").innerHTML =document.getElementById(id).value; \r\n							    //\u5224\u65ad\u5fc5\u586b\u7684\u9a8c\u8bc1\r\n							    var idSplitIdStr =id+\"_ismandspan\";\r\n							    var ismandObj=document.getElementById(idSplitIdStr);\r\n							    if(ismandObj){\r\n								 if(document.getElementById(id).value && document.getElementById(id).value!=\"\"){\r\n												 ismandObj.style.display = \"none\";\r\n									 }else{\r\n											 ismandObj.style.display = \"block\";\r\n									}\r\n								}\r\n	                       }\r\n	                  }else{\r\n	                      document.getElementById(id).setAttribute(\"value\",document.getElementById(id).value);\r\n	                      document.getElementById(copyid).setAttribute(\"value\",document.getElementById(id).value);\r\n	                      document.getElementById(copyid).value = document.getElementById(id).value; \r\n	                      document.getElementById(\"isshow\"+groupId+\"_\"+rowId+\"_\"+colId+\"\").innerHTML =document.getElementById(id).value; \r\n						   //\u5224\u65ad\u5fc5\u586b\u7684\u9a8c\u8bc1\r\n						  var idSplitIdStr =id+\"_ismandspan\";\r\n						  var ismandObj=document.getElementById(idSplitIdStr);\r\n						  if(ismandObj){\r\n							 if(document.getElementById(id).value && document.getElementById(id).value!=\"\"){\r\n									ismandObj.style.display = \"none\";\r\n							}else{\r\n									 ismandObj.style.display = \"block\";\r\n							}\r\n						 }\r\n	                  }\r\n	               }\r\n	           }\r\n	           if(obj.nodeName == \"SELECT\"){\r\n	               var id   = obj.getAttribute(\"id\");\r\n	               var name = obj.getAttribute(\"name\");\r\n	               var copyid = id.substring(0,id.lastIndexOf(\"_d\"));\r\n	               if(\"\" == copyid){copyid = id;}\r\n	               var targetObj = document.getElementById(copyid);\r\n\r\n	               var selectNameVal = \"\";\r\n	               for(var i=0;i<obj.options.length;i++){\r\n	                    if(obj.options[i].selected){\r\n	                         targetObj.options[i].selected = true; \r\n	                         selectNameVal = obj.options[i].innerHTML;\r\n	                    }else{\r\n	                         targetObj.options[i].selected = false; \r\n	                    }\r\n	               }\r\n	               document.getElementById(\"isshow\"+groupId+\"_\"+rowId+\"_\"+colId+\"\").innerHTML = selectNameVal;\r\n	               if(document.getElementById(copyid+\"child\")){\r\n	                 try{\r\n					     var selChange = targetObj.getAttribute(\"onchange\");\r\n					     if(selChange.indexOf(\"changeChildFieldDetail\")!=-1){\r\n					          targetObj.value = obj.value;\r\n					          jQuery(targetObj).trigger(\"onchange\");\r\n					     }\r\n					   }catch(e){}\r\n					}\r\n				   //\u5224\u65ad\u5fc5\u586b\u7684\u9a8c\u8bc1\r\n					var idSplitIdStr =id+\"_ismandspan\";\r\n					var ismandObj=document.getElementById(idSplitIdStr);\r\n				    if(ismandObj){\r\n						if(selectNameVal!=\"\"){\r\n								ismandObj.style.display = \"none\";\r\n					    }else{\r\n							    ismandObj.style.display = \"block\";\r\n						}\r\n					}\r\n	           }\r\n	           if(obj.nodeName == \"TEXTAREA\"){\r\n	               var id   = obj.getAttribute(\"id\");\r\n	               var name = obj.getAttribute(\"name\");\r\n	               var copyid = id.substring(0,id.lastIndexOf(\"_d\"));\r\n	               if(\"\" == copyid){copyid = id;}\r\n	                document.getElementById(id).innerHTML = \"\";\r\n	                document.getElementById(id).innerHTML = obj.value;\r\n	                document.getElementById(id).setAttribute(\"value\",obj.value);\r\n	                document.getElementById(copyid).innerHTML = \"\";\r\n	                document.getElementById(copyid).innerHTML =   obj.value;\r\n	                document.getElementById(copyid).setAttribute(\"value\",obj.value);\r\n	                document.getElementById(\"isshow\"+groupId+\"_\"+rowId+\"_\"+colId+\"\").innerHTML = obj.value;\r\n					 //\u5224\u65ad\u5fc5\u586b\u7684\u9a8c\u8bc1\r\n					var idSplitIdStr =id+\"_ismandspan\";\r\n					var ismandObj=document.getElementById(idSplitIdStr);\r\n				    if(ismandObj){\r\n						if(obj.value&& obj.value!=\"\"){\r\n									ismandObj.style.display = \"none\";\r\n					    }else{\r\n									 ismandObj.style.display = \"block\";\r\n						}\r\n					}\r\n	           }\r\n	      }\r\n     }\r\n      \r\n   }\r\n   \r\n   //\u5c06value\u503c\u53d8\u66f4\u6210\u6700\u65b0\u7684\u6570\u636e\r\n   function onchangeData(obj){\r\n        if(obj.nodeType == 1){\r\n            if(obj.nodeName == \"INPUT\"){\r\n              var copyid = obj.getAttribute(\"id\");\r\n              if(copyid){\r\n                   obj.setAttribute(\"value\",obj.value);\r\n                   //document.getElementById(copyid+\"_d\").value = obj.value;\r\n                   //document.getElementById(copyid+\"_d\").setAttribute(\"value\",obj.value);\r\n              }\r\n           }\r\n           if(obj.nodeName == \"SELECT\"){\r\n             \r\n           }\r\n           if(obj.nodeName == \"TEXTAREA\"){\r\n               \r\n           } \r\n        }\r\n   }\r\n   \r\n   //\u540c\u6b65\u6570\u636e\u5230\u8868\u683c\u4e2d\u53bb\r\n   function sysData(groupId,rowId){\r\n       var tdspaceObj=document.getElementById(\"tdspace\"+groupId+\"_\"+rowId);\r\n       var spacesNodes=tdspaceObj.childNodes;\r\n       for(var i=0;i<spacesNodes.length;i++){\r\n           if(spacesNodes[i].nodeType == 1){\r\n              var tBodyNodesObj=spacesNodes[i].childNodes;\r\n              for(var j=0;j<tBodyNodesObj.length;j++){\r\n                  if(tBodyNodesObj[i].nodeType == 1){\r\n                     var ttrNodesObjs=tBodyNodesObj[i].childNodes;\r\n                     for(var k=0;k<ttrNodesObjs.length;k++){\r\n                         var ttdNodesObjs=ttrNodesObjs[k].childNodes;\r\n                          for(var m=0;m<ttdNodesObjs.length;m++){\r\n                              var tvalueNodesObjs =  ttdNodesObjs[m].childNodes;\r\n                              for(var n=0;n<tvalueNodesObjs.length;n++){\r\n                                 if(tvalueNodesObjs[n].nodeType == 1){\r\n                                     var tvlaueObjs =  tvalueNodesObjs[n];\r\n                                     var id=tvlaueObjs.getAttribute(\"id\");\r\n                                     if(id){\r\n                                         var copyid = id.substring(0,id.lastIndexOf(\"_d\"));\r\n                                         if(\"\" == copyid){copyid = id;}\r\n                                         if(tvlaueObjs.nodeName == \"INPUT\"){\r\n                                              document.getElementById(id).setAttribute(\"value\",document.getElementById(id).value);\r\n                                              document.getElementById(copyid).setAttribute(\"value\",document.getElementById(id).value);\r\n                                              document.getElementById(copyid).value = document.getElementById(id).value;\r\n                                         }\r\n                                         if(tvlaueObjs.nodeName == \"SELECT\"){\r\n                                         \r\n                                         }\r\n                                         if(tvlaueObjs.nodeName == \"TEXTAREA\"){\r\n                                              document.getElementById(copyid).innerHTML =  document.getElementById(id).innerHTML;\r\n                                         }   \r\n                                     }\r\n                                 }   \r\n                              }\r\n                          }\r\n                     }\r\n                  }\r\n              }\r\n           }\r\n       }\r\n   }\r\n   \r\n /**\r\n * \u963b\u6b62\u4e8b\u4ef6\u5192\u6ce1\r\n * @param e \u4e8b\u4ef6event \r\n * @param handler \u4e8b\u4ef6\u6e90\u5bf9\u8c61\r\n * @return \u5f53\u4e14\u4ec5\u5f53\u65f6\u95f4\u6e90\u5bf9\u8c61\u4e3ahandle\u65f6\uff0c\u8fd4\u56detrue\r\n */\r\nfunction isMouseLeaveOrEnter(e, handler) {\r\n    if (e.type != 'click') return false;\r\n    var reltg = e.relatedTarget ? e.relatedTarget : e.type == 'click' ? e.toElement : e.fromElement;\r\n    while (reltg && reltg != handler)\r\n        reltg = reltg.parentNode;\r\n    return (reltg != handler);\r\n}\r\n\r\n\r\n\r\n</script>\r\n</div>\r\n<div style=\"height:10px;overflow:hidden;\"></div>\r\n".toCharArray();
    _jsp_string120 = "\";\r\n								</script>\r\n					".toCharArray();
    _jsp_string250 = "\r\n						 ".toCharArray();
    _jsp_string33 = "\"/>\r\n					<input type=\"hidden\" id=\"fromPage\" name=\"fromPage\" value=\"client.jsp\"/>\r\n					<input type=\"hidden\" id=\"forwardflag\" name=\"forwardflag\" value=\"0\"/>\r\n\r\n					\r\n					".toCharArray();
    _jsp_string191 = "\r\n	        <button name=\"addbutton".toCharArray();
    _jsp_string222 = "\r\n            <script language=\"javascript\">\r\n		       document.getElementById(\"nodenum".toCharArray();
    _jsp_string298 = "_\"+i).value;\r\n                        temStr = temStr.replace(/,/g,\"\");\r\n                        if(temStr+\"\"!=\"\"){\r\n                            sum+=temStr*1;\r\n                        }\r\n                    }catch(e){}\r\n                }\r\n                if($GetEle(\"field".toCharArray();
    _jsp_string54 = "\")!=null){\r\n				var sum=getFieldSumValue(\"".toCharArray();
    _jsp_string12 = "\";\r\n	\r\n	var js_userid = \"".toCharArray();
    _jsp_string262 = "\r\n				<td class=\"detailValueTD2\" style=\"".toCharArray();
    _jsp_string152 = "\r\n								<option value=\"".toCharArray();
    _jsp_string335 = "\r\n				<td class=\"detailCountTDValue\">".toCharArray();
    _jsp_string396 = "\";\r\n	}\r\n	\r\n	//\u83b7\u53d6\u6b64\u8bf7\u6c42\u662f\u5426\u53ef\u4ee5\u64cd\u4f5c\r\n	function hasOperation() {\r\n		return ".toCharArray();
    _jsp_string393 = ";\r\n	}\r\n	function getTempletStatus() {\r\n		return ".toCharArray();
    _jsp_string238 = "\r\n					    <input type=\"hidden\" id=\"".toCharArray();
    _jsp_string71 = "\")){\r\n					if(document.getElementById(\"field".toCharArray();
    _jsp_string205 = "\" />\r\n	    <input type=\"hidden\" name=\"deleteId".toCharArray();
    _jsp_string201 = "\"  name=\"nodenum".toCharArray();
    _jsp_string76 = "_span\")){\r\n						        document.getElementById(\"field".toCharArray();
    _jsp_string27 = "\" method=\"post\" enctype=\"multipart/form-data\">\r\n					<input type=\"hidden\" id=\"type\" name=\"type\" value=\"".toCharArray();
    _jsp_string43 = "(groupid){\r\n				var delRecords=jQuery(\"input[name='check_node\"+groupid+\"']:checked\");\r\n				if(delRecords.size()==0){\r\n					alert(\"".toCharArray();
    _jsp_string30 = "\" />\r\n					<input type=\"hidden\" id=\"markId\" name=\"markId\"/>\r\n					<input type=\"hidden\" id=\"userid\" name=\"userid\" value=\"".toCharArray();
    _jsp_string62 = "\r\n       }\r\n       catch(e){}\r\n".toCharArray();
    _jsp_string126 = "\">&nbsp;</label>\r\n								</div>\r\n								<script type=\"text/javascript\" language=\"javascript\">\r\n									fieldIdRemindBeforeEnd = \"#".toCharArray();
    _jsp_string123 = " value=\"1\"/>\r\n									<label for=\"".toCharArray();
    _jsp_string213 = "\r\n			   <th class=\"detailFormIndexTDValue detailMiddleTableBorder\" >\r\n					".toCharArray();
    _jsp_string99 = "\r\n		<tr ".toCharArray();
    _jsp_string373 = "\";\r\n		\r\n		jQuery.ajax({\r\n			type : \"get\",\r\n			url : signAttachUrl,\r\n			success:function(str) {\r\n				var signrs;\r\n				if(!jQuery.isArray(str) && jQuery.trim(str) != \"\")\r\n			    signrs = JSON.parse(str);\r\n                else\r\n                signrs=str;\r\n                if(!jQuery.isArray(formcontainattachs))\r\n				{\r\n				  formcontainattachs=[];\r\n				}\r\n				for(var i=0;i<signrs.length;i++)\r\n				{\r\n				   //\u6dfb\u52a0\u7b7e\u5b57\u610f\u89c1\u9644\u4ef6\r\n				    formcontainattachs.push(signrs[i]);\r\n				}\r\n				\r\n                location = \"emobile:attachmentsReadyMessage\"; \r\n			}, fail:function(){\r\n\r\n			    alert('\u6570\u636e\u52a0\u8f7d\u5931\u8d25!!!');\r\n                if(!jQuery.isArray(formcontainattachs))\r\n				{\r\n				  formcontainattachs=[];\r\n				}\r\n				location = \"emobile:attachmentsReadyMessage\";\r\n			}\r\n		});\r\n	}\r\n	\r\n   \r\n\r\n	\r\n	//\u5404\u79cd\u6d4f\u89c8\u6309\u94ae\u901a\u7528\r\n	function showDialog(url, data) {\r\n		 data =joinFieldParams(data);\r\n		".toCharArray();
    _jsp_string4 = "\";\r\n	var cj_mes_timeWord = \"".toCharArray();
    _jsp_string206 = "\"  id=\"deleteId".toCharArray();
    _jsp_string172 = "\r\n					<!-- </span>  -->\r\n				".toCharArray();
    _jsp_string340 = "\">\r\n					<span id=\"".toCharArray();
    _jsp_string61 = "\r\n                 }catch(e){}\r\n            ".toCharArray();
    _jsp_string254 = "\" name=\"field".toCharArray();
    _jsp_string109 = "\r\n												$(fieldIdRemindBeforeStart)[0].checked = false;\r\n												$(fieldIdRemindBeforeEnd)[0].checked = false;\r\n												$(fieldIdRemindTimesBeforeStart)[0].value = \"\";\r\n												$(fieldIdRemindTimesBeforeEnd)[0].value = \"\";\r\n											".toCharArray();
    _jsp_string41 = "(groupid){\r\n				var addStr=\"".toCharArray();
    _jsp_string3 = "\";\r\n	var sureToDeleteWord = \"".toCharArray();
    _jsp_string185 = "&rowIndex=\"+nodenum+\"&isEdits=".toCharArray();
    _jsp_string118 = " </option>\r\n						".toCharArray();
    _jsp_string329 = " 1px 1px 0;\">\u5e8f\u53f7</th>\r\n		".toCharArray();
    _jsp_string128 = "\" value=\"".toCharArray();
    _jsp_string114 = "\" onchange=\"javascript:doChangeRemindType(this);\">\r\n						".toCharArray();
    _jsp_string299 = "\r\n }\r\n \r\n function calSum(obj){\r\n    calSumPrice();\r\n    var rows=0;\r\n    ".toCharArray();
    _jsp_string148 = "\"\r\n								".toCharArray();
    _jsp_string303 = "\r\n             sum=0;\r\n            for(i=0; i<rowindex; i++){\r\n\r\n                try{\r\n                    temStr=document.getElementById(\"field".toCharArray();
    _jsp_string243 = "\r\n				       </div>\r\n				      ".toCharArray();
    _jsp_string92 = "\r\n}\r\n</script>\r\n						".toCharArray();
    _jsp_string17 = "\";\r\n\r\n	var js_requestid = \"".toCharArray();
    _jsp_string101 = "\r\n			</td>\r\n\r\n			<td style=\"width:15px;\"></td>\r\n			<td width=\"*\" class=\"mainFormRowValueTD\">\r\n".toCharArray();
    _jsp_string48 = ";\r\n				       for(var s=0;s<defaultCount;s++){\r\n					       addRow".toCharArray();
    _jsp_string21 = "\";\r\n	var js_workflowid = \"".toCharArray();
    _jsp_string320 = "\r\n<script>\r\n	/**\r\n	 * \u9884\u7b97\u8d39\u7528\u52a8\u6001\u751f\u6210\u660e\u7ec6\u7f16\u8f91\u9875\u9762\u540e\uff0c\u7ed1\u5b9a\u4e8b\u4ef6\u51fd\u6570\r\n	 **/\r\n	function dyeditPageFnaFyFun(groupid,rowId,fieldCount,isedit,isdisplay) {\r\n		return;\r\n	}\r\n\r\n    //\u52a8\u6001\u751f\u6210\u7f16\u8f91\u9875\u9762\r\n  function  dyeditPage(groupid,rowId,fieldCount,isedit,isdisplay){\r\n	    var isEditDisplay=\"\";\r\n        var elementCount = 0;\r\n        var tableObj =  document.createElement(\"table\");\r\n        //var divObj =  document.createElement(\"DIV\");\r\n        //divObj.setAttribute(\"id\",\"div\"+groupid+\"_\"+rowId);\r\n       \r\n        tableObj.setAttribute(\"id\",\"detailtable_\"+groupid+\"_\"+rowId);\r\n        //tableObj.setAttribute(\"onMouseOver\",\"detailtableMouseOver(\"+groupid+\",\"+rowId+\")\");\r\n        //tableObj.setAttribute(\"onMouseOut\",\"detailtableMouseOut(\"+groupid+\",\"+rowId+\")\");\r\n        var aObj = document.getElementById(\"a\"+groupid+\"_\"+rowId);\r\n        var trObj=aObj.parentNode.parentNode;\r\n        var topPosition = jQuery(trObj).position().top;\r\n        var leftPosiztion = jQuery(trObj).position().left;\r\n        var heightPosition = jQuery(trObj).height();\r\n        var tableHeightPosition = jQuery(tableObj).height();\r\n        var widthPosition = (jQuery(document).width() - leftPosiztion *2);\r\n        tableObj.setAttribute(\"width\",widthPosition+\"px\");\r\n        //divObj.setAttribute(\"style\",\"position:absolute;width:100%;height:100%;border-left:1px solid #c3c5ce;border-bottom:1px solid #c3c5ce;\");\r\n       // divObj.setAttribute(\"onclick\",\"detailtableMouseOut(\"+groupid+\",\"+rowId+\")\");\r\n        var tbodyObj = aObj.parentNode.parentNode.parentNode;\r\n        elementCount = 0;\r\n        var thValueArrays = new Array();\r\n        //\u63d0\u53d6\u6807\u9898\u7684\u90e8\u5206\r\n        for(var i=0;i<tbodyObj.childNodes.length;i++){\r\n          var thObj =  tbodyObj.childNodes[i];\r\n            if(thObj.nodeType == 1){\r\n               if(elementCount == 0){\r\n                  var thValueObjs = thObj.childNodes;\r\n                  for(var j=0;j<thValueObjs.length;j++){\r\n                       if(thValueObjs[j].nodeType == 1){\r\n                                thValueArrays.push(thValueObjs[j].innerHTML);\r\n                       }\r\n                      \r\n                  }\r\n               }\r\n                elementCount++;\r\n            }\r\n        }\r\n        var DIVHTML = \"\";\r\n        elementCount = 0;\r\n        //td\u4e2d\u5217\u7684\u4fe1\u606f\r\n        for(var i=0;i<trObj.childNodes.length-1;i++){\r\n              var tdObj  =   trObj.childNodes[i];\r\n              if(tdObj.nodeType == 1){\r\n                 if(elementCount != 0 && elementCount != 1 && elementCount < (fieldCount+3 -1)){\r\n                      DIVHTML += \"<tr width=\\\"100%\\\">\";\r\n                      if(elementCount == 2){\r\n                           DIVHTML +=\"<td width=\\\"10%\\\" style=\\\"border-left:1px solid #c3c5ce;border-bottom:1px solid #c3c5ce;\\\" rowspan=\\\"\"+fieldCount+\"\\\" onclick=\\\"detailtableMouseOut(\"+groupid+\",\"+rowId+\")\\\"></td>\";\r\n                      }\r\n                    \r\n                       DIVHTML += \"<th width=\\\"25%\\\" class=\\\"detailFormTitleIndexTDValue\\\" style=\\\"border-width:0px 1px 1px 1px;\\\">\";\r\n                         DIVHTML += thValueArrays[elementCount];\r\n                        DIVHTML +=\"</th>\";\r\n                      //\u5c06\u63a7\u4ef6\u7684\u503cId\u9700\u8981\u6539\u53d8\u540e\u9762\u6dfb\u52a0_detial\u7684\u6807\u8bc6\r\n                      var tdValueObjs=tdObj.childNodes;\r\n					  var displaySpanCount =0;\r\n					  var displaySpanTdTotal =0;\r\n					  var displayACount =0;\r\n					  var displayATdTotal =0;\r\n					   for(var j=0;j<tdValueObjs.length;j++){\r\n						    if(isdisplay){\r\n								 if(tdValueObjs[j].nodeType == 1 && tdValueObjs[j].nodeName=='SPAN'){\r\n									  if(tdValueObjs[j].getAttribute(\"keyid\")){\r\n										  displaySpanTdTotal ++;\r\n									  }\r\n								 }\r\n								 if(tdValueObjs[j].nodeType == 1 && tdValueObjs[j].nodeName=='A'){\r\n									  if(tdValueObjs[j].getAttribute(\"keyid\")){\r\n										  displayATdTotal ++;\r\n									  }\r\n								 }\r\n								  \r\n							}\r\n					   }\r\n\r\n                      for(var j=0;j<tdValueObjs.length;j++){\r\n						  if(isdisplay){\r\n							    if(tdValueObjs[j].nodeType == 1 && tdValueObjs[j].nodeName=='SPAN'){\r\n									 var spanId= tdValueObjs[j].getAttribute(\"id\");\r\n									 var spanName= tdValueObjs[j].getAttribute(\"name\");\r\n									 if(tdValueObjs[j].getAttribute(\"id\")){\r\n                                             DIVHTML +=\"<td  width=\\\"65%\\\" class=\\\"detailValueTD\\\">\";\r\n											  DIVHTML += \"<span id=\\\"\"+spanId+\"_d\\\" name=\\\"\"+spanName+\"_d\\\">\"; \r\n											  DIVHTML += tdValueObjs[j].innerHTML;\r\n											  DIVHTML += \"</span></td>\";\r\n									 }\r\n									 if(tdValueObjs[j].getAttribute(\"keyid\")){\r\n										 if(displaySpanCount ==0){\r\n											   DIVHTML +=\"<td  width=\\\"65%\\\" class=\\\"detailValueTD\\\">\";\r\n												DIVHTML += \"<span keyid=\\\"\"+tdValueObjs[j].getAttribute(\"keyid\")+\"\\\">\";\r\n												DIVHTML +=tdValueObjs[j].innerHTML;\r\n											   DIVHTML += \"</span></BR>\";\r\n										 }else if(displaySpanCount == displaySpanTdTotal){\r\n											    DIVHTML += \"<span keyid=\\\"\"+tdValueObjs[j].getAttribute(\"keyid\")+\"\\\">\";\r\n												 DIVHTML +=tdValueObjs[j].innerHTML;\r\n												 DIVHTML += \"</span></td>\";\r\n\r\n										 }else{\r\n											     DIVHTML += \"<span keyid=\\\"\"+tdValueObjs[j].getAttribute(\"keyid\")+\"\\\">\";\r\n												 DIVHTML +=tdValueObjs[j].innerHTML;\r\n												 DIVHTML += \"</span></BR>\";\r\n										 }\r\n										 displaySpanCount++;\r\n										  \r\n									 } \r\n								}\r\n                                if(tdValueObjs[j].nodeType == 1 && tdValueObjs[j].nodeName=='A'){\r\n                                         if(displayACount == 0){\r\n                                            DIVHTML +=\"<td  width=\\\"65%\\\" class=\\\"detailValueTD\\\">\";\r\n                                            DIVHTML +=tdValueObjs[j].innerHTML;\r\n										    DIVHTML += \"</BR>\";\r\n										 }else if(displayACount == displayATdTotal){\r\n											 DIVHTML +=tdValueObjs[j].innerHTML;\r\n										     DIVHTML += \"</td>\";\r\n										 }else{\r\n											  DIVHTML +=tdValueObjs[j].innerHTML;\r\n										      DIVHTML += \"</BR>\";\r\n										 }\r\n										displayACount ++;\r\n								}\r\n\r\n								if(tdValueObjs.length ==1 && tdValueObjs[j].nodeName ==\"#text\"){\r\n                                      DIVHTML +=\"<td  width=\\\"65%\\\" class=\\\"detailValueTD\\\">\"+tdValueObjs[j].nodeValue+\"</td>\";\r\n								}\r\n\r\n								if(tdValueObjs[j].nodeType ==1 && tdValueObjs[j].nodeName ==\"INPUT\"){\r\n									if(tdValueObjs[j].getAttribute(\"fieldType\")){\r\n                                        DIVHTML +=\"<td  width=\\\"65%\\\" class=\\\"detailValueTD\\\">\"+tdValueObjs[j].getAttribute(\"value\")+\"</td>\";\r\n									} \r\n								}\r\n								if(tdValueObjs[j].nodeType ==1 && tdValueObjs[j].nodeName ==\"TABLE\"){\r\n								        var checkboxChildNodes =    tdValueObjs[j].childNodes;\r\n								        for(var po=0;po<checkboxChildNodes.length;po++){\r\n								             if(checkboxChildNodes[po].nodeType == 1 && checkboxChildNodes[po].nodeName == \"TBODY\"){\r\n								                  var  checkboxTbodyChildNodes =  checkboxChildNodes[po].childNodes;\r\n								                  for(var pt=0;pt<checkboxTbodyChildNodes.length;pt++){\r\n								                        if(checkboxTbodyChildNodes[pt].nodeType == 1 \r\n								                              && checkboxTbodyChildNodes[pt].nodeName == \"TR\"){\r\n								                              var checkboxTDChildNodes = checkboxTbodyChildNodes[pt].childNodes;\r\n								                              for(var pd=0;pd<checkboxTDChildNodes.length;pd++){\r\n								                                  var checkboxTDChildNode = checkboxTDChildNodes[pd];\r\n								                                  if(checkboxTDChildNode.nodeType==1&&checkboxTDChildNode.nodeName == \"TD\"){\r\n								                                        var csbox = checkboxTDChildNode.childNodes;\r\n								                                       for(var pc=0;pc<csbox.length;pc++){\r\n								                                             if(csbox[pc].nodeType == 1 && csbox[pc].nodeName == \"INPUT\" ){\r\n								                                                if(csbox[pc].getAttribute(\"type\") && csbox[pc].getAttribute(\"type\") == \"checkbox\"){\r\n								                                                    var idVal = \"\";\r\n								                                                   if(csbox[pc].getAttribute(\"id\")){\r\n								                                                        idVal = csbox[pc].getAttribute(\"id\")+\"_d\";\r\n								                                                   }\r\n								                                                   var nameVal = \"\";\r\n								                                                   if(csbox[pc].getAttribute(\"name\")){\r\n								                                                        nameVal = csbox[pc].getAttribute(\"name\")+\"_d\";\r\n								                                                   }\r\n								                                                   var checkedVal = \"\";\r\n								                                                   if(csbox[pc].getAttribute(\"checked\")||csbox[pc].getAttribute(\"checked\")==\"\"){\r\n								                                                      checkedVal = \"checked\";\r\n								                                                   }\r\n								                                                   var disabledVal = \"\";\r\n								                                                   if(csbox[pc].getAttribute(\"disabled\")||csbox[pc].getAttribute(\"disabled\")==\"\"){\r\n								                                                       disabledVal = \"disabled\";\r\n								                                                   }\r\n								                                                  DIVHTML +=\"<td  width=\\\"65%\\\" class=\\\"detailValueTD\\\"><input type=\\\"checkbox\\\" id=\\\"\"+idVal+\"\\\" name=\\\"\"+nameVal+\"\\\" \"+checkedVal+\" \"+disabledVal+\" /></td>\";\r\n								                                                }\r\n								                                                 \r\n								                                             }\r\n								                                       }\r\n								                                  }\r\n								                              }\r\n								                            \r\n								                        }\r\n								                  }\r\n								             } \r\n								        }\r\n									\r\n								}\r\n								var spanCount = 0;\r\n								var spanTdTotal = 0;\r\n								var aCount = 0;\r\n								var aTdTotal = 0;\r\n                                 if(tdValueObjs[j].nodeType == 1 && tdValueObjs[j].nodeName=='DIV'){\r\n									     var divId =  tdValueObjs[j].getAttribute(\"id\");\r\n										 if(divId && divId != \"isedit\"){\r\n											   var  disTables =  tdValueObjs[j].childNodes;\r\n											   for(var li=0;li<disTables.length;li++){\r\n												     if(disTables[li].nodeType==1&&disTables[li].nodeName==\"SPAN\"){\r\n													    spanTdTotal ++;\r\n												     }\r\n													  if(disTables[li].nodeType==1&&disTables[li].nodeName==\"A\"){\r\n													    aTdTotal ++;\r\n												     }\r\n \r\n											   }\r\n      \r\n										 }\r\n\r\n								 }\r\n								if(tdValueObjs[j].nodeType == 1 && tdValueObjs[j].nodeName=='DIV'){\r\n									   var divId =  tdValueObjs[j].getAttribute(\"id\");\r\n									   if(divId && divId != \"isedit\"){\r\n										   var  disTables =  tdValueObjs[j].childNodes;\r\n										   for(var li=0;li<disTables.length;li++){\r\n											   if(disTables[li].nodeType==1&&disTables[li].nodeName==\"TABLE\"){\r\n												   if(disTables[li].childNodes[0] && disTables[li].childNodes[0].childNodes[0] \r\n													   && disTables[li].childNodes[0].childNodes[0].childNodes[0] &&\r\n													   disTables[li].childNodes[0].childNodes[0].childNodes[0].nodeName ==\"TD\"){\r\n                                                        var tddisplayObj = disTables[li].childNodes[0].childNodes[0].childNodes[0];\r\n														for(var lv=0;lv<tddisplayObj.childNodes.length;lv++){\r\n															  tddisplayChildObj=tddisplayObj.childNodes[lv];\r\n															  if(tddisplayChildObj){\r\n																   if(tddisplayChildObj.nodeType == 1 && tddisplayChildObj.nodeName ==\"INPUT\"){\r\n                                                                        var typeck = tddisplayChildObj.getAttribute(\"type\");\r\n																		if(typeck == 'checkbox'){\r\n																		    var checkedVal =\"\" ;\r\n																		    if(tddisplayChildObj.checked && tddisplayChildObj.getAttribute(\"checked\")!=\"false\"){\r\n                                                                                checkedVal =\"checked\";\r\n																		    }\r\n                                                                            DIVHTML +=\"<td  width=\\\"65%\\\" class=\\\"detailValueTD\\\">\";\r\n																			DIVHTML +=\"<input type=\\\"\"+typeck+\"\\\" \"+checkedVal+\"  disabled   />\"\r\n																            DIVHTML +=\"</td>\";\r\n																		}\r\n																   }\r\n															  }\r\n\r\n														}\r\n												   }\r\n											   }\r\n											   if(disTables[li].nodeType==3&&disTables[li].nodeName==\"#text\"){\r\n												   try{\r\n													   if(disTables[li].nodeValue.trim() != ''){\r\n															  DIVHTML +=\"<td  width=\\\"65%\\\" class=\\\"detailValueTD\\\">\";\r\n															  DIVHTML +=disTables[li].nodeValue;\r\n																DIVHTML +=\"</td>\";\r\n													   }else if(disTables.length == 1){\r\n														    DIVHTML +=\"<td  width=\\\"65%\\\" class=\\\"detailValueTD\\\">\";\r\n															DIVHTML +=disTables[li].nodeValue;\r\n															DIVHTML +=\"</td>\";\r\n													   }\r\n												   }catch(e){\r\n												   }\r\n											   }\r\n\r\n											    if(disTables[li].nodeType==1&&disTables[li].nodeName==\"SPAN\"){\r\n													if(spanCount ==0){\r\n														  DIVHTML +=\"<td  width=\\\"65%\\\" class=\\\"detailValueTD\\\">\";\r\n														  var spanHtml = \"<SPAN \";\r\n														  if(disTables[li].getAttribute(\"style\")){\r\n                                                                spanHtml += \" style=\\\"\"+disTables[li].getAttribute(\"style\")+\"\\\"\"\r\n														  }\r\n														  if(disTables[li].getAttribute(\"onclick\")){\r\n                                                                spanHtml += \" onclick=\\\"\"+disTables[li].getAttribute(\"onclick\")+\"\\\"\"\r\n														  }\r\n														   if(disTables[li].getAttribute(\"keyid\")){\r\n                                                                spanHtml += \" keyid=\\\"\"+disTables[li].getAttribute(\"keyid\")+\"\\\"\"\r\n														  }\r\n                                                           spanHtml += \">\"+disTables[li].innerHTML +\"</span><br>\"\r\n														  DIVHTML +=spanHtml;\r\n																\r\n													}else if(spanCount == spanTdTotal){\r\n														 var spanHtml = \"<SPAN  \";\r\n														  if(disTables[li].getAttribute(\"style\")){\r\n                                                                spanHtml += \" style=\\\"\"+disTables[li].getAttribute(\"style\")+\"\\\"\"\r\n														  }\r\n														  if(disTables[li].getAttribute(\"onclick\")){\r\n                                                                spanHtml += \" onclick=\\\"\"+disTables[li].getAttribute(\"onclick\")+\"\\\"\"\r\n														  }\r\n														   if(disTables[li].getAttribute(\"keyid\")){\r\n                                                                spanHtml += \" keyid=\\\"\"+disTables[li].getAttribute(\"keyid\")+\"\\\"\"\r\n														  }\r\n                                                           spanHtml += \">\"+disTables[li].innerHTML +\"</span>\"\r\n														  DIVHTML +=spanHtml+\"</td>\";\r\n													}else {\r\n														  var spanHtml = \"<SPAN \";\r\n														  if(disTables[li].getAttribute(\"style\")){\r\n                                                                spanHtml += \" style=\\\"\"+disTables[li].getAttribute(\"style\")+\"\\\"\"\r\n														  }\r\n														  if(disTables[li].getAttribute(\"onclick\")){\r\n                                                                spanHtml += \" onclick=\\\"\"+disTables[li].getAttribute(\"onclick\")+\"\\\"\"\r\n														  }\r\n														   if(disTables[li].getAttribute(\"keyid\")){\r\n                                                                spanHtml += \" keyid=\\\"\"+disTables[li].getAttribute(\"keyid\")+\"\\\"\"\r\n														  }\r\n                                                           spanHtml += \">\"+disTables[li].innerHTML +\"</span><br>\"\r\n														  DIVHTML +=spanHtml;\r\n													}\r\n													  spanCount++;\r\n												}\r\n												if(disTables[li].nodeType==1&&disTables[li].nodeName==\"A\"){\r\n													if(aCount ==0){\r\n														  DIVHTML +=\"<td  width=\\\"65%".toCharArray();
    _jsp_string248 = "\r\n						   </span>\r\n						 ".toCharArray();
    _jsp_string263 = "\">\r\n				   ".toCharArray();
    _jsp_string178 = "\r\n    \r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n<script language=\"javascript\">\r\n  function ajaxinit(){\r\n	             var ajax=false;\r\n		         try {\r\n		             ajax = new ActiveXObject(\"Msxml2.XMLHTTP\");\r\n		        } catch (e) {\r\n		            try {\r\n		                ajax = new ActiveXObject(\"Microsoft.XMLHTTP\");\r\n		            } catch (E) {\r\n		                ajax = false;\r\n		            }\r\n		        }\r\n	           if (!ajax && typeof XMLHttpRequest!='undefined') {\r\n	                ajax = new XMLHttpRequest();\r\n	            }\r\n	            return ajax;\r\n  }\r\n  //\u9700\u8981\u6539\u9020ajax\u7684\u65b9\u6cd5\r\n   function addRow".toCharArray();
    _jsp_string84 = "\")){\r\n							    document.getElementById(\"field".toCharArray();
    _jsp_string63 = "\r\n}\r\n\r\nfunction calMainField(obj){\r\n    var datalength = 2;\r\n	".toCharArray();
    _jsp_string270 = "\" onclick=\"dyeditPage(".toCharArray();
    _jsp_string29 = "\" />\r\n					<input type=\"hidden\" id=\"src\" name=\"src\" value=\"".toCharArray();
    _jsp_string274 = "\" align=\"right\"></td>\r\n			  </tr>\r\n		".toCharArray();
    _jsp_string127 = "\r\n								<input type=\"text\" name=\"".toCharArray();
    _jsp_string1 = "\r\n<html>\r\n<head>\r\n	<meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\" />\r\n	<meta name=\"author\" content=\"Weaver E-Mobile Dev Group\" />\r\n	<meta name=\"description\" content=\"Weaver E-mobile\" />\r\n	<meta name=\"keywords\" content=\"weaver,e-mobile\" />\r\n	<meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\r\n	<title></title>\r\n	<script type='text/javascript' src='/mobile/plugin/1/js/jquery-1.6.2.min_wev8.js'></script>\r\n	<link rel=\"stylesheet\" href=\"/mobile/plugin/1/css/r4_wev8.css\" type=\"text/css\">\r\n	<link rel=\"stylesheet\" href=\"/mobile/plugin/1/css/r5_wev8.css\" type=\"text/css\">\r\n\r\n<script type=\"text/javascript\">\r\n	var promptWrod = \"".toCharArray();
    _jsp_string51 = "\r\n</script>\r\n\r\n<script language=\"javascript\">\r\nfunction detailTrClick(groupid,rowIndex){\r\n	var otable = jQuery(\"table#oTable\"+groupid);\r\n	var viewTrObj=jQuery(\"#trView\"+groupid+\"_\"+rowIndex);\r\n	var editTrObj=jQuery(\"#trEdit\"+groupid+\"_\"+rowIndex);\r\n	if(editTrObj.length>0){		//\u5b58\u5728\uff0c\u70b9\u51fb\u5219remove\r\n		editTrObj.slideUp();\r\n		editTrObj.remove();\r\n	}else{\r\n		//jQuery(\"div[name='hiddenEditdiv']\").css(\"display\",\"\");\r\n		var editTr_id = \"trEdit\"+groupid+\"_\"+rowIndex;\r\n		var editTr_new=jQuery(\"<tr id=\\\"\"+editTr_id+\"\\\" width=\\\"100%\\\"></tr>\");\r\n		var editTd=jQuery(\"<td colspan=\\\"\"+viewTrObj.children(\"td\").size()+\"\\\" width=\\\"100%\\\"></td>\");\r\n		editTd.append(getEditTable(groupid,rowIndex));\r\n		editTr_new.append(editTd);\r\n		viewTrObj.after(editTr_new);\r\n		//\u7531\u4e8e\u7b2c\u4e00\u4e2a\u5b57\u6bb5\u672a\u89e3\u6790\u5de6\u8fb9\u6846\uff0c\u7279\u6b8a\u5904\u7406\r\n		jQuery(\"td[lackLeftBorder='y']\").each(function(){\r\n			jQuery(this).css(\"border-left-width\",jQuery(this).css(\"border-right-width\"));\r\n			jQuery(this).css(\"border-left-style\",jQuery(this).css(\"border-right-style\"));\r\n			jQuery(this).css(\"border-left-color\",jQuery(this).css(\"border-right-color\"));\r\n		});\r\n		//\u63a7\u5236\u6700\u540e\u4e00\u884c\u589e\u52a0bottom\u7ebf\r\n		var last_tr_id = jQuery(\"table#oTable\"+groupid+\">tbody>tr:last\").attr(\"id\");\r\n		if(last_tr_id == editTr_id){\r\n			jQuery(\"#\"+editTr_id).css(\"border-bottom-width\",otable.closest(\"td\").css(\"border-left-width\"))\r\n				.css(\"border-bottom-style\",otable.closest(\"td\").css(\"border-left-style\"))\r\n				.css(\"border-bottom-color\",otable.closest(\"td\").css(\"border-left-color\"));\r\n		}\r\n		//\u6700\u540e\u4e09\u4e2a\u53c2\u6570\u65e0\u7528\r\n		try{dyeditPageFnaFyFun(groupid,rowIndex,0,0,0);}catch(ex){}\r\n	}\r\n}\r\n\r\nfunction getEditTable(groupid,rowIndex){\r\n	var viewTrObj=jQuery(\"#trView\"+groupid+\"_\"+rowIndex);\r\n	var resObj=jQuery(\"<table style=\\\"width:100%;border-collapse:collapse;border:0px;margin:0px;padding:0px;\\\"></table>\");\r\n	var eachObj=viewTrObj.find(\"div[name='hiddenEditdiv']\");\r\n	eachObj.each(function(index){\r\n		var newTr=jQuery(\"<tr></tr>\");\r\n		var newTd=null;\r\n		//\u7a7a\u5217\u7528\u4e8e\u6536\u7f29\u7f16\u8f91TR\r\n		if(index==0){\r\n			newTd=jQuery(\"<td width=\\\"10%\\\"></td>\");\r\n			newTd.attr(\"rowspan\",eachObj.size());\r\n			newTd.attr(\"onclick\",\"javacsript:detailTrClick(\"+groupid+\",\"+rowIndex+\")\");\r\n			newTr.append(newTd);\r\n		}\r\n		//\u53d6\u5f97\u5b57\u6bb5id\uff0c\u751f\u6210\u5b57\u6bb5\u540d\u79f0TD\r\n		var fieldinfo=new Array();\r\n		var isshow_id=jQuery(this).closest(\"td\").find(\"div[id^=isshow]\").attr(\"id\");\r\n		isshow_id=isshow_id.replace(\"isshow\",\"\");\r\n		var fieldinfo=isshow_id.split(\"_\");\r\n		\r\n		var fieldLableObj=jQuery(this).closest(\"table\").find(\"td[_fieldid='\"+fieldinfo[2]+\"']\");\r\n		newTd=jQuery(\"<td width=\\\"30%\\\"></td>\");\r\n		newTd.attr(\"class\",fieldLableObj.closest(\"td\").attr(\"class\"));\r\n		if(index==0){\r\n			newTd.attr(\"lackLeftBorder\",\"y\");\r\n		}\r\n		newTd.html(fieldLableObj.html());\r\n		newTr.append(newTd);\r\n		//\u751f\u6210\u5b57\u6bb5\u7f16\u8f91TD\r\n		var editTdObj=getEditTd(jQuery(this),fieldinfo);\r\n		editTdObj.attr(\"class\",jQuery(this).closest(\"td\").attr(\"class\"));\r\n		newTr.append(editTdObj);\r\n		//\u7a7a\u5217\u95f4\u9694\r\n		if(index==0){\r\n			newTd=jQuery(\"<td width=\\\"5%\\\"></td>\");\r\n			newTd.attr(\"rowspan\",eachObj.size())\r\n			newTr.append(newTd);\r\n		}\r\n		//\u5c06\u7f16\u8f91TR\u653e\u5165Table\r\n		resObj.append(newTr);\r\n	});\r\n	\r\n	return resObj;\r\n}\r\n\r\n\r\nfunction getEditTd(is_editObj,fieldinfo){\r\n	var cloneObj=is_editObj.children().clone();\r\n	var editTdObj=jQuery(\"<td width=\\\"55%\\\"></td>\");\r\n	var fieldid=fieldinfo[2];\r\n	if(cloneObj[0].tagName.toLowerCase()==\"table\"){\r\n		//\u5faa\u73af\u6bcf\u4e2aTD\u53d6\u5185\u5bb9\r\n		cloneObj.find(\"tbody>tr>td\").each(function(index){\r\n			if(!!jQuery(this).attr(\"onclick\")){\r\n				editTdObj.attr(\"onclick\",jQuery(this).attr(\"onclick\"));\r\n			}\r\n			editTdObj.append(jQuery(this).html());\r\n		});\r\n		\r\n		//\u5904\u7406\u7f16\u8f91/\u9690\u85cf\u7684input\u5bf9\u8c61\r\n		editTdObj.find(\"input[name^='field'][name$='_\"+fieldinfo[1]+\"']\").each(function(){\r\n			var elmName=jQuery(this).attr(\"name\");\r\n			var fieldStr=elmName.replace(\"field_lable\",\"\").replace(\"field_chinglish\",\"\").replace(\"field\",\"\");\r\n			var replaceStr=fieldStr+\"_d\";\r\n			//\u5c5e\u6027\u5904\u7406\r\n			jQuery(this).attr(\"name\",jQuery(this).attr(\"name\").replace(new RegExp(fieldStr,\"g\"),replaceStr));\r\n			if(!!jQuery(this).attr(\"id\")){\r\n				//\u7531\u4e8echrome\u4e2d\u5bf9\u539f\u5bf9\u8c61\u4fee\u6539value\u503chtml\u672a\u4fee\u6539\uff0c\u9700\u624b\u52a8\u8d4b\u503c\r\n				jQuery(this).attr(\"value\",jQuery(\"#\"+jQuery(this).attr(\"id\")).val());\r\n				jQuery(this).attr(\"id\",jQuery(this).attr(\"id\").replace(new RegExp(fieldStr,\"g\"),replaceStr));\r\n			}\r\n			if(!!jQuery(this).attr(\"onkeypress\")){\r\n				jQuery(this).attr(\"onkeypress\",jQuery(this).attr(\"onkeypress\").replace(new RegExp(fieldStr,\"g\"),replaceStr));\r\n			}\r\n			if(!!jQuery(this).attr(\"onblur\")){\r\n				jQuery(this).attr(\"onblur\",jQuery(this).attr(\"onblur\").replace(new RegExp(fieldStr,\"g\"),replaceStr));\r\n			}\r\n			if(!!jQuery(this).attr(\"onfocus\")){\r\n				jQuery(this).attr(\"onfocus\",jQuery(this).attr(\"onfocus\").replace(new RegExp(fieldStr,\"g\"),replaceStr));\r\n			}\r\n			if(!!jQuery(this).attr(\"onchange\")){\r\n				jQuery(this).attr(\"onchange\",jQuery(this).attr(\"onchange\").replace(new RegExp(fieldStr,\"g\"),replaceStr));\r\n			}\r\n			\r\n			//\u5904\u7406\u91d1\u989d\u8f6c\u6362\u5b57\u6bb5\u3001\u6d4f\u89c8\u6309\u94ae\u3001\u65e5\u671f\u3001\u65f6\u95f4\r\n			if(elmName.indexOf(\"field_chinglish\")>-1)	return true;\r\n			if(jQuery(this).attr(\"type\")==\"hidden\"&&jQuery(this).attr(\"fieldtype\")==\"browse\"){\r\n				if(jQuery(this).closest(\"td\").children(\"a\").size()>0){\r\n					jQuery(this).closest(\"td\").children(\"a:first-child\").css(\"float\",\"left\");\r\n				}\r\n				var browserVal=jQuery(this).val();\r\n				var browseText=\"\";\r\n				if(!!browserVal){\r\n					if(editTdObj.find(\"span[keyid='\"+browserVal+\"']\").size()>0){\r\n						browseText=editTdObj.find(\"span[keyid='\"+browserVal+\"']\").text();\r\n						editTdObj.find(\"span[keyid='\"+browserVal+\"']\").remove();\r\n					}\r\n				}\r\n				jQuery(this).after(\"<div id=\\\"\"+elmName+\"_span_d\\\" groupid=\\\"\"+fieldinfo[0]+\"\\\" rowid=\\\"\"+fieldinfo[1]+\"\\\" columnid=\\\"\"+fieldinfo[2]+\"\\\" style=\\\"margin-top:11px;\\\">\"+browseText+\"</div>\");\r\n			}\r\n			if(jQuery(this).attr(\"class\")==\"scroller_date\"){\r\n				jQuery(this).scroller({preset: 'date',dateFormat:'yy-mm-dd',theme: 'default',display: 'bottom', mode: 'scroller',endYear:2020,nowText:'\u4eca\u5929',setText:'\u786e\u5b9a',cancelText:'\u53d6\u6d88',monthText:'\u6708',yearText:'\u5e74',dayText:'\u65e5',showNow:true,dateOrder: 'yymmdd',onShow: moveDataTimeContorl});\r\n			}else if(jQuery(this).attr(\"class\")==\"scroller_time\"){\r\n				jQuery(this).scroller({preset: 'time',timeFormat:'HH:ii',theme: 'default',display: 'bottom',mode: 'scroller',nowText:'\u73b0\u5728',setText:'\u786e\u5b9a',cancelText:'\u53d6\u6d88',minuteText:'\u5206',hourText:'\u65f6',timeWheels:'HHii',showNow:true,onShow: moveDataTimeContorl});\r\n			}\r\n			\r\n			//\u589e\u52a0\u7ed1\u5b9aonchange\u4e8b\u4ef6\r\n			if(jQuery(this).attr(\"type\")!=\"hidden\"){\r\n				var changeFun=\"\";\r\n				if(!!jQuery(this).attr(\"onchange\")){\r\n					changeFun=jQuery.trim(jQuery(this).attr(\"onchange\"));\r\n					if(changeFun.length>1&&changeFun.substr(changeFun.length-1)!=\";\"){\r\n						changeFun += \";\";\r\n					}\r\n				}\r\n				changeFun += \"dynamicModify(this)\";\r\n				jQuery(this).attr(\"onchange\",changeFun);\r\n			}\r\n			\r\n			//\u5fc5\u586bSPAN\u5904\u7406\r\n			if(editTdObj.find(\"span[class='ismand'][id^='\"+elmName+\"']\").size()>0){\r\n				editTdObj.find(\"input[type='hidden'][name='ismandfield']\").remove();\r\n				var mandSpanObj=editTdObj.find(\"span[class='ismand'][id^='\"+elmName+\"']\");\r\n				mandSpanObj.attr(\"id\",mandSpanObj.attr(\"id\").replace(new RegExp(fieldStr,\"g\"),replaceStr));\r\n				mandSpanObj.removeClass(\"ismand\");\r\n				mandSpanObj.css(\"color\",\"red\").css(\"font-size\",\"16pt\").css(\"float\",\"right\");\r\n				if(!!jQuery(this).val()){\r\n					mandSpanObj.css(\"display\",\"none\");\r\n				}else{\r\n					mandSpanObj.css(\"display\",\"block\");\r\n				}\r\n				if(jQuery(this).attr(\"type\")==\"hidden\"&&jQuery(this).attr(\"fieldtype\")==\"browse\"){\r\n					mandSpanObj.css(\"margin-top\",\"-10px\");\r\n				}\r\n			}\r\n		});\r\n		//\u5904\u7406checkbox\u5bf9\u8c61\r\n		editTdObj.find(\"input[type='checkbox'][id^='field'][id$='_\"+fieldinfo[1]+\"'][name!^='field']\").each(function(){\r\n			var elmId=jQuery(this).attr(\"id\");\r\n			if(elmId.substr(elmId.length-2)==\"_d\")	return true;\r\n			var elmId_d=elmId+\"_d\";\r\n			//\u5c5e\u6027\u5904\u7406\r\n			jQuery(this).attr(\"id\",elmId_d);\r\n			var changeFun=\"\";\r\n			if(!!jQuery(this).attr(\"onchange\")){\r\n				changeFun=jQuery.trim(jQuery(this).attr(\"onchange\"));\r\n				if(changeFun.length>1&&changeFun.substr(changeFun.length-1)!=\";\"){\r\n					changeFun += \";\";\r\n				}\r\n				changeFun=changeFun.replace(new RegExp(elmId,\"g\"),elmId_d);\r\n			}\r\n			changeFun += \"dynamicModify(this)\";\r\n			jQuery(this).attr(\"onchange\",changeFun);\r\n		});\r\n		//\u5904\u7406textarea\u5bf9\u8c61\r\n		editTdObj.find(\"textarea[name^='field'][name$='_\"+fieldinfo[1]+\"'],select[name^='field'][name$='_\"+fieldinfo[1]+\"']\").each(function(){\r\n			var elmName=jQuery(this).attr(\"name\");\r\n			var elmName_d=elmName+\"_d\";\r\n			jQuery(this).attr(\"name\",elmName_d);\r\n			if(!!jQuery(this).attr(\"id\")){\r\n				jQuery(this).attr(\"id\",jQuery(this).attr(\"id\").replace(new RegExp(elmName,\"g\"),elmName_d));\r\n			}\r\n			\r\n			//\u589e\u52a0\u7ed1\u5b9aonchange\u4e8b\u4ef6\r\n			var changeFun=\"\";\r\n			if(!!jQuery(this).attr(\"onchange\")){\r\n				changeFun=jQuery.trim(jQuery(this).attr(\"onchange\"));\r\n				if(changeFun.length>1&&changeFun.substr(changeFun.length-1)!=\";\"){\r\n					changeFun += \";\";\r\n				}\r\n			}\r\n			changeFun += \"dynamicModify(this)\";\r\n			jQuery(this).attr(\"onchange\",changeFun);\r\n			//textarea\u6240\u5728TD\u9ad8\u5ea6\u589e\u52a0\r\n			if(jQuery(this)[0].tagName.toLowerCase()==\"textarea\"){\r\n				editTdObj.css(\"height\",\"80px\");\r\n			}\r\n			//\u5fc5\u586bSPAN\u5904\u7406\r\n			if(editTdObj.find(\"span[class='ismand'][id^='\"+elmName+\"']\").size()>0){\r\n				editTdObj.find(\"input[type='hidden'][name='ismandfield']\").remove();\r\n				var mandSpanObj=editTdObj.find(\"span[class='ismand'][id^='\"+elmName+\"']\");\r\n				mandSpanObj.attr(\"id\",mandSpanObj.attr(\"id\").replace(new RegExp(elmName,\"g\"),elmName_d));\r\n				mandSpanObj.removeClass(\"ismand\");\r\n				mandSpanObj.css(\"color\",\"red\").css(\"font-size\",\"16pt\").css(\"float\",\"right\");\r\n				if(!!jQuery(this).val()){\r\n					mandSpanObj.css(\"display\",\"none\");\r\n				}else{\r\n					mandSpanObj.css(\"display\",\"block\");\r\n				}\r\n			}\r\n		});\r\n	}else{\r\n		editTdObj.append(cloneObj);\r\n		editTdObj.find(\"input,div\").remove();\r\n		editTdObj.find(\"span\").each(function(){\r\n			if(!!jQuery(this).attr(\"id\")){\r\n				if(jQuery(this).attr(\"id\").indexOf(\"field\"+fieldid)>-1)\r\n					jQuery(this).attr(\"id\",jQuery(this).attr(\"id\")+\"_d\");\r\n			}\r\n			if(!!jQuery(this).attr(\"name\")){\r\n				if(jQuery(this).attr(\"name\").indexOf(\"field\"+fieldid)>-1)\r\n					jQuery(this).attr(\"name\",jQuery(this).attr(\"name\")+\"_d\");\r\n			}\r\n		});\r\n	}\r\n	return editTdObj;\r\n}\r\n\r\n//\u540c\u6b65\u4fee\u6539\u663e\u793a\u7684span\u53cainput\r\nfunction dynamicModify(vthis){\r\n	try{\r\n		var tagName=jQuery(vthis)[0].tagName.toLowerCase();\r\n		var objId=jQuery(vthis).attr(\"id\");\r\n		var objId_hidden=\"\";\r\n		if(objId.substr(objId.length-2)==\"_d\"){\r\n			objId_hidden = objId.substring(0,objId.length-2);\r\n		}\r\n		//\u6587\u672c\u53cd\u5411\u4fee\u6539\r\n		if(tagName==\"input\"&&jQuery(vthis).attr(\"type\")==\"text\"){\r\n			try{\r\n				var objVal=jQuery(vthis).val();\r\n				if(jQuery(vthis).attr(\"datavaluetype\")==\"4\"){\r\n					var fieldIndex=objId.replace(\"field_lable\",\"\");\r\n					var fieldIndex_hidden=objId_hidden.replace(\"field_lable\",\"\");\r\n					var isshowObj=jQuery(\"[name='\"+objId_hidden+\"']\").closest(\"div[name='hiddenEditdiv']\").closest(\"td\").find(\"div[id^=isshow]\");\r\n					if(!!objVal){\r\n						var val_1 = floatFormat(objVal);			//\u8865\u96f6\r\n						var val_2 = milfloatFormat(val_1);			//\u8f6c\u5343\u5206\u4f4d\r\n						var val_3 = numberChangeToChinese(val_1);	//\u8f6c\u5927\u5199\r\n						//\u4e0d\u80fd\u7ed9\u7f16\u8f91\u7684input\u8d4b\u503c\uff0c\u56e0\u4e3aonblur\u4e8b\u4ef6\u4f1a\u8c03\u75281_wev8.js\u7684numberToFormat\u65b9\u6cd5\u8ba1\u7b97\u8d4b\u503c\r\n						jQuery(\"input[name='field\" + fieldIndex_hidden + \"']\").attr(\"value\",val_1);\r\n        				jQuery(\"input[name='field_lable\" + fieldIndex_hidden + \"']\").attr(\"value\",val_2);\r\n        				jQuery(\"input[name='field_chinglish\" + fieldIndex_hidden + \"']\").attr(\"value\",val_3);\r\n						isshowObj.text(val_3+\"(\"+val_2+\")\");\r\n					}else{\r\n						jQuery(\"input[name='field\" + fieldIndex_hidden + \"']\").attr(\"value\",\"\");\r\n						jQuery(\"input[name='field_lable\" + fieldIndex_hidden + \"']\").attr(\"value\",\"\");\r\n        				jQuery(\"input[name='field_chinglish\" + fieldIndex_hidden + \"']\").attr(\"value\",\"\");\r\n        				isshowObj.text(\"\");\r\n					}\r\n				}else{\r\n					if(jQuery(vthis).attr(\"datavaluetype\")==\"2\"){\r\n						objVal=toPrecision(objVal,0);\r\n						jQuery(vthis).attr(\"value\",objVal);\r\n					}else if(jQuery(vthis).attr(\"datavaluetype\")==\"3\"||jQuery(vthis).attr(\"datavaluetype\")==\"5\"){\r\n						var datalength=2;\r\n						datalength=jQuery(vthis).attr(\"datalength\");\r\n						objVal=toPrecision(objVal,parseInt(datalength));\r\n						if(jQuery(vthis).attr(\"datavaluetype\")==\"3\"){\r\n							jQuery(vthis).attr(\"value\",objVal);\r\n						}else if(jQuery(vthis).attr(\"datavaluetype\")==\"5\"){\r\n							objVal=changeToThousandsVal(objVal);\r\n						}\r\n					}\r\n					var inputElement=jQuery(\"input#\"+objId_hidden+\"[type='text']\");\r\n					inputElement.attr(\"value\",objVal);\r\n					inputElement.closest(\"div[name='hiddenEditdiv']\").closest(\"td\").find(\"div[id^=isshow]\").text(objVal);\r\n				}\r\n			}catch(ev){}\r\n		}\r\n		//checkbox\u53cd\u5411\u4fee\u6539\r\n		if(tagName==\"input\"&&jQuery(vthis).attr(\"type\")==\"checkbox\"){\r\n			var checkboxObj=jQuery(\"input[type='checkbox'][id='\"+objId_hidden+\"']\");\r\n			if(jQuery(vthis).attr(\"checked\")){\r\n				checkboxObj.attr(\"checked\",true);\r\n			}else{\r\n				checkboxObj.attr(\"checked\",false);\r\n			}\r\n			jQuery(\"input[type='hidden'][name='\"+objId_hidden+\"']\").attr(\"value\",jQuery(\"input[type='hidden'][name='\"+objId+\"']\").val());\r\n		}\r\n		//\u591a\u884c\u6587\u672c\u53cd\u5411\u4fee\u6539\r\n		if(tagName==\"textarea\"){\r\n			var objVal=jQuery(vthis).val();\r\n			var textareaElement=jQuery(\"textarea#\"+objId_hidden);\r\n			textareaElement.val(objVal);\r\n			textareaElement.closest(\"div[name='hiddenEditdiv']\").closest(\"td\").find(\"div[id^=isshow]\").text(objVal);\r\n		}\r\n		//\u4e0b\u62c9\u6846\u53cd\u5411\u4fee\u6539\r\n		if(tagName==\"select\"){\r\n			var selectOption=jQuery(vthis).find(\"option:selected\");\r\n			var selectElement=jQuery(\"select#\"+objId_hidden);\r\n			selectElement.find(\"option[value='\"+selectOption.val()+\"']\").attr(\"selected\", \"selected\");\r\n			//selectElement.val(selectOption.val());\r\n			selectElement.closest(\"div[name='hiddenEditdiv']\").closest(\"td\").find(\"div[id^=isshow]\").text(selectOption.text());\r\n		}\r\n		//\u63a7\u5236\u5fc5\u586b\u6807\u793a\r\n		if(tagName==\"input\"&&jQuery(vthis).attr(\"datavaluetype\")==\"4\"){		//\u91d1\u989d\u8f6c\u6362\u5b57\u6bb5\u627e\u5fc5\u586bSPAN\r\n			objId=objId.replace(\"field_lable\",\"field\");\r\n		}\r\n		if(jQuery(\"span#\"+objId+\"_ismandspan\").size()>0){\r\n			if(!!jQuery(vthis).val()){\r\n				jQuery(\"span#\"+objId+\"_ismandspan\").css(\"display\",\"none\");\r\n			}else{\r\n				jQuery(\"span#\"+objId+\"_ismandspan\").css(\"display\",\"block\");\r\n			}\r\n		}\r\n	}catch(e){}\r\n}\r\n</script>\r\n							\r\n\r\n\r\n\r\n".toCharArray();
    _jsp_string322 = "																		      DIVHTML += \"<input onchange=\\\"\"+onchange+\";onChangeClick(this,\"+isedit+\",\"+groupid+\",\"+rowId+\",\"+elementCount+\");\\\" class=\\\"\"+classVal+\"\\\" type=\\\"\"+type+\"\\\" id=\\\"\"+idval+\"_d\\\" name=\\\"\"+name+\"_d\\\" namebak=\\\"\"+namebak+\"\\\" value=\\\"\"+value+\"\\\" readonly=\\\"readonly\\\" />\";\r\n																								      DIVHTML += \"<script language=\\\"javascript\\\">$('#\"+idval+\"_d').scroller({preset: 'time',timeFormat:'HH:ii',theme: 'default',display: 'bottom',mode: 'scroller',nowText:'\u73b0\u5728',setText:'\u786e\u5b9a',cancelText:'\u53d6\u6d88',minuteText:'\u5206',hourText:'\u65f6',timeWheels:'HHii',showNow:true,onShow: moveDataTimeContorl});<\\/script>\"; \r\n																							     }\r\n																							  }else{\r\n																							    if(tdObjs.getAttribute(\"fieldtype\")){\r\n																							         var fieldtype = tdObjs.getAttribute(\"fieldtype\");\r\n																									 DIVHTML += \"<input fieldtype=\\\"\"+fieldtype+\"\\\" type=\\\"\"+type+\"\\\" id=\\\"\"+idval+\"_d\\\" name=\\\"\"+name+\"_d\\\" namebak=\\\"\"+namebak+\"\\\" value=\\\"\"+value+\"\\\"  onchange=\\\"\"+onchange+\";\\\" />\"; \r\n																							    }else{\r\n																							         if(value.indexOf(\"\\\"\")!=-1){\r\n																							            value = value.replace(/\\\"/g,\"&quot;\");\r\n																							         }\r\n																							        DIVHTML += \"<input type=\\\"\"+type+\"\\\" id=\\\"\"+idval+\"_d\\\" name=\\\"\"+name+\"_d\\\" namebak=\\\"\"+namebak+\"\\\" value=\\\"\"+value+\"\\\" onchange=\\\"\"+onchange+\";onChangeClick(this,\"+isedit+\",\"+groupid+\",\"+rowId+\",\"+elementCount+\");\\\" />\";\r\n																						        }\r\n																						     }\r\n																						   }else{\r\n																							  var classVal = tdObjs.getAttribute(\"class\");\r\n																							  if(classVal){\r\n																								if(classVal == 'scroller_date'){ //\u65e5\u671f\r\n																								DIVHTML += \"<input onchange=\\\"onChangeClick(this,\"+isedit+\",\"+groupid+\",\"+rowId+\",\"+elementCount+\");\\\" class=\\\"\"+classVal+\"\\\" type=\\\"\"+type+\"\\\" id=\\\"\"+idval+\"_d\\\" name=\\\"\"+name+\"_d\\\" namebak=\\\"\"+namebak+\"\\\" value=\\\"\"+value+\"\\\" readonly=\\\"readonly\\\" />\";\r\n																								DIVHTML += \"<script language=\\\"javascript\\\">$('#\"+idval+\"_d').scroller({preset: 'date',dateFormat:'yy-mm-dd',theme: 'default',display: 'bottom', mode: 'scroller',endYear:2020,nowText:'\u4eca\u5929',setText:'\u786e\u5b9a',cancelText:'\u53d6\u6d88',monthText:'\u6708',yearText:'\u5e74',dayText:'\u65e5',showNow:true,dateOrder: 'yymmdd',onShow: moveDataTimeContorl});<\\/script>\";\r\n																							   }else if(classVal == 'scroller_time'){//\u65f6\u95f4\r\n																								 DIVHTML += \"<input onchange=\\\"onChangeClick(this,\"+isedit+\",\"+groupid+\",\"+rowId+\",\"+elementCount+\");\\\" class=\\\"\"+classVal+\"\\\" type=\\\"\"+type+\"\\\" id=\\\"\"+idval+\"_d\\\" name=\\\"\"+name+\"_d\\\" namebak=\\\"\"+namebak+\"\\\" value=\\\"\"+value+\"\\\" readonly=\\\"readonly\\\" />\";\r\n																								 DIVHTML += \"<script language=\\\"javascript\\\">$('#\"+idval+\"_d').scroller({preset: 'time',timeFormat:'HH:ii',theme: 'default',display: 'bottom',mode: 'scroller',nowText:'\u73b0\u5728',setText:'\u786e\u5b9a',cancelText:'\u53d6\u6d88',minuteText:'\u5206',hourText:'\u65f6',timeWheels:'HHii',showNow:true,onShow: moveDataTimeContorl});<\\/script>\"; \r\n																							   }\r\n																							 }else{\r\n																								 if(tdObjs.getAttribute(\"fieldtype\")){\r\n																									 var fieldtype = tdObjs.getAttribute(\"fieldtype\");\r\n																									 DIVHTML += \"<input fieldtype=\\\"\"+fieldtype+\"\\\" type=\\\"\"+type+\"\\\" id=\\\"\"+idval+\"_d\\\" name=\\\"\"+name+\"_d\\\" namebak=\\\"\"+namebak+\"\\\" value=\\\"\"+value+\"\\\" />\"; \r\n																								 }\r\n																							   \r\n																						     }\r\n																						   }\r\n																						}\r\n																					 }else{\r\n																						  DIVHTML += \"<input type=\\\"\"+type+\"\\\" name=\\\"\"+name+\"_d\\\" namebak=\\\"\"+namebak+\"\\\" value=\\\"\"+value+\"\\\" />\"; \r\n																					 }\r\n																					 \r\n																  \r\n																				  }\r\n																				\r\n																			}\r\n																		}\r\n																   }\r\n															  }\r\n															 \r\n														  }\r\n														  \r\n													  }\r\n												}\r\n										   } \r\n										}\r\n								  }  \r\n                         }else{\r\n                              if((tdValueObjs[j].nodeType == 1 && tdValueObjs[j].nodeName == \"DIV\")){\r\n                                   if(tdValueObjs[j].getAttribute(\"id\")){\r\n                                       var id = tdValueObjs[j].getAttribute(\"id\");\r\n                                       if(id == 'isedit'){\r\n                                          var tdNodes =  tdValueObjs[j].childNodes;\r\n										  var spanCount = 0;\r\n										  var  spanTdTotal = 0;\r\n										  var aCount = 0;\r\n										  var aTdTotal = 0;\r\n										  var divTdTotal = 0;\r\n										  if(tdNodes.length==0){\r\n											   DIVHTML +=\"<td  width=\\\"60%\\\" class=\\\"detailValueTD\\\">\";\r\n                                               DIVHTML += \"\";\r\n                                               DIVHTML += \"</td>\"; \r\n										  }\r\n										   for(var v=0;v<tdNodes.length;v++){\r\n											      if(tdNodes[v].nodeType == 1 && tdNodes[v].nodeName=='SPAN'){\r\n													    spanTdTotal ++;\r\n														divTdTotal ++;\r\n											      }    \r\n												 if(tdNodes[v].nodeType == 1 && tdNodes[v].nodeName=='A'){\r\n													     aTdTotal ++;\r\n														 divTdTotal ++;\r\n											      }\r\n												  if(tdNodes[v].nodeType == 1 && tdNodes[v].nodeName=='DIV'){\r\n													     divTdTotal ++;\r\n											      }\r\n										   }\r\n                                           var moneryEquals =\"\";\r\n                                          for(var v=0;v<tdNodes.length;v++){\r\n											  var spanEquals =\"\";\r\n											  if(tdNodes[v].nodeType == 3 && tdNodes[v].nodeName=='#text' && tdNodes[v].nodeValue.trim() != ''){\r\n												  if(moneryEquals == \"1\"){\r\n													   DIVHTML += tdNodes[v].nodeValue+\"</td>\";\r\n                                                       moneryEquals = \"\";\r\n												  }else{\r\n													   DIVHTML +=\"<td  width=\\\"60%\\\" class=\\\"detailValueTD\\\">\";\r\n                                                      DIVHTML += tdNodes[v].nodeValue;\r\n                                                      DIVHTML += \"</td>\";\r\n												  }\r\n											  }else if(tdNodes[v].nodeType == 3 && tdNodes[v].nodeName=='#text' && tdNodes.length ==1 ){\r\n												   DIVHTML +=\"<td  width=\\\"60%\\\" class=\\\"detailValueTD\\\">\";\r\n                                                      DIVHTML += tdNodes[v].nodeValue;\r\n                                                      DIVHTML += \"</td>\";\r\n											  }else if(tdNodes[v].nodeType == 1 && tdNodes[v].nodeName=='SPAN'){\r\n												  spanEquals = tdNodes[v];\r\n												  if(spanTdTotal == 1){\r\n													    DIVHTML +=\"<td  width=\\\"60%\\\" class=\\\"detailValueTD\\\">\";\r\n														   var spanHTML = \"<SPAN \";\r\n														   if(tdNodes[v].getAttribute(\"id\")){\r\n																spanHTML += \" id =\\\"\"+tdNodes[v].getAttribute(\"id\")+\"_d\\\"\";\r\n														   }\r\n														   if(tdNodes[v].getAttribute(\"style\")){\r\n																 spanHTML += \" style =\\\"\"+tdNodes[v].getAttribute(\"style\")+\"\\\"\";\r\n														   }\r\n														   if(tdNodes[v].getAttribute(\"onclick\")){\r\n																spanHTML += \" onclick =\\\"\"+tdNodes[v].getAttribute(\"onclick\")+\"\\\"\";\r\n														   }\r\n														   if(tdNodes[v].getAttribute(\"keyid\")){\r\n															   spanHTML += \" keyid =\\\"\"+tdNodes[v].getAttribute(\"keyid\")+\"\\\"\";\r\n														   }\r\n														   \r\n														   if(tdNodes[v].getAttribute(\"id\")&&tdNodes[v].getAttribute(\"id\").indexOf(\"chinglish\")>=0){\r\n															     spanHTML += \">\"+tdNodes[v].innerHTML+ \"</SPAN>\";\r\n																 DIVHTML +=spanHTML;\r\n																 moneryEquals = \"1\";\r\n														   }else{\r\n                                                                spanHTML += \">\"+tdNodes[v].innerHTML + \"</SPAN>\";\r\n															    DIVHTML +=spanHTML + \"<td>\";  \r\n														  }\r\n												  }else{\r\n													  if(spanCount == 0){\r\n														   DIVHTML +=\"<td  width=\\\"60%\\\" class=\\\"detailValueTD\\\">\";\r\n														   var spanHTML = \"<SPAN \";\r\n														   if(tdNodes[v].getAttribute(\"id\")){\r\n																spanHTML += \" id =\\\"\"+tdNodes[v].getAttribute(\"id\")+\"_d\\\"\";\r\n														   }\r\n														   if(tdNodes[v].getAttribute(\"style\")){\r\n																 spanHTML += \" style =\\\"\"+tdNodes[v].getAttribute(\"style\")+\"\\\"\";\r\n														   }\r\n														   if(tdNodes[v].getAttribute(\"onclick\")){\r\n																spanHTML += \" onclick =\\\"\"+tdNodes[v].getAttribute(\"onclick\")+\"\\\"\";\r\n														   }\r\n														   if(tdNodes[v].getAttribute(\"keyid\")){\r\n															   spanHTML += \" keyid =\\\"\"+tdNodes[v].getAttribute(\"keyid\")+\"\\\"\";\r\n														   }\r\n														   spanHTML += \">\"+tdNodes[v].innerHTML + \"</SPAN>\";\r\n														  DIVHTML +=spanHTML + \"</br>\";\r\n														  moneryEquals =\"1\";\r\n													   }else if(spanCount == spanTdTotal){\r\n															 var spanHTML = \"<SPAN \";\r\n														   if(tdNodes[v].getAttribute(\"id\")){\r\n																spanHTML += \" id =\\\"\"+tdNodes[v].getAttribute(\"id\")+\"_d\\\"\";\r\n														   }\r\n														   if(tdNodes[v].getAttribute(\"style\")){\r\n																 spanHTML += \" style =\\\"\"+tdNodes[v].getAttribute(\"style\")+\"\\\"\";\r\n														   }\r\n														   if(tdNodes[v].getAttribute(\"onclick\")){\r\n																spanHTML += \" onclick =\\\"\"+tdNodes[v].getAttribute(\"onclick\")+\"\\\"\";\r\n														   }\r\n														   if(tdNodes[v].getAttribute(\"keyid\")){\r\n															   spanHTML += \" keyid =\\\"\"+tdNodes[v].getAttribute(\"keyid\")+\"\\\"\";\r\n														   }\r\n														   spanHTML += \">\"+tdNodes[v].innerHTML + \"</SPAN>\";\r\n														  DIVHTML +=spanHTML + \"</td>\";\r\n\r\n													   }else{\r\n															  var spanHTML = \"<SPAN \";\r\n															  if(tdNodes[v].getAttribute(\"id\")){\r\n																spanHTML += \" id =\\\"\"+tdNodes[v].getAttribute(\"id\")+\"_d\\\"\";\r\n															   }\r\n															   if(tdNodes[v].getAttribute(\"style\")){\r\n																	 spanHTML += \" style =\\\"\"+tdNodes[v].getAttribute(\"style\")+\"\\\"\";\r\n															   }\r\n															   if(tdNodes[v].getAttribute(\"onclick\")){\r\n																	spanHTML += \" onclick =\\\"\"+tdNodes[v].getAttribute(\"onclick\")+\"\\\"\";\r\n															   }\r\n															   if(tdNodes[v].getAttribute(\"keyid\")){\r\n																   spanHTML += \" keyid =\\\"\"+tdNodes[v].getAttribute(\"keyid\")+\"\\\"\";\r\n															   }\r\n															   spanHTML += \">\"+tdNodes[v].innerHTML + \"</SPAN>\";\r\n															  DIVHTML +=spanHTML + \"</br>\";\r\n													   }\r\n												  }\r\n												   spanCount++;   \r\n											  }else if(tdNodes[v].nodeType == 1 && tdNodes[v].nodeName=='A'){\r\n												   if(aCount == 0){\r\n													    DIVHTML +=\"<td  width=\\\"60%\\\" class=\\\"detailValueTD\\\">\";\r\n                                                        DIVHTML +=tdNodes[v].innerHTML+\"</br>\";\r\n												   }else if(aCount == aTdTotal){\r\n                                                        DIVHTML +=tdNodes[v].innerHTML+\"</td>\";\r\n												   }else{\r\n                                                      DIVHTML +=tdNodes[v].innerHTML+\"</br>\";\r\n												   }\r\n                                                   aCount++;\r\n											  }else if(tdNodes[v].nodeType == 1 && tdNodes[v].nodeName=='DIV' && divTdTotal ==1){\r\n												      DIVHTML +=\"<td  width=\\\"60%\\\" class=\\\"detailValueTD\\\">\";\r\n                                                      DIVHTML += tdNodes[v].innerHTML;\r\n                                                      DIVHTML += \"</td>\";\r\n											  }\r\n                                              if(tdNodes[v].nodeType == 1){\r\n													 //\u4e0d\u53ef\u7f16\u8f91\u7684\u65f6\u5019\r\n													 if((tdNodes[v].nodeType == 1 && tdNodes[v].nodeName == \"DIV\")){\r\n															isEditDisplay =\"<div >\"+tdNodes[v].innerHTML+\"</div>\";\r\n													  }\r\n													 if(spanEquals == tdNodes[v]){\r\n													 }else{\r\n														  if((tdNodes[v].nodeType == 1 && tdNodes[v].nodeName == \"SPAN\")){\r\n															  if(tdNodes[v].getAttribute(\"id\")){\r\n																	DIVHTML +=\"<td  width=\\\"60%\\\" class=\\\"detailValueTD\\\">\"+isEditDisplay+\"<span id=\\\"\"+tdNodes[v].getAttribute(\"id\")+\"_d\\\">\"+tdNodes[v].innerHTML;\r\n															  }\r\n														  }\r\n														   if((tdNodes[v].nodeName=='#text'&&tdNodes[v].nodeValue.trim()!='')){\r\n														     DIVHTML += tdNodes[v].nodeValue +\"</span></td>\";\r\n															 isEditDisplay =\"\";\r\n													      }\r\n							                         }\r\n											 \r\n                          if(tdNodes[v].nodeType == 1 && tdNodes[v].nodeName=='TABLE'){\r\n                                var tdTables = tdNodes[v].childNodes;\r\n	                                for(var k=0;k<tdTables.length;k++){\r\n	                                   if(tdTables[k].nodeType==1&&tdTables[k].nodeName == 'TBODY'){\r\n	                                        var tdTrValues = tdTables[k].childNodes;\r\n	                                        for(var m=0;m<tdTrValues.length;m++){\r\n	                                              if(tdTrValues[m].nodeType == 1 && tdTrValues[m].nodeName == 'TR'){\r\n	                                                  var TdtdValues=tdTrValues[m].childNodes;\r\n	                                                  for(var n=0;n<TdtdValues.length;n++){\r\n	                                                      if(TdtdValues[n].nodeType == 1 && TdtdValues[n].nodeName == \"TD\"){\r\n	                                                           if(TdtdValues[n].getAttribute(\"onclick\")){\r\n	                                                              var onclickVal = TdtdValues[n].getAttribute(\"onclick\");\r\n	                                                              DIVHTML  +=\"<td  width=\\\"60%\\\" class=\\\"detailValueTD\\\" onclick=\\\"\"+onclickVal+\"\\\">\";\r\n	                                                           }else{\r\n																    try{\r\n																	  if(TdtdValues[n].childNodes[0].nodeName == 'SPAN'){\r\n																		  var ismand= TdtdValues[n].childNodes[0].getAttribute(\"class\");\r\n																		  if(ismand && ismand =='ismand'){\r\n																			  var mandSpanId=  TdtdValues[n].childNodes[0].getAttribute(\"id\");\r\n                                                                               mandSpanId = mandSpanId.substring(0,mandSpanId.lastIndexOf(\"_\"))+\"_d_ismandspan\";\r\n																			   var displayVal = \"\";\r\n																			   var realityId = mandSpanId.substring(0,mandSpanId.lastIndexOf(\"_\")-2);\r\n																			  if(document.getElementById(realityId).value&&document.getElementById(realityId).value!=\"\"){\r\n																				    displayVal = \"display:none;\";\r\n																			  }else{\r\n																				  displayVal = \"display:block;\";\r\n																			  }\r\n																			  var mandSpanStyle=  TdtdValues[n].childNodes[0].getAttribute(\"style\");\r\n                                                                              DIVHTML  +=\"<span id=\\\"\"+mandSpanId+\"\\\" style=\\\"color: red;font-size: 20pt;float:right;\"+displayVal+\"\\\" >\"+TdtdValues[n].childNodes[0].innerHTML+\"</span>\";\r\n																		  }\r\n																	  }else{\r\n																		  if(TdtdValues[n].childNodes[0].nodeName == 'DIV'||TdtdValues[n].childNodes[0].nodeName == 'A'){\r\n																		  }else{\r\n																			   DIVHTML  +=\"<td  width=\\\"60%\\\" class=\\\"detailValueTD\\\">\";\r\n																		  }\r\n																		 \r\n																	  }\r\n																   }catch(e){\r\n																   }\r\n	                                                           } \r\n\r\n	                                                           var tdvals = TdtdValues[n].childNodes;\r\n	                                                           var aspanCount = 0;\r\n	                                                           var detailSpanCount =0;\r\n	                                                            for(var o=0;o<tdvals.length;o++){\r\n	                                                                  if(tdvals[o].nodeName == \"A\"){\r\n	                                                                     aspanCount ++;\r\n	                                                                  }\r\n	                                                                  if(tdvals[o].nodeName == \"SPAN\"){\r\n	                                                                 ".toCharArray();
    _jsp_string66 = "\")){\r\n                      datalength = $GetEle(\"field".toCharArray();
    _jsp_string202 = "\"  value=\"".toCharArray();
    _jsp_string284 = "\r\n		</tbody>\r\n		  ".toCharArray();
    _jsp_string275 = "\r\n			<tr width=\"100%\">\r\n				<td colspan=\"".toCharArray();
    _jsp_string350 = "\">\r\n					<input type=\"hidden\" name=\"page.pageNo\" value=\"1\">\r\n					<input type=\"hidden\" name=\"requestid\" value=\"".toCharArray();
    _jsp_string306 = "\")!=null){\r\n        	document.getElementById(\"sum".toCharArray();
    _jsp_string79 = "\").value=toPrecision(sum,0);\r\n						   }\r\n						}else if(document.getElementById(\"field".toCharArray();
    _jsp_string331 = " 1px 1px 0;\">\r\n					".toCharArray();
    _jsp_string55 = "\");\r\n        		document.getElementById(\"sum".toCharArray();
    _jsp_string39 = "\r\n					jQuery(document).ready(function(){\r\n						controlEditMode();\r\n					});	\r\n		".toCharArray();
    _jsp_string200 = ">\r\n	    <input type=\"hidden\" id=\"nodenum".toCharArray();
    _jsp_string56 = "\").innerHTML=toPrecision(sum,\"".toCharArray();
    _jsp_string287 = "\r\n			    <td class=\"detailValueTD2\">".toCharArray();
    _jsp_string305 = ";\r\n        \r\n        if(document.getElementById(\"sum".toCharArray();
    _jsp_string252 = "_span_d\" name=\"".toCharArray();
    _jsp_string253 = "_span_d\" >\r\n						   </span>\r\n						 <input type=\"hidden\" fieldType=\"1\"   id=\"field".toCharArray();
    _jsp_string349 = "\">\r\n					<input type=\"hidden\" name=\"scope2\" value=\"".toCharArray();
    _jsp_string269 = "\r\n			  <td width=\"0%\" class=\"detailValueTD2\" style=\"text-align:center;width:0px;display:none\" >\r\n			      <a id=\"a".toCharArray();
    _jsp_string130 = "\r\n							\r\n								<input type=\"text\" name=\"".toCharArray();
    _jsp_string180 = "\").value;\r\n		var newRowNum = document.getElementById(\"newRowNum".toCharArray();
    _jsp_string362 = ";\r\n	if(flagDelAppendix){\r\n	    var $delAppend = jQuery(\"a[name='appendixDelField']\");\r\n	    $delAppend.each(\r\n		    function(i){\r\n				jQuery(this).remove();\r\n		    })\r\n	}\r\n	\r\n	//\u4ec5\u5f53\u975e\u5ba2\u6237\u7aef\u767b\u5f55\u65b9\u5f0f\uff0c\u652f\u6301\u5bf9\u9644\u4ef6\u4e0a\u4f20\u5b57\u6bb5\u7684\u7f16\u8f91\u64cd\u4f5c\r\n	var flagEditAppendix = ".toCharArray();
    _jsp_string196 = "\r\n	       <button name=\"delbutton".toCharArray();
    _jsp_string134 = "\"},\r\n									function process(dataObj){\r\n										if(dataObj){\r\n											$(\"[nameBak='leaveDays']\").val(dataObj.days);\r\n										}\r\n									}\r\n								,\"json\");\r\n							}\r\n						}\r\n					//-->\r\n					</SCRIPT>\r\n				".toCharArray();
    _jsp_string381 = ") {\r\n			return \"BACK\";\r\n		}\r\n		\r\n		if(".toCharArray();
    _jsp_string80 = "\").getAttribute(\"datatype\")==\"float\" && document.getElementById(\"field".toCharArray();
    _jsp_string348 = "\r\n					<input type=\"hidden\" name=\"module2\" value=\"".toCharArray();
    _jsp_string168 = "\r\n				\r\n			".toCharArray();
    _jsp_string339 = "\" />\r\n					</td>\r\n					".toCharArray();
    _jsp_string338 = "_span_d\" >\r\n					</span>\r\n					<input type=\"hidden\" fieldType=\"1\"   id=\"field".toCharArray();
    _jsp_string315 = "_\"+i);\r\n                   //if(fieldObj){\r\n                        //datalength=fieldObj.getAttribute(\"datalength\");\r\n                       // datatype=fieldObj.getAttribute(\"datatype\");\r\n                        //datavaluetype=fieldObj.getAttribute(\"datavaluetype\");\r\n                       // var  val = new Number(fieldObj.value.replace(/,/g, \"\"));\r\n                       // sumvalue += val;\r\n                  // }\r\n             //  }\r\n              // if(datavaluetype == 5){\r\n                  // document.getElementById(\"sum".toCharArray();
    _jsp_string75 = "\").getAttribute(\"datatype\") == \"int\"){\r\n						   if(document.getElementById(\"field".toCharArray();
    _jsp_string0 = "\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n".toCharArray();
    _jsp_string234 = "\r\n				<td class=\"detailValueTD\" style=\"".toCharArray();
    _jsp_string218 = "\r\n          <script language=\"javascript\">\r\n		      document.getElementById(\"nodenum".toCharArray();
    _jsp_string239 = "\"  value=\"isshow".toCharArray();
    _jsp_string257 = "\r\n						 <span id=\"".toCharArray();
    _jsp_string203 = "\" />\r\n		<input type=\"hidden\" id=\"newRowNum".toCharArray();
    _jsp_string70 = "\").value=toPrecision(sum,datalength);\r\n                }\r\n                if($GetEle(\"field".toCharArray();
    _jsp_string300 = "\r\n    var temprow=0;\r\n    var rowindex = 0;\r\n    if(document.getElementById('nodenum".toCharArray();
    _jsp_string319 = ";\r\n	for(var i=0;i<tableCount;i++){\r\n		try{\r\n			var count=0;\r\n		   $(\".isneed_\"+i).each(function() {\r\n			   if(this.getAttribute(\"class\")){\r\n				    count = 1;\r\n			   }\r\n	      });\r\n		  if(count == 0){\r\n			  var  needAddRowObj = jQuery(\"input[id='\"+(\"needAddRow\"+i)+\"']\");\r\n			  if(jQuery(\"input[id='\"+(\"needAddRow\"+i)+\"']\").val() == \"1\"){\r\n				  messageInfo = \"\u5fc5\u987b\u586b\u5199\u7b2c\"+(i+1)+\"\u4e2a\u660e\u7ec6\u8868\u6570\u636e\uff0c\u8bf7\u586b\u5199\";\r\n				  break;\r\n			  }\r\n		  }\r\n		}catch(e){\r\n		   continue;\r\n		}\r\n	}\r\n    return messageInfo;\r\n}\r\n\r\n</script>\r\n\r\n\r\n     <!-- \u62c6\u5206\u660e\u7ec6\u8868--\u7528\u4e8e\u6dfb\u52a0\u6570\u636e -->\r\n	   \r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n".toCharArray();
    _jsp_string50 = "	\r\n		".toCharArray();
    _jsp_string174 = "\r\n	</table>\r\n</div>\r\n<div style=\"height:10px;overflow:hidden;\"></div>\r\n	\r\n	\r\n	\r\n	\r\n".toCharArray();
    _jsp_string129 = "\" />\r\n								<script type=\"text/javascript\" language=\"javascript\">\r\n									fieldIdRemindTimesBeforeStart = \"#".toCharArray();
    _jsp_string24 = "\";\r\n	var js_formid = \"".toCharArray();
    _jsp_string223 = "\").value = 0;\r\n		     </script>\r\n			".toCharArray();
    _jsp_string195 = "\r\n	  ".toCharArray();
    _jsp_string64 = "\r\n                var sum=getFieldSumValue(\"".toCharArray();
    _jsp_string198 = ");\">".toCharArray();
    _jsp_string147 = "\" name=\"".toCharArray();
    _jsp_string25 = "\";\r\n	\r\n	var isnewVersion = true;\r\n\r\n    //\u6587\u6863,\u9644\u4ef6\u8d44\u6e90\r\n	var formcontainattachs=[];\r\n\r\n</SCRIPT>\r\n</head>\r\n\r\n<body>\r\n\r\n<div id=\"view_page\">\r\n	<div data-role=\"page\" class=\"page workFlowView\">\r\n			<div data-role=\"content\" style=\"margin-left: 10px; margin-right: 10px; padding-top: 20px;\">\r\n		<iframe id=\"selectChangeDetail\" frameborder=0 scrolling=no src=\"\"  style=\"display:none\"></iframe>\r\n        <iframe id=\"selectChange\" frameborder=0 scrolling=no src=\"\"  style=\"display:none\"></iframe>\r\n				<form id=\"workflowfrm\" action=\"/mobile/plugin/1/RequestOperation.jsp?module=".toCharArray();
    _jsp_string370 = "\r\n	\r\n	//\u8868\u5355\u4e2d\u6240\u6709\u6587\u6863\u4e0e\u9644\u4ef6\u7684json\u683c\u5f0f\u6570\u636e\u96c6\u5408\uff08\u5728form.jsp\u4e2d\u8d4b\u503c\uff09\r\n	function getWorkflowResource() {\r\n		//\u83b7\u53d6\u7b7e\u5b57\u610f\u89c1\u9644\u5e26\u7684\u6587\u6863\u548c\u9644\u4ef6\r\n		var signAttachUrl = \"/mobile/plugin/1/workflowSignAttachFiles.jsp?workflowId=".toCharArray();
    _jsp_string5 = "!\";\r\n	var cj_bohaiLeave2 = \"".toCharArray();
    _jsp_string383 = "\";\r\n	}\r\n	\r\n	function dataInput(parfield, strFieldName){\r\n		var strData=\"id=".toCharArray();
    _jsp_string288 = "</td>\r\n			    ".toCharArray();
    _jsp_string226 = " >\r\n			 ".toCharArray();
    _jsp_string369 = "\";\r\n	".toCharArray();
    _jsp_string307 = "\").innerHTML=toPrecision(sum,decimalNumber)+\" \";\r\n        }\r\n        if(document.getElementById(\"sumvalue".toCharArray();
    _jsp_string286 = " <td class=\"detailCountTDValue\"></td>".toCharArray();
    _jsp_string190 = "\";\r\n      if(!confirm(str)){\r\n            return false;\r\n      }\r\n       return true;\r\n   }\r\n</script>\r\n\r\n\r\n	<div style=\"text-align:right;margin-top:25px\">\r\n	  ".toCharArray();
    _jsp_string167 = "'>\r\n				".toCharArray();
    _jsp_string40 = "\r\n			function addRow".toCharArray();
    _jsp_string100 = ">\r\n			<td class=\"mainFormRowNameTD\">\r\n				".toCharArray();
    _jsp_string366 = "\r\n		//\u52a0\u8f7d\u7b7e\u5b57\u610f\u89c1\r\n		try{\r\n		   remarksignload();\r\n		}catch(e){}\r\n		try{\r\n		//\u83b7\u53d6\u7b7e\u5b57\u610f\u89c1\u9644\u5e26\u7684\u6587\u6863\u548c\u9644\u4ef6\r\n		   getWorkflowResource();  \r\n		}catch(e){}\r\n		".toCharArray();
    _jsp_string355 = "\r\n					 <input type=\"hidden\" id=\"rejectToNodeid\" name=\"rejectToNodeid\" value=\"".toCharArray();
    _jsp_string96 = "\r\n\r\n\r\n<div class=\"blockHead\"><span class=\"m-l-14\">\u6d41\u7a0b\u4fe1\u606f</span></div>\r\n<div class=\"tblBlock\" style=\"width: 100%; background: #fff;\" id=\"mainforminfoDiv\">\r\n	<table id=\"head\" cellspacing=\"0\" cellpadding=\"0\" width=\"100%\" class=\"mainFormTable\">\r\n".toCharArray();
    _jsp_string272 = "\" style=\"display:none\">\r\n				 <td width=\"100%\"  colspan=\"".toCharArray();
    _jsp_string102 = "\r\n		<tr>\r\n			<td width=\"*\" colspan=\"3\" class=\"mainFormRowValueTD\">\r\n				<div style=\"font-size:16px;font-weight:bold;text-align:center;\">\r\n					".toCharArray();
    _jsp_string125 = "\r\n								<div data-role=\"fieldcontain\">\r\n									<input type=\"checkbox\" name=\"".toCharArray();
    _jsp_string165 = "										\r\n		".toCharArray();
    _jsp_string149 = "\r\n								".toCharArray();
    _jsp_string137 = "\" >\r\n				".toCharArray();
    _jsp_string113 = "\" id=\"".toCharArray();
    _jsp_string103 = "\r\n				</div>\r\n				<br/>\r\n".toCharArray();
    _jsp_string304 = "_\"+i).value;\r\n                    temStr = temStr.replace(/,/g,\"\");\r\n                    if(temStr+\"\"!=\"\"){\r\n                        sum+=temStr*1;\r\n                    }\r\n                }catch(e){;}\r\n            }\r\n            \r\n        var decimalNumber = ".toCharArray();
    _jsp_string49 = ");\r\n				       }\r\n			     	});\r\n		".toCharArray();
    _jsp_string352 = "\">\r\n					<input type=\"hidden\" name=\"workflowsignid\" value='0'/>\r\n		\r\n					<div style=\"display:none;\">\r\n					<textarea style=\"border:1px solid #BBBBBB!important;width:100%;border-radius:5px;\" id=\"userSignRemark\" name=\"userSignRemark\" cols=\"80\" rows=\"8\" >".toCharArray();
    _jsp_string121 = "	\r\n								<div data-role=\"fieldcontain\">\r\n									<input type=\"checkbox\" name=\"".toCharArray();
    _jsp_string289 = "\r\n			   <td class=\"detailValueTD2\" width=\"0%\" style=\"display:none;\">\r\n			   </td>\r\n			 </tr>\r\n		     </tfoot>\r\n	      ".toCharArray();
    _jsp_string280 = ");\r\n					       }\r\n		         </script>\r\n    	   ".toCharArray();
    _jsp_string15 = "\";\r\n	var js_scope = \"".toCharArray();
    _jsp_string46 = "\r\n					jQuery(document).ready(function(){\r\n					   jQuery(\"#nodenum".toCharArray();
    _jsp_string192 = "\"  type=button Class=\"operationBt\"  onclick=\"addRow".toCharArray();
    _jsp_string330 = "\r\n				<th class=\"detailFormIndexTDValue\" style=\"border-width:".toCharArray();
    _jsp_string402 = "\r\n	}\r\n	\r\n	function displayFormSignature(marksrc) {\r\n		var url = \"emobile:setFormSignatureSrc:\" + \"clearAppendix\";			\r\n    	location = url; \r\n	}\r\n	\r\n	function getFormSignatureCallback() {\r\n		var url = \"/mobile/plugin/browser.jsp\";\r\n		var datas = \"&returnIdField=markId&returnShowField=markName&method=listBrowserData&browserTypeId=-10&isMuti=0\";\r\n		showDialog(url, datas);\r\n	}\r\n\r\n	//\u4e3a\u4e86\u80fd\u5728custompage4Emoble\u4e2d\u5b9a\u4e49\u7684jsp\u4e2d\u91cd\u5199\u63d0\u4ea4\u4e8b\u4ef6\u6b64\u5904\uff0c\u6dfb\u52a0\u4e86\u4e00\u4e2a\u6d41\u7a0b\u751f\u6210\u7684\u63d0\u4ea4\u6309\u94ae\u7684\u4e8b\u4ef6\u7684\u5165\u53e3\u51fd\u6570\r\n	function doSubmit_4Mobile(_callBackFunType){\r\n		if(_callBackFunType==1){\r\n			return dosubmit();\r\n		}else if(_callBackFunType==2){\r\n			return dosubnoback();\r\n		}else if(_callBackFunType==3){\r\n			return dosubback();\r\n		}\r\n	}\r\n	\r\n	//\u83b7\u53d6\u6240\u6709\u64cd\u4f5c\u6309\u94ae\r\n	function getOperationList() {\r\n		".toCharArray();
    _jsp_string321 = "\\\" class=\\\"detailValueTD\\\">\";\r\n														  DIVHTML +=disTables[li].innerHTML +\"</BR>\";\r\n																\r\n													}else if(aCount == aTdTotal){\r\n														 DIVHTML +=disTables[li].innerHTML +\"</td>\"; \r\n													}else {\r\n														 DIVHTML +=disTables[li].innerHTML +\"</BR>\"; \r\n													}\r\n													  aCount++;\r\n												}\r\n\r\n										   }\r\n									   }\r\n								}\r\n						  }else{\r\n							    if(isedit){ //\u624b\u673a\u7248\u672c\u7b49\r\n										//\u4e0d\u53ef\u7f16\u8f91\u7684\u65f6\u5019\r\n									  if((tdValueObjs[j].nodeType == 1 && tdValueObjs[j].nodeName == \"SPAN\")){\r\n										 if(tdValueObjs[j].getAttribute(\"id\")){\r\n											  DIVHTML +=\"<span id=\\\"\"+tdValueObjs[j].getAttribute(\"id\")+\"_d\\\">\"+tdValueObjs[j].innerHTML;   \r\n										 }\r\n									  }\r\n									  if((tdValueObjs[j].nodeName=='#text'&&tdValueObjs[j].nodeValue.trim()!='')){\r\n										 if(tdValueObjs[j].getAttribute(\"id\")){\r\n											  DIVHTML += tdValueObjs[j].nodeValue +\"</span>\";\r\n										 }\r\n									  }\r\n								  if(tdValueObjs[j].nodeType == 1 && tdValueObjs[j].nodeName=='TABLE'){\r\n										var tdTables = tdValueObjs[j].childNodes;\r\n										for(var k=0;k<tdTables.length;k++){\r\n										   if(tdTables[k].nodeType==1&&tdTables[k].nodeName == 'TBODY'){\r\n												var tdTrValues = tdTables[k].childNodes;\r\n												for(var m=0;m<tdTrValues.length;m++){\r\n													  if(tdTrValues[m].nodeType == 1 && tdTrValues[m].nodeName == 'TR'){\r\n														  var TdtdValues=tdTrValues[m].childNodes;\r\n														  for(var n=0;n<TdtdValues.length;n++){\r\n															  if(TdtdValues[n].nodeType == 1 && TdtdValues[n].nodeName == \"TD\"){\r\n																   if(TdtdValues[n].getAttribute(\"onclick\")){\r\n																	  var onclickVal = TdtdValues[n].getAttribute(\"onclick\");\r\n																	  DIVHTML  +=\"<td  width=\\\"65%\\\" class=\\\"detailValueTD\\\" onclick=\\\"\"+onclickVal+\"\\\">\";\r\n																   }else{\r\n																	  if(TdtdValues[n].childNodes[0].nodeName == 'SPAN'){\r\n																	  }else{\r\n																		 DIVHTML  +=\"<td  width=\\\"65%\\\" class=\\\"detailValueTD\\\">\";\r\n																	  }\r\n																   }\r\n																   var tdvals = TdtdValues[n].childNodes;\r\n																   var detailSpanCount = 0;\r\n																   var detailACount = 0;\r\n																   for(var o=0;o<tdvals.length;o++){\r\n																       if(tdvals[o].nodeType == 1){\r\n																          if(tdvals[o].nodeName == \"SPAN\"){\r\n																                detailSpanCount++;\r\n																          }\r\n																          if(tdvals[o].nodeName == \"A\"){\r\n																             detailACount ++;\r\n																          }  \r\n																       } \r\n																   }\r\n																   \r\n																   if(TdtdValues[n].getAttribute(\"id\")){ //\u6d4f\u89c8\u6846\u7684\u65f6\u5019Id\r\n																			 DIVHTML  +=\"<div id=\\\"\"+TdtdValues[n].getAttribute(\"id\")+\"_d\\\" groupid=\\\"\"+groupid+\"\\\" rowId=\\\"\"+rowId+\"\\\" columnId=\\\"\"+(elementCount-2)+\"\\\" style=\\\"margin-top:\"+(detailSpanCount==1?\"11\":\"0\")+\"px;\\\">\";\r\n																   }\r\n																   var spanDig = 0;\r\n																   var spanShowDigCount=0;\r\n																    for(var o=0;o<tdvals.length;o++){\r\n																         if(tdvals[o].nodeType == 1 && tdvals[o].nodeName == \"SPAN\"){//\u6d4f\u89c8\u6846\u7528\u4e8e\u663e\u793a\u7684span\r\n																                if(tdvals[o].getAttribute(\"keyid\")){\r\n																                    spanShowDigCount++;\r\n																                }\r\n																         }\r\n																    }\r\n																   for(var o=0;o<tdvals.length;o++){\r\n																		if(tdvals[o].nodeType == 1){\r\n																			if(tdvals[o].nodeName == \"SPAN\"){//\u6d4f\u89c8\u6846\u7528\u4e8e\u663e\u793a\u7684span\r\n																				if(tdvals[o].getAttribute(\"keyid\")){\r\n																				    var keyid =tdvals[o].getAttribute(\"keyid\");\r\n																				    if(spanShowDigCount ==1){\r\n																				         DIVHTML += \"<span keyid=\\\"\"+keyid+\"\\\">\"+tdvals[o].innerHTML+\"</span></div>\";\r\n																				    }else{\r\n																				        if(spanDig ==0){\r\n																					      DIVHTML += \"<span keyid=\\\"\"+keyid+\"\\\">\"+tdvals[o].innerHTML+\"</span>\";\r\n																					     }else if(spanDig==spanShowDigCount){\r\n																					        DIVHTML += \"<span keyid=\\\"\"+keyid+\"\\\">\"+tdvals[o].innerHTML+\"</span></div>\";     \r\n																					     }else{\r\n																					        DIVHTML += \"<span keyid=\\\"\"+keyid+\"\\\">\"+tdvals[o].innerHTML+\"</span>\";\r\n																					     }\r\n																				    }\r\n																					 spanDig++;\r\n																				}\r\n																			}\r\n																			if(tdvals[o].nodeName == \"A\"){ //\u6d4f\u89c8\u6846\u4e2d\u7684A\u6807\u7b7e\u6309\u94ae\r\n																				 var hrefVal = \"\";\r\n																				 var data_relVal = \"\";\r\n																				 var data_transitionVal = \"\";\r\n																				 if(tdvals[o].getAttribute(\"href\")){\r\n																					 hrefVal = tdvals[o].getAttribute(\"href\");\r\n																				 }\r\n																				 if(tdvals[o].getAttribute(\"data-rel\")){\r\n																					  data_relVal = tdvals[o].getAttribute(\"data-rel\");  \r\n																				 }\r\n																				 if(tdvals[o].getAttribute(\"data-transition\")){\r\n																					 data_transitionVal = tdvals[o].getAttribute(\"data-transition\");\r\n																				 }\r\n																				DIVHTML += \"<a style=\\\"float:left;\\\" herf=\\\"\"+hrefVal+\"\\\" \"+(data_transitionVal==\"\"?\"\":\"data-transition=\\\"\"+data_transitionVal+\"\\\"\")+\"  \"+(data_relVal == \"\"?\"data-rel=\\\"\":\"\"+data_relVal+\"\\\"\")+\" >\"; \r\n																				DIVHTML += tdvals[o].innerHTML;\r\n																				DIVHTML +=\"</a>\";\r\n																			}\r\n																			if(tdvals[o].nodeName == \"SELECT\"){\r\n																				 var tdObjs=tdvals[o];\r\n																				 var name=tdObjs.getAttribute(\"name\");\r\n																				 var id = tdObjs.getAttribute(\"id\");\r\n																				 var namebak = tdObjs.getAttribute(\"namebak\");\r\n																				 DIVHTML += \"<select onchange=\\\"onChangeClick(this,\"+isedit+\",\"+groupid+\",\"+rowId+\",\"+elementCount+\");try{maindetailfieldchange(this);}catch(e){}\\\"   class=\\\"scroller_select\\\" name=\\\"\"+name+\"_d\\\" id=\\\"\"+id+\"_d\\\" namebak=\\\"\"+namebak+\"\\\">\";\r\n																				  for(var p=0;p<tdObjs.options.length;p++){\r\n																						DIVHTML += \"<option value=\"+tdObjs.options[p].value+\" \"+(tdObjs.options[p].selected == true? \"selected\":\"\")+\">\";\r\n																						DIVHTML += tdObjs.options[p].innerText;\r\n																						DIVHTML +=\"</option>\";\r\n																				  }\r\n																				  DIVHTML += \"</select>\";\r\n																			}\r\n																			\r\n																			if(tdvals[o].nodeName == \"LABEL\"){\r\n																				  var tdObjs=tdvals[o];\r\n																				  var forVal=tdObjs.getAttribute(\"for\");\r\n																				    var htmlval = tdObjs.innerHTML;\r\n																				  DIVHTML +=  \"<label for=\\\"\"+forVal+\"\\\">\"+htmlval+\"</label>\";\r\n																			}\r\n																		   \r\n																			\r\n																			if(tdvals[o].nodeName == \"TEXTAREA\"){\r\n																				 var tdObjs=tdvals[o];\r\n																				 var cols = tdObjs.getAttribute(\"cols\");\r\n																				 var rows = tdObjs.getAttribute(\"rows\");\r\n																				 var name = tdObjs.getAttribute(\"name\");\r\n																				 var id = tdObjs.getAttribute(\"id\");\r\n																				 var namebak = tdObjs.getAttribute(\"namebak\");\r\n																				 var horizontalscrollpolicy = tdObjs.getAttribute(\"horizontalscrollpolicy\");\r\n																				 var verticalscrollpolicy = tdObjs.getAttribute(\"verticalscrollpolicy\");\r\n																				 \r\n																				  DIVHTML +=\"<textarea onchange=\\\"onChangeClick(this,\"+isedit+\",\"+groupid+\",\"+rowId+\",\"+elementCount+\");try{maindetailfieldchange(this);}catch(e){}\\\"  id=\\\"\"+id+\"_d\\\" style=\\\"height:100px;\\\"  name=\\\"\"+name+\"_d\\\" rows=\\\"\"+rows+\"\\\" cols=\\\"\"+cols+\"\\\" verticalscrollpolicy=\\\"\"+verticalscrollpolicy+\"\\\" horizontalscrollpolicy=\\\"\"+horizontalscrollpolicy+\"\\\"  namebak=\\\"\"+namebak+\"\\\"  >\"+tdObjs.value+\"</textarea>\";\r\n																			}\r\n																		\r\n																			if(tdvals[o].nodeName == \"INPUT\"){\r\n																				 var tdObjs=tdvals[o];\r\n																				 var idval=tdObjs.getAttribute(\"id\");\r\n																				 var type = tdObjs.getAttribute(\"type\");\r\n																				 var name = tdObjs.getAttribute(\"name\");\r\n																				  var namebak = tdObjs.getAttribute(\"namebak\");\r\n																				  var value = tdObjs.getAttribute(\"value\");\r\n																				  if(tdObjs.getAttribute(\"datavaluetype\")){\r\n																				   var datavaluetype = tdObjs.getAttribute(\"datavaluetype\");\r\n																					   if(datavaluetype == 3 ||datavaluetype == 5 ){ //\u6d6e\u70b9\u6570\u4e0e\u91d1\u989d\u5343\u5206\u4f4d\r\n																						 var reg =   eval(\"/\"+idval+\"/ig\");\r\n																						  var datatype = tdObjs.getAttribute(\"datatype\");\r\n																						  var datetype = tdObjs.getAttribute(\"datetype\");\r\n																						  var datalength = tdObjs.getAttribute(\"datalength\");\r\n																						  var onkeypress = tdObjs.getAttribute(\"onkeypress\");\r\n																						  onkeypress = onkeypress.replace(reg,idval+\"_d\");\r\n																						  var onblur= tdObjs.getAttribute(\"onblur\");\r\n																						  onblur =  onblur.replace(reg,idval+\"_d\");\r\n																						  if(datavaluetype == 5){\r\n																							var onfocus = tdObjs.getAttribute(\"onfocus\");\r\n																							onfocus = onfocus.replace(reg,idval+\"_d\");\r\n																						  }\r\n																						  var onchange=tdObjs.getAttribute(\"onchange\");\r\n																						  if(onchange){\r\n																							   var reg =   eval(\"/\"+idval+\"/ig\");\r\n																							  onchange = onchange.replace(reg,idval+\"_d\");\r\n																						  }else{\r\n																							 onchange = \"\";  \r\n																						  }\r\n																						  if(datavaluetype == 5){\r\n																							  DIVHTML += \"<input onfocus=\\\"\"+onfocus+\"\\\"   onblur=\\\"\"+onblur+\"\\\"  onkeypress=\\\"\"+onkeypress+\"\\\" datavaluetype=\\\"\"+datavaluetype+\"\\\" datalength=\\\"\"+datalength+\"\\\" datatype=\\\"\"+datatype+\"\\\" datetype=\\\"\"+datetype+\"\\\"  type=\\\"\"+type+\"\\\" id=\\\"\"+idval+\"_d\\\" name=\\\"\"+name+\"_d\\\" namebak=\\\"\"+namebak+\"\\\" value=\\\"\"+value+\"\\\" onchange=\\\"\"+onchange+\";onChangeClick(this,\"+isedit+\",\"+groupid+\",\"+rowId+\",\"+elementCount+\");\\\" />\"; \r\n																						  }else{\r\n																							  DIVHTML += \"<input onblur=\\\"\"+onblur+\"\\\"  onkeypress=\\\"\"+onkeypress+\"\\\" datavaluetype=\\\"\"+datavaluetype+\"\\\" datalength=\\\"\"+datalength+\"\\\" datatype=\\\"\"+datatype+\"\\\" datetype=\\\"\"+datetype+\"\\\"  type=\\\"\"+type+\"\\\" id=\\\"\"+idval+\"_d\\\" name=\\\"\"+name+\"_d\\\" namebak=\\\"\"+namebak+\"\\\" value=\\\"\"+value+\"\\\" onchange=\\\"\"+onchange+\";onChangeClick(this,\"+isedit+\",\"+groupid+\",\"+rowId+\",\"+elementCount+\");\\\" />\";\r\n																						  }\r\n																					   }else if(datavaluetype == 4){ //\u91d1\u989d\u5343\u5206\u4f4d\r\n																						  var reg =   eval(\"/\"+idval+\"/ig\");\r\n																						  var datatype = tdObjs.getAttribute(\"datatype\");\r\n																						  var datetype = tdObjs.getAttribute(\"datetype\");\r\n																						  var datalength = tdObjs.getAttribute(\"datalength\");\r\n																						  var onkeypress = tdObjs.getAttribute(\"onkeypress\");\r\n																						  var onblur= tdObjs.getAttribute(\"onblur\");\r\n																						   var onfocus = tdObjs.getAttribute(\"onfocus\");\r\n																						   if(idval.indexOf(\"lable\") >=0){\r\n																							   DIVHTML += \"<input onchange=\\\"onChangeClick(this,\"+isedit+\",\"+groupid+\",\"+rowId+\",\"+elementCount+\");\\\" onfocus=\\\"FormatToNumber('\"+onfocus.substring(onfocus.indexOf(\"'\")+1,onfocus.lastIndexOf(\"'\")).replace(/field_lable/ig,\"\")+\"_d')\\\" onblur=\\\"numberToFormat('\"+onblur.substring(onblur.indexOf(\"'\")+1,onblur.lastIndexOf(\"'\")).replace(/field_lable/ig,\"\")+\"_d');\\\" onkeypress=\\\"ItemNum_KeyPress('\"+onkeypress.substring(onkeypress.indexOf(\"'\")+1,onkeypress.lastIndexOf(\"'\"))+\"_d')\\\" value=\\\"\"+value+\"\\\" namebak=\\\"\"+namebak+\"\\\" id=\\\"\"+idval+\"_d\\\" name=\\\"\"+name+\"_d\\\" type=\\\"\"+type+\"\\\" datatype=\\\"\"+datatype+\"\\\" datetype=\\\"\"+datetype+\"\\\" datavaluetype=\\\"\"+datavaluetype+\"\\\" datalength=\\\"\"+datalength+\"\\\"  />\";    \r\n																							   DIVHTML += \"<BR>\";\r\n																						   }else{\r\n																							   DIVHTML +=  \"<input namebak=\\\"\"+namebak+\"\\\" datalength=\\\"\"+datalength+\"\\\" datavaluetype=\\\"\"+datavaluetype+\"\\\" datetype=\\\"\"+datetype+\"\\\" datatype=\\\"\"+datatype+\"\\\" type=\\\"\"+type+\"\\\" name=\\\"\"+name+\"_d\\\" id=\\\"\"+idval+\"_d\\\" value=\\\"\"+value+\"\\\" />\";\r\n																							   DIVHTML +=  \"<script language='javascript'> numberToFormat('\"+idval.replace(\"field\",\"\")+\"_d');<\\/script>\";\r\n																						   }\r\n																					   }else if(datavaluetype == 2){ //\u6574\u6570\r\n																							 var datatype = tdObjs.getAttribute(\"datatype\");\r\n																							 var datetype = tdObjs.getAttribute(\"datetype\");\r\n																							 var datalength = tdObjs.getAttribute(\"datalength\");\r\n																							 var onkeypress = tdObjs.getAttribute(\"onkeypress\");\r\n																							 DIVHTML += \"<input onchange=\\\"onChangeClick(this,\"+isedit+\",\"+groupid+\",\"+rowId+\",\"+elementCount+\");\\\"   value=\\\"\"+value+\"\\\" onblur=\\\"checknumber1(this);\\\" onkeypress=\\\"onkeypress('\"+onkeypress.substring(onkeypress.indexOf(\"'\")+1,onkeypress.lastIndexOf(\"'\"))+\"')\\\" type=\\\"\"+type+\"\\\" datatype=\\\"\"+datatype+\"\\\" datetype=\\\"\"+datetype+\"\\\" datavaluetype=\\\"\"+datavaluetype+\"\\\" datalength=\\\"\"+datalength+\"\\\" name=\\\"\"+name+\"_d\\\" id=\\\"\"+idval+\"_d\\\" namebak=\\\"\"+namebak+\"\\\" />\";\r\n																					   }else{\r\n																					   } \r\n																				  }else{\r\n																					 if(idval){\r\n																						if(idval.indexOf(\"chinglish\")>=0){\r\n																							DIVHTML +=  \"<input type=\\\"\"+type+\"\\\" name=\\\"\"+name+\"_d\\\" id=\\\"\"+idval+\"_d\\\" value=\\\"\"+value+\"\\\" readonly=\\\"readonly\\\" />\";\r\n																						}\r\n																						if(type == 'checkbox'){\r\n																							  var onchange = tdObjs.getAttribute(\"onchange\");\r\n																							  var disabledVal = \"\";\r\n																							  var sourceJs = \"\";\r\n																							  if(onchange){\r\n																							        var reg =   eval(\"/\"+idval+\"/ig\");\r\n																							       onchange = onchange.replace(reg,idval+\"_d\"); \r\n																								   sourceJs = \"var cks=document.getElementsByName('\"+idval+\"');for(var pk=0;pk<cks.length;pk++){if(cks[pk]){if(document.getElementById('\"+idval+\"').getAttribute('checked')&&document.getElementById('\"+idval+\"').getAttribute('checked')!='false'){cks[pk].setAttribute('value',1);}else{cks[pk].setAttribute('value',0);}}}\";\r\n																							  }else{\r\n																							     disabledVal = \"disabled\";    \r\n																							  }\r\n																							   var checkedVal =\"\" ;\r\n																								if(tdObjs.checked && tdObjs.getAttribute(\"checked\")!=\"false\"){\r\n																									checkedVal =\"checked\";\r\n																								}\r\n																							DIVHTML += \"<input onchange=\\\"\"+onchange+\";onChangeClick(this,\"+isedit+\",\"+groupid+\",\"+rowId+\",\"+elementCount+\");\"+sourceJs+\"\\\" \"+(checkedVal)+\"  name=\\\"\"+name+\"_d\\\" id=\\\"\"+idval+\"_d\\\" type=\\\"\"+type+\"\\\"  \"+disabledVal+\" />\"; \r\n																						}else{\r\n																						   if(tdObjs.getAttribute(\"onchange\")){\r\n																							  var onchange = tdObjs.getAttribute(\"onchange\");\r\n																							  var reg =   eval(\"/\"+idval+\"/ig\");\r\n																							  onchange = onchange.replace(reg,idval+\"_d\");\r\n																							  var classVal = tdObjs.getAttribute(\"class\");\r\n																							  if(classVal){\r\n																							       if(classVal == 'scroller_date'){ //\u65e5\u671f\r\n																							         	DIVHTML += \"<input onchange=\\\"\"+onchange+\";onChangeClick(this,\"+isedit+\",\"+groupid+\",\"+rowId+\",\"+elementCount+\");\\\" class=\\\"\"+classVal+\"\\\" type=\\\"\"+type+\"\\\" id=\\\"\"+idval+\"_d\\\" name=\\\"\"+name+\"_d\\\" namebak=\\\"\"+namebak+\"\\\" value=\\\"\"+value+\"\\\" readonly=\\\"readonly\\\" />\";\r\n																								        DIVHTML += \"<script language=\\\"javascript\\\">$('#\"+idval+\"_d').scroller({preset: 'date',dateFormat:'yy-mm-dd',theme: 'default',display: 'bottom', mode: 'scroller',endYear:2020,nowText:'\u4eca\u5929',setText:'\u786e\u5b9a',cancelText:'\u53d6\u6d88',monthText:'\u6708',yearText:'\u5e74',dayText:'\u65e5',showNow:true,dateOrder: 'yymmdd',onShow: moveDataTimeContorl});<\\/script>\";\r\n																							      }else if(classVal == 'scroller_time'){//\u65f6\u95f4\r\n						".toCharArray();
    _jsp_string247 = "_span\" >\r\n					          ".toCharArray();
    _jsp_string94 = "\r\n\r\n						</div>\r\n\r\n					".toCharArray();
    _jsp_string332 = "\r\n				</th>\r\n		".toCharArray();
    _jsp_string296 = "\r\n    if(rowindex<rows)\r\n        rowindex=rows;\r\n	".toCharArray();
    _jsp_string229 = "/>\r\n			 </td>".toCharArray();
    _jsp_string157 = "\r\n					<span onclick=\"showwfsigndetail(this, 'nblyp6');\" style=\"font-size:12px;color:#666666;\">&nbsp;&nbsp;\u663e\u793a&nbsp;&nbsp;</span><span id=\"nblyp6\" style=\"display:none;\">".toCharArray();
    _jsp_string115 = "\r\n									<option value=\"".toCharArray();
    _jsp_string162 = "\r\n						".toCharArray();
    _jsp_string158 = "</span>\r\n				".toCharArray();
    _jsp_string291 = "\r\n	<!--  \u884c\u5217\u89c4\u5219\u8ba1\u7b97 -->\r\n	  \r\n\r\n\r\n\r\n\r\n\r\n\r\n<script language=\"javascript\">\r\nfunction $G(identity, _document) {\r\n	return $GetEle(identity, _document);\r\n}\r\n/**\r\n * \u6839\u636e\u6807\u8bc6\uff08name\u6216\u8005id\uff09\u83b7\u53d6\u5143\u7d20\uff0c\u4e3b\u8981\u7528\u4e8e\u89e3\u51b3\u7cfb\u7edf\u4e2d\u5f88\u591a\u5143\u7d20\u6ca1\u6709id\u5c5e\u6027\uff0c\r\n * \u5374\u5728js\u4e2d\u4f7f\u7528document.getElementById(name)\u6765\u83b7\u53d6\u5143\u7d20\u7684\u95ee\u9898\u3002\r\n * @param identity name\u6216\u8005id\r\n * @return \u5143\u7d20\r\n */\r\nfunction $GetEle(identity, _document) {\r\n	var rtnEle = null;\r\n	if (_document == undefined || _document == null) _document = document;\r\n	\r\n	rtnEle = _document.getElementById(identity);\r\n	if (rtnEle == undefined || rtnEle == null) {\r\n		rtnEle = _document.getElementsByName(identity);\r\n		if (rtnEle.length > 0) rtnEle = rtnEle[0];\r\n		else rtnEle = null;\r\n	}\r\n	return rtnEle;\r\n}\r\n\r\nfunction parse_Float(i){\r\n	try{\r\n		i = parseFloat(i);\r\n		if((i+\"\")==(\"NaN\")){\r\n			return 0;\r\n		}else{\r\n			return i;\r\n		}\r\n	}catch(e){\r\n		return 0;\r\n	}\r\n}\r\n\r\nfunction toPrecision(aNumber,precision){\r\n	var temp1 = Math.pow(10,precision);\r\n	var temp2 = new Number(aNumber);\r\n    //QC79136 \u4e2d\u4fee\u6539\r\n	var returnVal = isNaN(Math.round(temp1*temp2) /temp1)?0:Math.round(temp1*temp2) /temp1;\r\n	try{\r\n		if(String(returnVal).indexOf(\"e\")>=0)return returnVal;\r\n	}catch(e){}\r\n	var valInt = (returnVal.toString().split(\".\")[1]+\"\").length;\r\n	if(aNumber == 0){\r\n		return  \"\";\r\n	}\r\n	if(valInt != precision){\r\n	    var lengInt = precision-valInt;\r\n		//\u5224\u65ad\u6dfb\u52a0\u5c0f\u6570\u4f4d0\u7684\u4e2a\u6570\r\n		if(lengInt == 1){\r\n			returnVal += \"0\";\r\n		}else if(lengInt == 2){\r\n			returnVal += \"00\";\r\n		}else if(lengInt == 3){\r\n			returnVal += \"000\";\r\n		}else if(lengInt < 0){\r\n			if(precision == 1){\r\n				returnVal += \".0\";\r\n			}else if(precision == 2){\r\n				returnVal += \".00\";\r\n			}else if(precision == 3){\r\n				returnVal += \".000\";\r\n			}else if(precision == 4){\r\n				returnVal += \".0000\";\r\n			}		\r\n		}		\r\n	}\r\n	return  returnVal;		\r\n}\r\n\r\nfunction changeToThousandsVal(sourcevalue){\r\n	sourcevalue = sourcevalue +\"\";\r\n	if(null != sourcevalue && 0 != sourcevalue){\r\n     if(sourcevalue.indexOf(\".\")<0)\r\n        re = /(\\d{1,3})(?=(\\d{3})+($))/g;\r\n    else\r\n        re = /(\\d{1,3})(?=(\\d{3})+(\\.))/g;\r\n		return sourcevalue.replace(re,\"$1,\");\r\n	}else{\r\n		return sourcevalue;\r\n	}\r\n}\r\n\r\n\r\n\r\n  function calSumPrice(){\r\n     var temv1;\r\n     var datalength = 2;\r\n     var evt = getEvent();\r\n".toCharArray();
    _jsp_string255 = "\" />\r\n					  ".toCharArray();
    _jsp_string392 = "\r\n		 }\r\n	}\r\n	\r\n	//\u4e3b\u8868\u4fe1\u606f\r\n	function getSignatureStatus() {\r\n		return ".toCharArray();
    _jsp_string357 = "\r\n					<input type=\"hidden\" id=\"rejectToNodeid\" name=\"rejectToNodeid\" value=\"\">\r\n					".toCharArray();
    _jsp_string292 = "\r\n}\r\n\r\nfunction calMainField(obj){\r\n    var rows=0;\r\n    var datalength = 2;\r\n    var rowindex =0;\r\n    ".toCharArray();
    _jsp_string69 = "\").value=toPrecision(sum,0);\r\n                  else\r\n                	  document.getElementById(\"field".toCharArray();
    _jsp_string240 = "\"/>\r\n				        <div id=\"isshow".toCharArray();
    _jsp_string360 = ";\r\n\r\n 	hiddenSpeechBtn();\r\n".toCharArray();
    _jsp_string375 = "\r\n		\r\n		if (url == \"/mobile/plugin/browser.jsp\") {\r\n			url = \"/mobile/plugin/1/browser.jsp\";\r\n		}\r\n		\r\n		var returnIdField = \"\";\r\n		var returnShowField = \"\";\r\n		var browserMethod = \"\";\r\n		var browserTypeId = \"\";\r\n		var customBrowType = \"\";\r\n		var joinFieldParamsStr = \"\";\r\n		var isMuti = \"\";\r\n		var linkhref = \"\";\r\n		\r\n		var paramsArray = data.split(\"&\");\r\n		for (var i=0; i<paramsArray.length; i++) {\r\n			var paramstr = paramsArray[i];\r\n			\r\n			var paramkv = paramstr.split(\"=\");\r\n			if (paramkv.length > 1) {\r\n				if (\"returnIdField\" == paramkv[0]) {\r\n					returnIdField = paramkv[1];\r\n				}\r\n				if (\"returnShowField\" == paramkv[0]) {\r\n					returnShowField = paramkv[1];\r\n				}\r\n				\r\n				if (\"method\" == paramkv[0]) {\r\n					browserMethod = paramkv[1];\r\n				}\r\n				if (\"isMuti\" == paramkv[0]) {\r\n					isMuti = paramkv[1];\r\n				}\r\n				if(\"joinFieldParams\" == paramkv[0]){\r\n				     joinFieldParamsStr = paramkv[1];\r\n				}\r\n				if(\"linkhref\" == paramkv[0]){\r\n					linkhref = paramkv[1];  \r\n				}\r\n			}\r\n		}\r\n		try{\r\n			if(window._isFnaSubmitRequestJs4MobileWf&&window.dt1_organizationtype&&window.dt1_organizationid){\r\n				var _browserMethod_old = browserMethod;\r\n		    	var _fieldID = \"\";\r\n		    	var _indexno = \"\";\r\n		    	var fieldIDArray = returnIdField.split(\"_\");\r\n		    	if(fieldIDArray!=null && fieldIDArray.length>=2){\r\n		    		_fieldID = fieldIDArray[0].replace(\"field\",\"\");\r\n		    		_indexno = fieldIDArray[1];\r\n		    	}\r\n		    	if(_fieldID!=\"\"&&_fieldID==dt1_organizationid){\r\n		    		var orgtype = jQuery(\"#field\"+dt1_organizationtype+\"_\"+_indexno).val();\r\n		    		\r\n					if(orgtype==\"0\"){\r\n						browserMethod=\"listUser\";\r\n					}else if(orgtype==\"1\"){\r\n						browserMethod=\"listDepartment\";\r\n					}else if(orgtype==\"2\"){\r\n						browserMethod=\"listSubCompany\";\r\n					}else if(orgtype==\"3\"){\r\n						browserMethod=\"listFnaCostCenter\";\r\n					}\r\n					try{\r\n						data=data.replace(\"&method=\"+_browserMethod_old+\"&\",\"&method=\"+browserMethod+\"&\");\r\n					}catch(ex2){}\r\n		    	}\r\n		    	if(_fieldID!=\"\"&&_fieldID==dt1_subject){\r\n					var orgtype = jQuery(\"#field\"+dt1_organizationtype+\"_\"+_indexno).val();\r\n					var orgid = jQuery(\"#field\"+dt1_organizationid+\"_\"+_indexno).val();\r\n\r\n					if(orgtype==\"0\"){\r\n						orgtype=\"3\";\r\n					}else if(orgtype==\"1\"){\r\n						orgtype=\"2\";\r\n					}else if(orgtype==\"2\"){\r\n						orgtype=\"1\";\r\n					}else if(orgtype==\"3\"){\r\n						orgtype=\"".toCharArray();
    _jsp_string265 = "\r\n					      ".toCharArray();
    _jsp_string47 = "\").attr(\"value\",\"0\");\r\n				       var defaultCount=".toCharArray();
    _jsp_string337 = "\r\n					</span>\r\n					<span id=\"".toCharArray();
    _jsp_string230 = "\r\n				<!-- <td class=\"detailCountTD\">\u5408\u8ba1</td>-->\r\n			".toCharArray();
    _jsp_string145 = " block ".toCharArray();
    _jsp_string245 = "\r\n					     ".toCharArray();
    _jsp_string179 = "(obj){\r\n        var nodenum = document.getElementById(\"nodenum".toCharArray();
    _jsp_string136 = "\" readonly=\"true\" nameBak=\"".toCharArray();
    _jsp_string294 = "')) temprow=parseInt(document.getElementById('nodenum".toCharArray();
    _jsp_string86 = "_span\")){\r\n						         document.getElementById(\"field".toCharArray();
    _jsp_string398 = ";\r\n	}\r\n	\r\n	function getRemarkString(){\r\n		//\u5fc5\u987b\u5bf9\u6362\u884c\u7b26\u4f5c\u4e8c\u6b21\u8f6c\u4e49\r\n		return \"".toCharArray();
    _jsp_string314 = ";\r\n               var datalength = 2;\r\n               //var datatype = \"float\";\r\n              // var datavaluetype = 0;\r\n               //for(i=0;i<detailrow;i++){\r\n                    //var fieldObj = document.getElementById(\"field".toCharArray();
    _jsp_string90 = "\").value=toPrecision(sum,datalength);\r\n								            try{\r\n								                numberToFormat(".toCharArray();
    _jsp_string34 = "\r\n\r\n						<div class=\"ui-body ui-body-d ui-view-corner ui-view-opacity\">\r\n						".toCharArray();
    _jsp_string391 = "&isMuti=0\");\r\n	         showDialog(url, datas);\r\n	      ".toCharArray();
    _jsp_string97 = "\r\n		<tr width=\"100%\" ".toCharArray();
    _jsp_string164 = "\r\n				".toCharArray();
    _jsp_string207 = "\"   />\r\n		<input type=\"hidden\" id=\"needAddRow".toCharArray();
    _jsp_string403 = "\";\r\n	}\r\n	\r\n	//\u5c06\u7b7e\u5b57\u610f\u89c1\u76f8\u5173\u653e\u5165\u8868\u5355\r\n	function setSign2Form(signtext, fieldHandWrittenCtx, fieldSpeechAppendCtx, markIdCtx, fieldSignAppendCtx) {\r\n		$(\"#userSignRemark\").html(null2string(signtext));\r\n		var indexFlag;\r\n		\r\n		//\u975e\u7a7a\u5224\u65ad\r\n		fieldHandWrittenCtx = null2string(fieldHandWrittenCtx);\r\n		//\u53bb\u6389\u540e\u8fb9\u7684\u6587\u4ef6\u540d\u79f0\r\n		indexFlag = fieldHandWrittenCtx.indexOf(\";\");\r\n		if(indexFlag > 0){\r\n			fieldHandWrittenCtx = fieldHandWrittenCtx.substr(0, indexFlag);\r\n		}\r\n		$(\"#fieldHandWritten\").val(fieldHandWrittenCtx);\r\n		\r\n		//\u975e\u7a7a\u5224\u65ad\r\n		fieldSpeechAppendCtx = null2string(fieldSpeechAppendCtx);\r\n		//\u53bb\u6389\u540e\u8fb9\u7684\u6587\u4ef6\u540d\u79f0\r\n		indexFlag = fieldSpeechAppendCtx.indexOf(\";\");\r\n		if(indexFlag > 0){\r\n			fieldSpeechAppendCtx = fieldSpeechAppendCtx.substr(0, indexFlag);\r\n		}\r\n		$(\"#fieldSpeechAppend\").val(fieldSpeechAppendCtx);\r\n		\r\n		//\u8bbe\u7f6e\u7b7e\u5b57\u610f\u89c1\u4e2d\u7684\u9644\u4ef6\u4e0a\u4f20\r\n		addSignatureAppendfix(fieldSignAppendCtx);\r\n	}\r\n	\r\n	function getRemarkUrl(lastLogId) {\r\n		return \"/mobile/plugin/1/workflowSign4Separation.jsp?\" + getUrlParamByLastLogId(lastLogId);\r\n	}\r\n	\r\n	function inputRemarksign() {\r\n		var url = \"emobile:inputRemarksign\";			\r\n    	location = url; \r\n	} \r\n	\r\n	function addSignatureAppendfix(strDataKeyStr){\r\n		try{\r\n			var strFrag = \"\";\r\n			//\u5c06\u591a\u4e2a\u56fe\u7247\u9644\u4ef6\u5206\u9694\uff0c\u5e76\u9010\u4e00\u5c06\u6570\u636e\u8bbe\u7f6e\u5230\u9690\u85cf\u8868\u5355\u57df\u4e2d\u3002\r\n			var arrDataKeys = strDataKeyStr.split(\",\");\r\n			for(var i = 0; i<arrDataKeys.length; i++){\r\n				var tempStr = arrDataKeys[i];\r\n				var j = tempStr.indexOf(\";\");\r\n				if(j > 0){\r\n					var dataKey = tempStr.substr(0, j);\r\n					var appendFileName = tempStr.substr((j+1));\r\n					strFrag += \"<input type='hidden' id='fieldSignAppend_\" + i + \"' name='fieldSignAppend_\" + i + \"' value='\" + dataKey + \"' > &nbsp;&nbsp;\";\r\n					strFrag += \"<input type='hidden' id='fieldSignAppendName_\" + i + \"' name='fieldSignAppendName_\" + i + \"' value='\" + appendFileName + \"' > &nbsp;&nbsp;\";\r\n				}\r\n			}\r\n			\r\n			strFrag += \"<input type='hidden' id='cntFieldSignAppends' name='cntFieldSignAppends' value='\" + i + \"' > &nbsp;&nbsp;\";\r\n			\r\n			$(\"#fieldSignAppendfix\").html(strFrag);\r\n		}catch(e){\r\n			\r\n		}\r\n	}\r\n	\r\n	function delSignatrueAppendfix(docID){\r\n		var fieldSignAppendfix = jQuery(\"#fieldSignAppendfix\").val();\r\n		fieldSignAppendfix = fieldSignAppendfix.replace(docID, \"\");\r\n		jQuery(\"#fieldSignAppendfix\").val(fieldSignAppendfix);\r\n	}\r\n</script>\r\n\r\n\r\n".toCharArray();
    _jsp_string341 = "_span_d\" >\r\n					</span>\r\n					 <input type=\"hidden\" fieldType=\"1\"   id=\"field".toCharArray();
    _jsp_string176 = "	\r\n".toCharArray();
    _jsp_string271 = ");return false;\" href=\"#\"></a>\r\n			  </td>\r\n			</tr>\r\n		      <tr width=\"100%\"  id=\"trspace".toCharArray();
    _jsp_string119 = "\r\n								</select>\r\n							\r\n								<script type=\"text/javascript\" >\r\n									fieldIdRemindType = \"".toCharArray();
    _jsp_string32 = "\"/>\r\n					<input type=\"hidden\" id=\"serverver\" name=\"serverver\" value=\"".toCharArray();
    _jsp_string311 = "\r\n       try{\r\n           if(document.getElementById(\"nodenum".toCharArray();
    _jsp_string177 = "\r\n<div class=\"blockHead\" id=\"detailforminfoDivHead\">\r\n	<span class=\"m-l-14\">\u6d41\u7a0b\u660e\u7ec6</span>\r\n</div>\r\n\r\n<div class=\"tblBlock\" style=\"width:100%;background:#fff;min-height:25px;padding-bottom:5px;padding-top:5px;\" id=\"detailforminfoDiv\">\r\n".toCharArray();
    _jsp_string112 = "\r\n										}\r\n									}\r\n								-->\r\n								</SCRIPT>\r\n								<select   class=\"scroller_select\" name=\"".toCharArray();
    _jsp_string387 = ");\r\n	}\r\n		\r\n	function doreject(_this){\r\n		return doreject2(_this, ".toCharArray();
    _jsp_string28 = "\" />\r\n					<input type=\"hidden\" id=\"method2\" name=\"method2\" value=\"".toCharArray();
    _jsp_string231 = "\r\n				<td   id=\"detailRowNum".toCharArray();
    _jsp_string122 = "\" class=\"custom\" ".toCharArray();
    _jsp_string209 = "\" cellspacing=\"0\" cellpadding=\"0\" width=\"100%\" class=\"mainFormTable\"  >\r\n		 <tbody id=\"detailInfo".toCharArray();
    _jsp_string143 = "\"\r\n						style=\"display:".toCharArray();
    _jsp_string156 = "\r\n						</select>\r\n					</div>\r\n			".toCharArray();
    _jsp_string10 = "\";\r\n	var cj_bohaiLeave11_2 = \"".toCharArray();
    _jsp_string155 = "\r\n								</option>\r\n							".toCharArray();
    _jsp_string215 = "\r\n			      <th class=\"detailFormIndexTDValue detailRightTableBorder\" width=\"0%\" style=\"display:none;\" >\r\n			      </th> \r\n			   ".toCharArray();
    _jsp_string365 = "\r\n\r\n});\r\n\r\nfunction hiddenSpeechBtn(){\r\n	if(flagHiddenSpeechBtn){\r\n		var divSpeechs = document.getElementsByName(\"divSpeechDisplay\");\r\n		if(divSpeechs != null && divSpeechs != undefined){\r\n			for(var i = 0; i< divSpeechs.length; i++){\r\n				divSpeechs[i].style.display = \"none\";\r\n			}\r\n		}\r\n	}\r\n}\r\n\r\njQuery(function(){\r\n	var nativeUrl = \"emobile:PageFinishLoad\";\r\n	location = nativeUrl; \r\n})\r\n</script>\r\n\r\n<link rel=\"stylesheet\" href=\"/mobile/plugin/css/mobile_wev8.css\" type=\"text/css\">\r\n<!-- workflow \u4e13\u7528  -->\r\n<script type=\"text/javascript\" src=\"/mobile/plugin/1/js/workflow_wev8.js\"></script>\r\n<script type=\"text/javascript\" src=\"/mobile/plugin/1/js/view_wev8.js\"></script>\r\n<!--\u5f39\u51fa\u6846-->\r\n<script type=\"text/javascript\" src=\"/js/mylibs/asyncbox/AsyncBox.v1.4_wev8.js\"></script>\r\n<link rel=\"stylesheet\" href=\"/js/mylibs/asyncbox/skins/ZCMS/asyncbox_wev8.css\">\r\n<!--\u65e5\u671f\u65f6\u95f4\u63a7\u4ef6-->\r\n<link rel=\"stylesheet\" href=\"/mobile/plugin/widget/mobiscroll/mobiscroll.min_wev8.css\">\r\n<script type=\"text/javascript\" src=\"/mobile/plugin/widget/mobiscroll/mobiscroll.min_wev8.js\"></script>\r\n\r\n<!-- \u5bcc\u6587\u672c -->\r\n<script type=\"text/javascript\" src=\"/weaverEditor/kindeditor_wev8.js\"></script>\r\n<script type=\"text/javascript\" src=\"/mobile/plugin/1/js/wfUtil_wev8.js\"></script>\r\n<!--\u5ba2\u6237\u81ea\u5b9a\u4e49js-->\r\n   <script type=\"text/javascript\" src=\"/mobile/plugin/custom/custion_wev8.js\"></script>\r\n\r\n<!-- \u62bd\u51fa -->\r\n<script type=\"text/javascript\" src=\"/mobile/plugin/1/js/view/1_wev8.js\"></script>\r\n<script type=\"text/javascript\" src=\"/mobile/plugin/1/js/view/htmlAttr_wev8.js\"></script>\r\n\r\n<script type=\"text/javascript\">\r\n\r\n   \r\n    function  coverData(itemData)\r\n	{\r\n	  if(!itemData)\r\n		  return itemData;\r\n	  itemData=itemData.replace(/&quotforjson;/g,\"&quot;\");\r\n	  itemData=itemData.replace(/&gtforjson;/g,\"&gt;\");\r\n	  itemData=itemData.replace(/&ltforjson;/g,\"&lt;\");\r\n	  return itemData;\r\n	\r\n	}\r\n  \r\n    //\u5192\u6ce1\u6392\u5e8f\r\n    function  bubleSort(sortArray){\r\n\r\n              var length=sortArray.length;\r\n              var temp;\r\n              for(var i=0;i<length;i++)\r\n				for(var j=0;j<length-i-1;j++)\r\n				{\r\n					if(JSON.parse(sortArray[j]).filecreatetime>JSON.parse(sortArray[j+1]).filecreatetime)\r\n					{\r\n						temp= sortArray[j];\r\n						sortArray[j]=sortArray[j+1];\r\n						sortArray[j+1]=temp;\r\n					}\r\n				}\r\n       }\r\n\r\n\r\n\r\n    //\u83b7\u53d6\u6240\u6709\u7684\u6587\u6863\u8d44\u6e90\r\n	function getAllAttachmentsData() {\r\n        var str=\"\";\r\n        var itemarray=[];\r\n		var fileurl=\"\";\r\n        var filetitle=\"\";\r\n		var fileauthor=\"\";\r\n		var filecreatetime=\"\";\r\n		var fileid=\"\";\r\n		var excludearray=[];\r\n		var isinflag=false;\r\n		for(var i=0;i<formcontainattachs.length;i++)\r\n		{\r\n          isinflag=true;\r\n\r\n          for(var j=0;j<excludearray.length;j++)\r\n		  {\r\n		     if(excludearray[j]===formcontainattachs[i].fileid)\r\n			 {\r\n                isinflag=false;\r\n			    break;\r\n			 }\r\n		  }\r\n\r\n		  if(!isinflag)\r\n			  continue;\r\n        \r\n		  filetitle=formcontainattachs[i].filetitle?formcontainattachs[i].filetitle:\"\";\r\n\r\n          if(filetitle===\"\")\r\n               continue;\r\n\r\n          excludearray.push(formcontainattachs[i].fileid);\r\n          \r\n		  fileauthor=formcontainattachs[i].fileauthor?formcontainattachs[i].fileauthor:\"\";\r\n		  filecreatetime=formcontainattachs[i].filecreatetime?formcontainattachs[i].filecreatetime:\"\";\r\n\r\n          filetitle=coverData(filetitle);\r\n		  fileauthor=coverData(fileauthor);\r\n\r\n\r\n		  str=\"{\\\"filetitle\\\":\\\"\"+filetitle+\"\\\",\";\r\n		  str=str+\"\\\"fileauthor\\\":\\\"\"+fileauthor+\"\\\",\";\r\n		  str=str+\"\\\"filecreatetime\\\":\\\"\"+filecreatetime+\"\\\",\";\r\n		  str=str+\"\\\"fileid\\\":\\\"\"+formcontainattachs[i].fileid+\"\\\",\";\r\n		  \r\n         if(formcontainattachs[i].filetype===\"0\"  ||  formcontainattachs[i].filetype===0)\r\n		  {	\r\n\r\n			  fileurl=\"/mobile/plugin/2/view.jsp?detailid=\"+formcontainattachs[i].fileid+\"&module=\" + js_module + \"&scope=\" + js_scope + \"&fromWF=true&requestid=\" + js_requestid + \"&fromRequestid=\" + js_fromRequestid + \"&showAll=true&clientver=\" + js_clientVer;\r\n          }else if(formcontainattachs[i].filetype===\"1\"  ||  formcontainattachs[i].filetype===1)\r\n		  { \r\n		      fileurl=\"/download.do?fileid=\"+formcontainattachs[i].fileid+\"&filename=\"+filetitle+\"&fromWF=true&requestid=\" + js_requestid +\"&module=\" + js_module + \"&scope=\" + js_scope + \"\";\r\n		  }\r\n\r\n          str=str+\"\\\"fileurl\\\":\\\"\"+fileurl+\"\\\",\";\r\n         \r\n          str=str+\"\\\"filetype\\\":\\\"\"+formcontainattachs[i].filetype+\"\\\"}\";\r\n		  \r\n		  itemarray.push(str);\r\n		}\r\n         \r\n        bubleSort(itemarray);\r\n\r\n	    return \"{\\\"fileattach\\\":[\"+itemarray.join(\",\")+\"]}\";\r\n	}\r\n	\r\n	\r\n	window.onscroll = function(){\r\n		bodyScrollLeft = document.body.scrollLeft;\r\n	}\r\n	\r\n	var ckInterval = null;\r\n	$(document).ready(function () {\r\n		".toCharArray();
    _jsp_string2 = "\";\r\n	var ectSignWrod = \"".toCharArray();
    _jsp_string214 = "\r\n			   </th>\r\n			   ".toCharArray();
    _jsp_string150 = " >\r\n							<option value=\"\" ".toCharArray();
    _jsp_string241 = "\">\r\n				          ".toCharArray();
    _jsp_string146 = ";width:100%;\">\r\n						<select id=\"".toCharArray();
    _jsp_string23 = "\";\r\n	var js_isBill = \"".toCharArray();
    _jsp_string268 = "\r\n				</td>\r\n						".toCharArray();
    _jsp_string256 = "\r\n						      ".toCharArray();
    _jsp_string216 = "\r\n		".toCharArray();
    _jsp_string343 = "\r\n			</tr>\r\n		".toCharArray();
    _jsp_string142 = "\r\n					<div id=\"".toCharArray();
    _jsp_string82 = "_span\")){\r\n							    document.getElementById(\"field".toCharArray();
    _jsp_string124 = "\" />&nbsp;</label>\r\n								</div>\r\n								<script type=\"text/javascript\" language=\"javascript\">\r\n									fieldIdRemindBeforeStart = \"#".toCharArray();
    _jsp_string7 = "!\";\r\n	var cj_bohaiLeave2_1 = \"".toCharArray();
    _jsp_string318 = "\r\n});\r\n\r\n	 //\u9a8c\u8bc1\u662f\u5426\u9009\u62e9\u4e3a\u5fc5\u987b\u65b0\u589e\u7684\r\nfunction  needAddRow(){\r\n	var messageInfo = \"\";\r\n    var tableCount = ".toCharArray();
    _jsp_string8 = "\";\r\n	var cj_bohaiLeave2_2 = \"".toCharArray();
    _jsp_string53 = "\r\n			if(document.getElementById(\"sum".toCharArray();
    _jsp_string372 = "&pagesize=9999&pageindex=0&userid=".toCharArray();
    _jsp_string95 = "\r\n						\r\n\r\n\r\n\r\n\r\n\r\n\r\n".toCharArray();
    _jsp_string85 = "\").value=changeToThousandsVal(toPrecision(sum,datalength)); \r\n							}\r\n						}else{\r\n						     if(document.getElementById(\"field".toCharArray();
    _jsp_string368 = "\r\n		flagForwardReceiver = \"".toCharArray();
    _jsp_string186 = "&isdisplay=".toCharArray();
    _jsp_string260 = "\" >\r\n					  ".toCharArray();
    _jsp_string232 = "\" class=\"detailValueTD\">".toCharArray();
    _jsp_string210 = "\" >\r\n			<tr>\r\n				".toCharArray();
    _jsp_string154 = ">\r\n									".toCharArray();
    _jsp_string233 = "</td>\r\n			".toCharArray();
    _jsp_string313 = "\").value;\r\n               var sumvalue = ".toCharArray();
    _jsp_string106 = "\" style=\"width:99%;white-space:normal;display:".toCharArray();
    _jsp_string401 = "\";\r\n	}\r\n	//\u7535\u5b50\u7b7e\u7ae0\u662f\u5426\u542f\u7528\r\n	function isFormSignature() {\r\n		return ".toCharArray();
    _jsp_string77 = "_span\").innerHTML=toPrecision(sum,0);\r\n						   }\r\n						   if(document.getElementById(\"field".toCharArray();
    _jsp_string220 = ";\r\n		       for(var s=0;s<lengthVar;s++){\r\n			       addRow".toCharArray();
    _jsp_string37 = "\r\n		var hiddenEditDiv=jQuery(\"div[name='hiddenEditdiv']\");\r\n		hiddenEditDiv.each(function(){\r\n			var editHtml=jQuery(this).html();\r\n			var currentTd=jQuery(this).closest(\"td\");\r\n			currentTd.html(editHtml);\r\n			if(!!currentTd.parent().attr(\"onclick\")){\r\n				currentTd.parent().removeAttr(\"onclick\");\r\n			}\r\n		});\r\n	".toCharArray();
    _jsp_string236 = "\r\n				      ".toCharArray();
    _jsp_string175 = "\r\n".toCharArray();
    _jsp_string281 = "\r\n    		     <script language=\"javascript\">\r\n		            document.getElementById(\"nodenum".toCharArray();
    _jsp_string290 = "\r\n		</table>\r\n	</div>\r\n	".toCharArray();
    _jsp_string228 = "\"  ".toCharArray();
    _jsp_string244 = "\r\n				   ".toCharArray();
    _jsp_string67 = "\").getAttribute(\"datalength\");\r\n                  if($GetEle(\"field".toCharArray();
    _jsp_string169 = "\r\n					<!-- <span id=\"".toCharArray();
    _jsp_string374 = "\r\n		//\u5982\u679c\u662f\u624b\u673aHtml\u6a21\u5f0f\uff0c\u9700\u8981\u5bf9\u6d4f\u89c8\u6309\u94ae\u4e2d\u7684\u5f39\u51fa\u6846\u5730\u5740\u4f5c\u4fee\u6539\u3002\r\n			url = \"/mobile/plugin/browser.jsp\";\r\n		".toCharArray();
    _jsp_string328 = "\" >\r\n			<tr>\r\n				<th class=\"detailFormIndexTD\" style=\"border-width:".toCharArray();
    _jsp_string276 = "\" class=\"detailTableSplitLine\"></td>\r\n			</tr>\r\n		".toCharArray();
    _jsp_string20 = "\";\r\n	var js_clientVer = \"".toCharArray();
    _jsp_string400 = "\r\n		return \"".toCharArray();
    _jsp_string131 = "\" />\r\n								<script type=\"text/javascript\" language=\"javascript\">\r\n									fieldIdRemindTimesBeforeEnd = \"#".toCharArray();
    _jsp_string74 = "_span\").innerHTML=\"\";\r\n					}else{\r\n						if(document.getElementById(\"field".toCharArray();
    _jsp_string219 = "\").value = 0;\r\n		       var lengthVar=".toCharArray();
    _jsp_string199 = "\r\n	</div>\r\n	<div name=\"detailTableDiv\" style=\"overflow-x:auto;width:100%;\"  ".toCharArray();
    _jsp_string273 = "\" id=\"tdspace".toCharArray();
    _jsp_string166 = "\r\n					<input type=\"hidden\" id='vdcontent".toCharArray();
    _jsp_string361 = "\r\n\r\n	//\u5982\u679c\u5f53\u524d\u8868\u5355\u4e0d\u53ef\u7f16\u8f91 \u6216\u8005 \u662f\u975e\u5ba2\u6237\u7aef\u767b\u5f55\u65b9\u5f0f\uff0c\u9700\u5bf9\u9644\u4ef6\u4e0a\u4f20\u7c7b\u578b\u5b57\u6bb5\u4e2d\u5404\u9644\u4ef6\u4e4b\u540e\u7684\u5220\u9664\u6309\u94ae\u4f5c\u5220\u9664\u3002\r\n	var flagDelAppendix = ".toCharArray();
    _jsp_string68 = "\").getAttribute(\"datatype\")==\"int\")\r\n                	  document.getElementById(\"field".toCharArray();
    _jsp_string399 = "\";\r\n	}\r\n	\r\n	function getWorkflowPhrases() {\r\n		".toCharArray();
    _jsp_string317 = "\").innerHTML = toPrecision(sumvalue,datalength);\r\n              // }\r\n            }\r\n        }catch(e){}\r\n     ".toCharArray();
    _jsp_string404 = " \r\n".toCharArray();
    _jsp_string380 = "\r\n	function doLeftButton() {\r\n		if (".toCharArray();
    _jsp_string160 = "' value='".toCharArray();
    _jsp_string117 = " > ".toCharArray();
    _jsp_string111 = "\r\n												$(fieldIdRemindBeforeStart)[0].checked = true;\r\n												$(fieldIdRemindBeforeEnd)[0].checked = true;\r\n												$(fieldIdRemindTimesBeforeStart)[0].value = 10;\r\n												$(fieldIdRemindTimesBeforeEnd)[0].value = 10;\r\n											".toCharArray();
    _jsp_string249 = "\r\n						   ".toCharArray();
    _jsp_string336 = "\" >\r\n					<span id=\"".toCharArray();
    _jsp_string18 = "\";\r\n	var js_nodeid = \"".toCharArray();
    _jsp_string354 = "\" />\r\n\r\n				\r\n					<input type=\"hidden\" id=\"forwardresourceids\" name=\"forwardresourceids\"/>\r\n					<input type=\"hidden\" id=\"forwardresourceids2\" name=\"forwardresourceids2\"/>\r\n					<input type=\"hidden\" id=\"forwardresourceids3\" name=\"forwardresourceids3\"/>\r\n					".toCharArray();
    _jsp_string144 = " none ".toCharArray();
    _jsp_string385 = "&trg=\"+parfield;\r\n		dataInput2(parfield, strFieldName, strData);\r\n	}\r\n	\r\n	function isNeedAffirmance() {\r\n		return ".toCharArray();
    _jsp_string347 = "\");\r\n  }catch(e){}\r\n  	jQuery(function(){\r\n	     if(clienttype=='iPhone'||clienttype == \"iPad\"||clienttype==\"Webclient\"){\r\n	         $(\".mainFromSplitLine\").html(\"<div style='height:0px;'>&nbsp;</div>\");\r\n	         $(\".detailLeftTableBorder\").append(\"&nbsp;\");\r\n	         $(\".detailValueTD\").append(\"&nbsp;\");\r\n	         $(\".detailCountTDValue\").append(\"&nbsp;\"); \r\n	     }\r\n	});\r\n</script>\r\n						".toCharArray();
    _jsp_string323 = "    detailSpanCount ++;\r\n	                                                                  }\r\n	                                                            }\r\n	                                                           if(TdtdValues[n].getAttribute(\"id\")){ //\u6d4f\u89c8\u6846\u7684\u65f6\u5019Id\r\n                                                                     DIVHTML  +=\"<div id=\\\"\"+TdtdValues[n].getAttribute(\"id\")+\"_d\\\" groupid=\\\"\"+groupid+\"\\\" rowId=\\\"\"+rowId+\"\\\" columnId=\\\"\"+(elementCount-2)+\"\\\" style=\\\"margin-top:\"+(detailSpanCount==1?\"11\":\"0\")+\"px;\\\">\";\r\n															   }\r\n															   var spanDig = 0;\r\n															   var spanDigCount=0;\r\n															   for(var o=0;o<tdvals.length;o++){\r\n															         if(tdvals[o].nodeType == 1 && tdvals[o].nodeName == \"SPAN\"){\r\n															                spanDigCount ++;\r\n															         }\r\n															   }\r\n	                                                           for(var o=0;o<tdvals.length;o++){\r\n	                                                                if(tdvals[o].nodeType == 1){\r\n	                                                                    if(tdvals[o].nodeName == \"SPAN\"){//\u6d4f\u89c8\u6846\u7528\u4e8e\u663e\u793a\u7684span\r\n	                                                                        if(tdvals[o].getAttribute(\"keyid\")){\r\n	                                                                            var keyid =tdvals[o].getAttribute(\"keyid\");\r\n	                                                                            if(spanDigCount ==1){\r\n	                                                                               DIVHTML += \"<span keyid=\\\"\"+keyid+\"\\\" >\"+tdvals[o].innerHTML+\"</span></div>\";\r\n	                                                                            }else{\r\n	                                                                                if(spanDig ==0){\r\n	                                                                                   DIVHTML += \"<span keyid=\\\"\"+keyid+\"\\\" >\"+tdvals[o].innerHTML+\"</span></br>\";\r\n	                                                                                }else if(spanDig == spanDigCount){\r\n	                                                                                   DIVHTML += \"<span keyid=\\\"\"+keyid+\"\\\" >\"+tdvals[o].innerHTML+\"</span></div>\";\r\n	                                                                                }else{\r\n	                                                                                   DIVHTML += \"<span keyid=\\\"\"+keyid+\"\\\" >\"+tdvals[o].innerHTML+\"</span></br>\";\r\n	                                                                                }\r\n	                                                                            }\r\n	                                                                            spanDig ++;  \r\n	                                                                        }\r\n	                                                                    }\r\n	                                                                    if(tdvals[o].nodeName == \"A\"){ //\u6d4f\u89c8\u6846\u4e2d\u7684A\u6807\u7b7e\u6309\u94ae\r\n	                                                                         var hrefVal = \"\";\r\n	                                                                         var data_relVal = \"\";\r\n	                                                                         var data_transitionVal = \"\";\r\n                                                                             DIVHTML += \"<a style=\\\"float:left;\\\"\";\r\n	                                                                         if(tdvals[o].getAttribute(\"href\")){\r\n	                                                                             hrefVal = tdvals[o].getAttribute(\"href\");\r\n																				 DIVHTML += \" herf=\\\"\"+hrefVal+\"\\\"\";\r\n	                                                                         }\r\n	                                                                         if(tdvals[o].getAttribute(\"data-rel\")){\r\n	                                                                              data_relVal = tdvals[o].getAttribute(\"data-rel\"); \r\n																				  DIVHTML += \" data-rel=\\\"\"+data_relVal+\"\\\"\";\r\n	                                                                         }\r\n	                                                                         if(tdvals[o].getAttribute(\"data-transition\")){\r\n	                                                                             data_transitionVal = tdvals[o].getAttribute(\"data-transition\");\r\n																				  DIVHTML += \" data-transition=\\\"\"+data_transitionVal+\"\\\"\";\r\n	                                                                         }\r\n	                                                                        DIVHTML += \">\"+tdvals[o].innerHTML;\r\n	                                                                        DIVHTML +=\"</a>\";\r\n	                                                                        if(aspanCount>1){\r\n	                                                                           DIVHTML +=\"<br>\";\r\n	                                                                        }\r\n	                                                                    }\r\n	                                                                    if(tdvals[o].nodeName == \"SELECT\"){\r\n	                                                                         var tdObjs=tdvals[o];\r\n	                                                                         var name=tdObjs.getAttribute(\"name\");\r\n	                                                                         var id = tdObjs.getAttribute(\"id\");\r\n	                                                                         var namebak = tdObjs.getAttribute(\"namebak\");\r\n	                                                                          DIVHTML += \"<select onchange=\\\"onChangeClick(this,\"+isedit+\",\"+groupid+\",\"+rowId+\",\"+elementCount+\");try{maindetailfieldchange(this);}catch(e){}\\\"   class=\\\"scroller_select\\\" name=\\\"\"+name+\"_d\\\" id=\\\"\"+id+\"_d\\\" namebak=\\\"\"+namebak+\"\\\">\";\r\n	                                                                          var selectNameVal = \"\";\r\n	                                                                          for(var p=0;p<tdObjs.options.length;p++){\r\n	                                                                                DIVHTML += \"<option value=\"+tdObjs.options[p].value+\" \"+(tdObjs.options[p].selected == true? \"selected\":\"\")+\">\";\r\n	                                                                                DIVHTML += tdObjs.options[p].innerText;\r\n	                                                                                DIVHTML +=\"</option>\";\r\n	                                                                                if(tdObjs.options[p].selected){\r\n	                                                                                   selectNameVal+=tdObjs.options[p].innerText;\r\n	                                                                                }\r\n	                                                                          }\r\n	                                                                          DIVHTML += \"</select>\";\r\n	                                                                    }\r\n	                                                                    \r\n	                                                                    if(tdvals[o].nodeName == \"LABEL\"){\r\n	                                                                          var tdObjs=tdvals[o];\r\n	                                                                          var forVal=tdObjs.getAttribute(\"for\");\r\n	                                                                          var htmlval = tdObjs.innerHTML;\r\n																				  DIVHTML +=  \"<label for=\\\"\"+forVal+\"\\\">\"+htmlval+\"</label>\";\r\n	                                                                    }\r\n	                                                                   \r\n	                                                                    \r\n	                                                                    if(tdvals[o].nodeName == \"TEXTAREA\"){\r\n	                                                                         var tdObjs=tdvals[o];\r\n	                                                                         var cols = tdObjs.getAttribute(\"cols\");\r\n	                                                                         var rows = tdObjs.getAttribute(\"rows\");\r\n	                                                                         var name = tdObjs.getAttribute(\"name\");\r\n	                                                                         var id = tdObjs.getAttribute(\"id\");\r\n	                                                                         var namebak = tdObjs.getAttribute(\"namebak\");\r\n	                                                                         var horizontalscrollpolicy = tdObjs.getAttribute(\"horizontalscrollpolicy\");\r\n	                                                                         var verticalscrollpolicy = tdObjs.getAttribute(\"verticalscrollpolicy\");\r\n	                                                                         \r\n	                                                                         DIVHTML +=\"<textarea onchange=\\\"onChangeClick(this,\"+isedit+\",\"+groupid+\",\"+rowId+\",\"+elementCount+\");try{maindetailfieldchange(this);}catch(e){}\\\"  id=\\\"\"+id+\"_d\\\"  name=\\\"\"+name+\"_d\\\" style=\\\"height:100px;\\\"  rows=\\\"\"+rows+\"\\\" cols=\\\"\"+cols+\"\\\" verticalscrollpolicy=\\\"\"+verticalscrollpolicy+\"\\\" horizontalscrollpolicy=\\\"\"+horizontalscrollpolicy+\"\\\"  namebak=\\\"\"+namebak+\"\\\"  >\"+tdObjs.value+\"</textarea>\";\r\n	                                                                    }\r\n	                                                                \r\n	                                                                    if(tdvals[o].nodeName == \"INPUT\"){\r\n	                                                                         var tdObjs=tdvals[o];\r\n	                                                                         var idval=tdObjs.getAttribute(\"id\");\r\n	                                                                         var type = tdObjs.getAttribute(\"type\");\r\n	                                                                         var name = tdObjs.getAttribute(\"name\");\r\n	                                                                          var namebak = tdObjs.getAttribute(\"namebak\");\r\n	                                                                          var value = tdObjs.getAttribute(\"value\");\r\n	                                                                          if(tdObjs.getAttribute(\"datavaluetype\")){\r\n	                                                                           var datavaluetype = tdObjs.getAttribute(\"datavaluetype\");\r\n	                                                                               if(datavaluetype == 3 ||datavaluetype == 5 ){ //\u6d6e\u70b9\u6570\u4e0e\u91d1\u989d\u5343\u5206\u4f4d\r\n	                                                                                 var reg =   eval(\"/\"+idval+\"/ig\");\r\n	                                                                                  var datatype = tdObjs.getAttribute(\"datatype\");\r\n	                                                                                  var datetype = tdObjs.getAttribute(\"datetype\");\r\n	                                                                                  var datalength = tdObjs.getAttribute(\"datalength\");\r\n	                                                                                  var onkeypress = tdObjs.getAttribute(\"onkeypress\");\r\n	                                                                                  onkeypress = onkeypress.replace(reg,idval+\"_d\");\r\n	                                                                                  var onblur= tdObjs.getAttribute(\"onblur\");\r\n	                                                                                  onblur =  onblur.replace(reg,idval+\"_d\");\r\n	                                                                                  if(datavaluetype == 5){\r\n	                                                                                    var onfocus = tdObjs.getAttribute(\"onfocus\");\r\n	                                                                                    onfocus = onfocus.replace(reg,idval+\"_d\");\r\n	                                                                                  }\r\n																					   var onchange=tdObjs.getAttribute(\"onchange\");\r\n																						if(onchange){\r\n																							   var reg =   eval(\"/\"+idval+\"/ig\");\r\n																							  onchange = onchange.replace(reg,idval+\"_d\");\r\n																						}else{\r\n																							 onchange = \"\";  \r\n																						 }\r\n	                                                                                  if(datavaluetype == 5){\r\n	                                                                                      DIVHTML += \"<input onfocus=\\\"\"+onfocus+\"\\\"   onblur=\\\"\"+onblur+\"\\\"  onkeypress=\\\"\"+onkeypress+\"\\\" datavaluetype=\\\"\"+datavaluetype+\"\\\" datalength=\\\"\"+datalength+\"\\\" datatype=\\\"\"+datatype+\"\\\" datetype=\\\"\"+datetype+\"\\\"  type=\\\"\"+type+\"\\\" id=\\\"\"+idval+\"_d\\\" name=\\\"\"+name+\"_d\\\" namebak=\\\"\"+namebak+\"\\\" value=\\\"\"+value+\"\\\" onchange=\\\"\"+onchange+\";onChangeClick(this,\"+isedit+\",\"+groupid+\",\"+rowId+\",\"+elementCount+\");\\\" />\"; \r\n	                                                                                  }else{\r\n	                                                                                      DIVHTML += \"<input onblur=\\\"\"+onblur+\"\\\"  onkeypress=\\\"\"+onkeypress+\"\\\" datavaluetype=\\\"\"+datavaluetype+\"\\\" datalength=\\\"\"+datalength+\"\\\" datatype=\\\"\"+datatype+\"\\\" datetype=\\\"\"+datetype+\"\\\"  type=\\\"\"+type+\"\\\" id=\\\"\"+idval+\"_d\\\" name=\\\"\"+name+\"_d\\\" namebak=\\\"\"+namebak+\"\\\" value=\\\"\"+value+\"\\\" onchange=\\\"\"+onchange+\";onChangeClick(this,\"+isedit+\",\"+groupid+\",\"+rowId+\",\"+elementCount+\");\\\" />\";\r\n	                                                                                  }\r\n	                                                                               }else if(datavaluetype == 4){ //\u91d1\u989d\u5343\u5206\u4f4d\r\n	                                                                                  var reg =   eval(\"/\"+idval+\"/ig\");\r\n	                                                                                  var datatype = tdObjs.getAttribute(\"datatype\");\r\n	                                                                                  var datetype = tdObjs.getAttribute(\"datetype\");\r\n	                                                                                  var datalength = tdObjs.getAttribute(\"datalength\");\r\n	                                                                                  var onkeypress = tdObjs.getAttribute(\"onkeypress\");\r\n	                                                                                  var onblur= tdObjs.getAttribute(\"onblur\");\r\n	                                                                                   var onfocus = tdObjs.getAttribute(\"onfocus\");\r\n	                                                                                   if(idval.indexOf(\"lable\") >=0){\r\n	                                                                                       DIVHTML += \"<input onchange=\\\"onChangeClick(this,\"+isedit+\",\"+groupid+\",\"+rowId+\",\"+elementCount+\");\\\" onfocus=\\\"FormatToNumber('\"+onfocus.substring(onfocus.indexOf(\"'\")+1,onfocus.lastIndexOf(\"'\")).replace(/field_lable/ig,\"\")+\"_d')\\\" onblur=\\\"numberToFormat('\"+onblur.substring(onblur.indexOf(\"'\")+1,onblur.lastIndexOf(\"'\")).replace(/field_lable/ig,\"\")+\"_d');calSum(\"+groupid+\");\\\" onkeypress=\\\"ItemNum_KeyPress('\"+onkeypress.substring(onkeypress.indexOf(\"'\")+1,onkeypress.lastIndexOf(\"'\"))+\"_d')\\\" value=\\\"\"+value+\"\\\" namebak=\\\"\"+namebak+\"\\\" id=\\\"\"+idval+\"_d\\\" name=\\\"\"+name+\"_d\\\" type=\\\"\"+type+\"\\\" datatype=\\\"\"+datatype+\"\\\" datetype=\\\"\"+datetype+\"\\\" datavaluetype=\\\"\"+datavaluetype+\"\\\" datalength=\\\"\"+datalength+\"\\\"  />\";    \r\n	                                                                                       DIVHTML += \"<BR>\";\r\n	                                                                                   }else{\r\n	                                                                                    ".toCharArray();
    _jsp_string89 = "\").getAttribute(\"datavaluetype\");\r\n								        if(filedtype == 4){\r\n								            document.getElementById(\"field_lable".toCharArray();
    _jsp_string405 = "\r\n</body></html>".toCharArray();
    _jsp_string395 = "\";\r\n	}\r\n	\r\n	//\u662f\u5426\u8bbe\u7f6e\u4e86 \u7b7e\u5b57\u610f\u89c1\u4e0a\u4f20\u9644\u4ef6 \u7684\u76ee\u5f55\r\n	function getSignatureAppendfix(){\r\n		return \"".toCharArray();
    _jsp_string325 = "\r\n<div class=\"blockHead\" id=\"detailforminfoDivHead\">\r\n	<span class=\"m-l-14\">\u6d41\u7a0b\u660e\u7ec6</span>\r\n</div>\r\n\r\n<div class=\"tblBlock\" style=\"width:100%;background:#fff;min-height:25px;\" id=\"detailforminfoDiv\">\r\n".toCharArray();
    _jsp_string110 = "\r\n										} else {\r\n											$('td#remindType_remindBeforeStart').show();\r\n											$('td#remindType_remindBeforeEnd').show();\r\n											$('td#remindType_remindTimesBeforeStart').show();\r\n											$('td#remindType_remindTimesBeforeEnd').show();\r\n											".toCharArray();
    _jsp_string204 = "\"  name=\"newRowNum".toCharArray();
    _jsp_string187 = "&tableOrderId=".toCharArray();
    _jsp_string388 = ");\r\n	}\r\n	\r\n	function dorejectIsfree(_this){\r\n		 if(remarksignCheck()){\r\n	     ".toCharArray();
    _jsp_string363 = ";\r\n	if(flagEditAppendix){\r\n		var $editAppend = jQuery(\"td[name='appendixEditField']\");\r\n		$editAppend.each(\r\n		    function(i){\r\n		    	jQuery(this).remove();\r\n		    })\r\n	}\r\n	\r\n		\r\n".toCharArray();
    _jsp_string6 = "!\";\r\n	var cj_bohaiLeave11 = \"".toCharArray();
    _jsp_string140 = "\"\r\n						class=\"scroller_time\" onblur=\"validateTime(this);\" onchange=\"doChangeLeaveDateTime();\"/>\r\n				".toCharArray();
    _jsp_string235 = "\" >\r\n				   ".toCharArray();
    _jsp_string139 = "\"\r\n						class=\"scroller_date\" onblur=\"validateDate(this);\" onchange=\"doChangeLeaveDateTime();\"/>\r\n				".toCharArray();
    _jsp_string197 = "\" type=button Class=\"operationBt\"   onclick=\"deleteRow(".toCharArray();
    _jsp_string346 = "\r\n<script>\r\n	 try{\r\n	  formcontainattachs = JSON.parse(\"".toCharArray();
    _jsp_string309 = "\").value=toPrecision(sum,decimalNumber);\r\n        }\r\n".toCharArray();
    _jsp_string217 = "\r\n			</tr>\r\n	".toCharArray();
    _jsp_string221 = ");\r\n		       }\r\n		  </script>\r\n       ".toCharArray();
    _jsp_string153 = "\" \r\n							".toCharArray();
    _jsp_string212 = "\r\n			    <th class=\"detailFormIndexTD detailMiddleTableBorder\">\u5e8f\u53f7</th>\r\n		".toCharArray();
    _jsp_string60 = "\r\n       try {\r\n       ".toCharArray();
    _jsp_string9 = "\";\r\n	var cj_bohaiLeave11_1 = \"".toCharArray();
    _jsp_string316 = "\").innerHTML = changeToThousandsVal(toPrecision(sumvalue,datalength));\r\n             //  }else{\r\n                   document.getElementById(\"sum".toCharArray();
    _jsp_string367 = "\r\n		try{\r\n		   setRedflag();\r\n		}catch(e){}\r\n		try{\r\n		   initFormPage();\r\n		}catch(e){}\r\n		ckInterval = setInterval(\"setRedflag()\",1000);\r\n		\r\n		$(\"a[href='#'][data-rel='dialog']\").attr(\"href\",\"javascript:void(0);\");\r\n		if(clienttype==\"android\"||clienttype==\"androidpad\"){\r\n			clientVersion=mobileInterface.getClientVersion();\r\n		}\r\n		\r\n		var $viewMainTable = jQuery(\"table[class='ViewForm outertable']\");\r\n		if($viewMainTable != null){\r\n			if($viewMainTable.width() > document.body.clientWidth){\r\n				document.getElementById(\"view_header\").style.width = $viewMainTable.width() + 10;\r\n				document.getElementById(\"header\").style.width = $viewMainTable.width() + 10;\r\n			}\r\n		}\r\n	});\r\n	\r\n	//\u6807\u8bc6\u5f53\u524d\u8f6c\u53d1\u64cd\u4f5c\u662f\u7b2c\u4e00\u6b21\r\n	var flagForwardFirst = true;\r\n	//\u6807\u8bc6\u5f53\u524d\u6d41\u7a0b\u5df2\u64cd\u4f5c\u4eba\u5458\r\n	var flagForwardReceiver = \"\";\r\n	\r\n	".toCharArray();
    _jsp_string378 = ";\r\n	}\r\n	\r\n	function getIsselectrejectnode() {\r\n		return ".toCharArray();
    _jsp_string251 = "\r\n						  <span id=\"".toCharArray();
    _jsp_string211 = "<th class=\"detailFormIndexTD detailLeftTableBorder\" ></th>".toCharArray();
    _jsp_string88 = "\").getAttribute(\"datavaluetype\")){\r\n								       var filedtype=document.getElementById(\"field".toCharArray();
    _jsp_string345 = "\r\n\r\n".toCharArray();
    _jsp_string181 = "\").value;\r\n	    document.getElementById(\"nodenum".toCharArray();
    _jsp_string72 = "\")&&document.getElementById(\"field".toCharArray();
    _jsp_string59 = "\r\n        try{\r\n            var nowobj=(evt.srcElement ? evt.srcElement : evt.target).name.toString();\r\n            var i=0;\r\n			var testDataValueType = (evt.srcElement ? evt.srcElement : evt.target).getAttribute(\"datavaluetype\");\r\n			if(testDataValueType && testDataValueType == 4){\r\n				 if(nowobj.indexOf('_')>-1){\r\n				   i=nowobj.substr(nowobj.indexOf('_')+1);\r\n				   if(i.indexOf('_')>-1)i=i.substr(i.indexOf('_')+1);\r\n				}\r\n			}else{\r\n				if(nowobj.indexOf('_')>-1){\r\n				   i=nowobj.substr(nowobj.indexOf('_')+1);\r\n				   if(i.indexOf('_')>-1)\r\n						i=i.substr(0,i.indexOf('_'));\r\n				}\r\n			}\r\n        ".toCharArray();
  }
}
