/*
 * JSP generated by Resin-3.1.8 (built Mon, 17 Nov 2008 12:15:21 PST)
 */

package _jsp._mobile._plugin._task;
import javax.servlet.*;
import javax.servlet.jsp.*;
import javax.servlet.http.*;
import java.util.*;
import weaver.hrm.*;
import weaver.systeminfo.*;
import weaver.general.StaticObj;
import weaver.general.Util;
import weaver.hrm.settings.RemindSettings;
import org.apache.commons.logging.Log;
import org.apache.commons.logging.LogFactory;
import weaver.file.Prop;
import weaver.general.*;
import weaver.file.FileUpload;
import java.net.URLDecoder;

public class _taskadd__jsp extends com.caucho.jsp.JavaPage
{
  private static final java.util.HashMap<String,java.lang.reflect.Method> _jsp_functionMap = new java.util.HashMap<String,java.lang.reflect.Method>();
  private boolean _caucho_isDead;
  
  public void
  _jspService(javax.servlet.http.HttpServletRequest request,
              javax.servlet.http.HttpServletResponse response)
    throws java.io.IOException, javax.servlet.ServletException
  {
    javax.servlet.http.HttpSession session = request.getSession(true);
    com.caucho.server.webapp.WebApp _jsp_application = _caucho_getApplication();
    javax.servlet.ServletContext application = _jsp_application;
    com.caucho.jsp.PageContextImpl pageContext = _jsp_application.getJspApplicationContext().allocatePageContext(this, _jsp_application, request, response, null, session, 8192, true, false);
    javax.servlet.jsp.PageContext _jsp_parentContext = pageContext;
    javax.servlet.jsp.JspWriter out = pageContext.getOut();
    final javax.el.ELContext _jsp_env = pageContext.getELContext();
    javax.servlet.ServletConfig config = getServletConfig();
    javax.servlet.Servlet page = this;
    response.setContentType("text/html; charset=UTF-8");
    request.setCharacterEncoding("UTF-8");
    try {
      out.write(_jsp_string0, 0, _jsp_string0.length);
      
	
	response.setHeader("cache-control", "no-cache");
	response.setHeader("pragma", "no-cache");
	response.setHeader("expires", "Mon 1 Jan 1990 00:00:00 GMT");
	

	User user = HrmUserVarify.getUser (request , response) ;
	if(user == null)  return ;
	Log logger= LogFactory.getLog(this.getClass());
	String isIE = (String)session.getAttribute("browser_isie");

      out.write(_jsp_string1, 0, _jsp_string1.length);
      weaver.workflow.request.RequestComInfo RequestComInfo;
      RequestComInfo = (weaver.workflow.request.RequestComInfo) pageContext.getAttribute("RequestComInfo");
      if (RequestComInfo == null) {
        RequestComInfo = new weaver.workflow.request.RequestComInfo();
        pageContext.setAttribute("RequestComInfo", RequestComInfo);
      }
      out.write(_jsp_string2, 0, _jsp_string2.length);
      weaver.docs.docs.DocComInfo DocComInfo;
      DocComInfo = (weaver.docs.docs.DocComInfo) pageContext.getAttribute("DocComInfo");
      if (DocComInfo == null) {
        DocComInfo = new weaver.docs.docs.DocComInfo();
        pageContext.setAttribute("DocComInfo", DocComInfo);
      }
      out.write(_jsp_string2, 0, _jsp_string2.length);
      weaver.crm.Maint.CustomerInfoComInfo CustomerInfoComInfo;
      CustomerInfoComInfo = (weaver.crm.Maint.CustomerInfoComInfo) pageContext.getAttribute("CustomerInfoComInfo");
      if (CustomerInfoComInfo == null) {
        CustomerInfoComInfo = new weaver.crm.Maint.CustomerInfoComInfo();
        pageContext.setAttribute("CustomerInfoComInfo", CustomerInfoComInfo);
      }
      out.write(_jsp_string2, 0, _jsp_string2.length);
      weaver.workrelate.util.CommonTransUtil cmutil;
      cmutil = (weaver.workrelate.util.CommonTransUtil) pageContext.getAttribute("cmutil");
      if (cmutil == null) {
        cmutil = new weaver.workrelate.util.CommonTransUtil();
        pageContext.setAttribute("cmutil", cmutil);
      }
      out.write(_jsp_string2, 0, _jsp_string2.length);
      
	request.setCharacterEncoding("UTF-8");
	FileUpload fu = new FileUpload(request);
	String clienttype = Util.null2String((String)fu.getParameter("clienttype"));
	String clientlevel = Util.null2String((String)fu.getParameter("clientlevel"));
	String module=Util.null2String((String)fu.getParameter("module"));
	String scope=Util.null2String((String)fu.getParameter("scope"));
	
	String param = "clienttype="+clienttype+"&clientlevel="+clientlevel+"&module="+module+"&scope="+scope;
	String level = "";
	String principalid = user.getUID()+"";
	String dutyMan = user.getLastname();
	String enddate = "";
	String todo = "4";
	
	//\u89c6\u56fe\u5224\u65ad\u548c\u9ed8\u8ba4\u503c
	String sorttype = Util.fromScreen3(fu.getParameter("sorttype"), user.getLanguage());
	String datetype = Util.fromScreen3(fu.getParameter("datetype"), user.getLanguage());
	if(sorttype.equals("5")&&!datetype.equals("")){
		todo = datetype;
	}
	String currentDate = TimeUtil.getCurrentDateString();
	String yesterday = TimeUtil.dateAdd(currentDate,-1);
	String tomorrow = TimeUtil.dateAdd(currentDate,1);
	if(sorttype.equals("2")){//\u5230\u671f\u65e5\u89c6\u56fe
		if(datetype.equals("1")){
			enddate = yesterday;
		}else if(datetype.equals("2")){
			enddate = currentDate;
		}else if(datetype.equals("3")){
			enddate = tomorrow;
		}else if(datetype.equals("4")){
			enddate = TimeUtil.dateAdd(tomorrow,1);
		}else if(datetype.equals("5")){
			enddate = "";
		}
	}
	if(sorttype.equals("3")){//\u7d27\u6025\u7a0b\u5ea6\u89c6\u56fe
		level = datetype;
	}
	if(level.equals("5")) level="0";

      out.write(_jsp_string3, 0, _jsp_string3.length);
      if("".equals(clienttype)||clienttype.equals("Webclient")){
      out.write(_jsp_string4, 0, _jsp_string4.length);
      }
      out.write(_jsp_string5, 0, _jsp_string5.length);
      out.print((level ));
      out.write(_jsp_string6, 0, _jsp_string6.length);
      if("1".equals(todo)){
      out.write(_jsp_string7, 0, _jsp_string7.length);
      }
      out.write(_jsp_string8, 0, _jsp_string8.length);
      if("2".equals(todo)){
      out.write(_jsp_string7, 0, _jsp_string7.length);
      }
      out.write(_jsp_string9, 0, _jsp_string9.length);
      if("3".equals(todo)){
      out.write(_jsp_string7, 0, _jsp_string7.length);
      }
      out.write(_jsp_string10, 0, _jsp_string10.length);
      if("4".equals(todo)){
      out.write(_jsp_string7, 0, _jsp_string7.length);
      }
      out.write(_jsp_string11, 0, _jsp_string11.length);
      if("5".equals(todo)){
      out.write(_jsp_string7, 0, _jsp_string7.length);
      }
      out.write(_jsp_string12, 0, _jsp_string12.length);
      out.print((todo ));
      out.write(_jsp_string13, 0, _jsp_string13.length);
      out.print((principalid ));
      out.write(_jsp_string14, 0, _jsp_string14.length);
      out.print((dutyMan ));
      out.write(_jsp_string15, 0, _jsp_string15.length);
      out.print((principalid ));
      out.write(_jsp_string16, 0, _jsp_string16.length);
      out.print((enddate ));
      out.write(_jsp_string17, 0, _jsp_string17.length);
      out.print((principalid ));
      out.write(_jsp_string14, 0, _jsp_string14.length);
      out.print((dutyMan ));
      out.write(_jsp_string18, 0, _jsp_string18.length);
      out.print((principalid ));
      out.write(_jsp_string19, 0, _jsp_string19.length);
      out.print((param));
      out.write(_jsp_string20, 0, _jsp_string20.length);
      out.print((principalid ));
      out.write(_jsp_string14, 0, _jsp_string14.length);
      out.print((dutyMan ));
      out.write(_jsp_string21, 0, _jsp_string21.length);
      out.print((principalid ));
      out.write(_jsp_string22, 0, _jsp_string22.length);
      out.print((param));
      out.write(_jsp_string23, 0, _jsp_string23.length);
      if("".equals(clienttype)||clienttype.equals("Webclient")){
      out.write(_jsp_string24, 0, _jsp_string24.length);
      }else{
      out.write(_jsp_string25, 0, _jsp_string25.length);
      }
      out.write(_jsp_string26, 0, _jsp_string26.length);
      out.print((SystemEnv.getHtmlLabelName(1290,user.getLanguage()) ));
      out.write(_jsp_string27, 0, _jsp_string27.length);
    } catch (java.lang.Throwable _jsp_e) {
      pageContext.handlePageException(_jsp_e);
    } finally {
      _jsp_application.getJspApplicationContext().freePageContext(pageContext);
    }
  }

  private java.util.ArrayList _caucho_depends = new java.util.ArrayList();

  public java.util.ArrayList _caucho_getDependList()
  {
    return _caucho_depends;
  }

  public void _caucho_addDepend(com.caucho.vfs.PersistentDependency depend)
  {
    super._caucho_addDepend(depend);
    com.caucho.jsp.JavaPage.addDepend(_caucho_depends, depend);
  }

  public boolean _caucho_isModified()
  {
    if (_caucho_isDead)
      return true;
    if (com.caucho.server.util.CauchoSystem.getVersionId() != 1886798272571451039L)
      return true;
    for (int i = _caucho_depends.size() - 1; i >= 0; i--) {
      com.caucho.vfs.Dependency depend;
      depend = (com.caucho.vfs.Dependency) _caucho_depends.get(i);
      if (depend.isModified())
        return true;
    }
    return false;
  }

  public long _caucho_lastModified()
  {
    return 0;
  }

  public java.util.HashMap<String,java.lang.reflect.Method> _caucho_getFunctionMap()
  {
    return _jsp_functionMap;
  }

  public void init(ServletConfig config)
    throws ServletException
  {
    com.caucho.server.webapp.WebApp webApp
      = (com.caucho.server.webapp.WebApp) config.getServletContext();
    super.init(config);
    com.caucho.jsp.TaglibManager manager = webApp.getJspApplicationContext().getTaglibManager();
    com.caucho.jsp.PageContextImpl pageContext = new com.caucho.jsp.PageContextImpl(webApp, this);
  }

  public void destroy()
  {
      _caucho_isDead = true;
      super.destroy();
  }

  public void init(com.caucho.vfs.Path appDir)
    throws javax.servlet.ServletException
  {
    com.caucho.vfs.Path resinHome = com.caucho.server.util.CauchoSystem.getResinHome();
    com.caucho.vfs.MergePath mergePath = new com.caucho.vfs.MergePath();
    mergePath.addMergePath(appDir);
    mergePath.addMergePath(resinHome);
    com.caucho.loader.DynamicClassLoader loader;
    loader = (com.caucho.loader.DynamicClassLoader) getClass().getClassLoader();
    String resourcePath = loader.getResourcePathSpecificFirst();
    mergePath.addClassPath(resourcePath);
    com.caucho.vfs.Depend depend;
    depend = new com.caucho.vfs.Depend(appDir.lookup("mobile/plugin/task/taskAdd.jsp"), -1254290544830157265L, false);
    com.caucho.jsp.JavaPage.addDepend(_caucho_depends, depend);
    depend = new com.caucho.vfs.Depend(appDir.lookup("page/maint/common/initNoCache.jsp"), 3270256153856711871L, false);
    com.caucho.jsp.JavaPage.addDepend(_caucho_depends, depend);
  }

  private final static char []_jsp_string11;
  private final static char []_jsp_string18;
  private final static char []_jsp_string14;
  private final static char []_jsp_string19;
  private final static char []_jsp_string9;
  private final static char []_jsp_string4;
  private final static char []_jsp_string8;
  private final static char []_jsp_string26;
  private final static char []_jsp_string10;
  private final static char []_jsp_string12;
  private final static char []_jsp_string6;
  private final static char []_jsp_string20;
  private final static char []_jsp_string21;
  private final static char []_jsp_string16;
  private final static char []_jsp_string25;
  private final static char []_jsp_string22;
  private final static char []_jsp_string15;
  private final static char []_jsp_string0;
  private final static char []_jsp_string17;
  private final static char []_jsp_string1;
  private final static char []_jsp_string24;
  private final static char []_jsp_string13;
  private final static char []_jsp_string23;
  private final static char []_jsp_string2;
  private final static char []_jsp_string27;
  private final static char []_jsp_string3;
  private final static char []_jsp_string7;
  private final static char []_jsp_string5;
  static {
    _jsp_string11 = "\" href=\"javascript:setTodo(4)\">\u4e0d\u6807\u8bb0</a>\r\n									  	<a id=\"todo5\" class=\"slink ".toCharArray();
    _jsp_string18 = "</span>\r\n													</div>\r\n													<input type=\"hidden\" id=\"subMan_0_id\" name=\"subMan\" value=\"".toCharArray();
    _jsp_string14 = "\">".toCharArray();
    _jsp_string19 = "\" />\r\n												</td>\r\n											</tr>\r\n										</table>\r\n									</div>\r\n								</td>\r\n							</tr>\r\n						</table>\r\n						<table class=\"datatable\">\r\n							<tr>\r\n								<td align=\"center\" style=\"padding-top:20px;\">\r\n									<table width=\"100%\">\r\n										<tr>\r\n											<td width=\"50%\" align=\"center\">\r\n											<div onclick=\"doSubmit()\" style=\"float:right;margin-right:20px;\" class=\"btn_feedback2\">\u63d0\u4ea4</div></td>\r\n											<td width=\"50%\" align=\"center\"><div onclick=\"doBack()\"  style=\"float:left;margin-left:20px;\" class=\"btn_feedback2\">\u53d6\u6d88</div></td>\r\n										</tr>\r\n									</table>\r\n								</td>\r\n							</tr>\r\n						</table>\r\n					</div>\r\n			</td>\r\n		</tr>\r\n		</table>\r\n		</form>\r\n	<script language=\"javascript\">\r\n	var param = \"".toCharArray();
    _jsp_string9 = "\" href=\"javascript:setTodo(2)\">\u660e\u5929</a>\r\n									  	<a id=\"todo3\" class=\"slink ".toCharArray();
    _jsp_string4 = "\r\n				#header{display: block;}\r\n			".toCharArray();
    _jsp_string8 = "\" href=\"javascript:setTodo(1)\">\u4eca\u5929</a>\r\n									  	<a id=\"todo2\" class=\"slink ".toCharArray();
    _jsp_string26 = "\r\n	}\r\n	function showDialog2(url){//\u9009\u62e9\u4eba\u5458\u5f39\u51fa\u6846\r\n		window.open(url);\r\n	}\r\n\r\n	function showDialog(url, data){//\u9009\u62e9\u4eba\u5458\u5f39\u51fa\u6846\r\n		var top = ($( window ).height()-150)/2;\r\n		var width = window.innerWidth > 480 ? 480 : window.innerWidth - 20;\r\n		$.open({\r\n			id : \"selectionWindow\",\r\n			url : url,\r\n			data: \"r=\" + (new Date()).getTime() + data,\r\n			title : \"\u8bf7\u9009\u62e9\",\r\n			width : width,\r\n			height : 155,\r\n			scrolling:'yes',\r\n			top: top,\r\n			callback : function(action, returnValue){}\r\n		}); \r\n		$.reload('selectionWindow', url + \"?r=\" + (new Date()).getTime() + data);\r\n	}\r\n	function setBrowserData(fieldId,fieldSpan,rtnValues,rtnNames,param){\r\n		if(param==0){\r\n			$(\"#\"+fieldSpan).html(rtnNames);\r\n			$(\"#\"+fieldId).val(rtnValues);\r\n		}\r\n	}\r\n	function closeDialog() {//\u9009\u62e9\u5b8c\u4eba\u5458\u56de\u8c03\u51fd\u6570\r\n		$.close(\"selectionWindow\");\r\n	}\r\n	\r\n	function getDialogId() {\r\n		return \"selectionWindow\";\r\n	}\r\n	\r\n	function getLeftButton(){ \r\n		return \"1,".toCharArray();
    _jsp_string10 = "\" href=\"javascript:setTodo(3)\">\u5373\u5c06</a>\r\n									  	<a id=\"todo4\" class=\"slink ".toCharArray();
    _jsp_string12 = "\" href=\"javascript:setTodo(5)\">\u5907\u5fd8</a>\r\n								  		<input type=\"hidden\" id=\"todo\" name=\"todo\" value=\"".toCharArray();
    _jsp_string6 = "\"/>\r\n		<table class=\"taskTable\" cellpadding=\"0\" cellspacing=\"0\">\r\n			<tr>\r\n				<td valign=\"top\">\r\n					<div id=\"topmain\" class=\"topmain\"><!-- \u9876\u90e8 -->\r\n						<div id=\"header\">\r\n							<table style=\"width: 100%;height: 40px;\">\r\n								<tr>\r\n									<td width=\"10%\" align=\"left\" valign=\"middle\" style=\"padding-left:5px;\">\r\n										<div class=\"taskTopBtn\" onclick=\"doBack()\">\u8fd4\u56de</div>\r\n									</td>\r\n									<td align=\"center\" valign=\"middle\">\r\n										<div id=\"title\">\u4efb\u52a1</div>\r\n									</td>\r\n									<td width=\"10%\" align=\"right\" valign=\"middle\" style=\"padding-right:5px;\">\r\n										<div id=\"rightBtn\" class=\"taskTopBtn\" onclick=\"doSubmit()\">\u4fdd\u5b58</div>\r\n									</td>\r\n								</tr>\r\n							</table>\r\n						</div>\r\n					</div>\r\n					<div id=\"tabblank\" class=\"tabblank\"></div><!-- \u7ad9\u4f4d\u9876\u90e8\u5bfc\u822aFIXED\u7684\u7a7a\u767d -->\r\n					<div class=\"list\"><!-- \u6570\u636e\u5c55\u793a -->\r\n						<div id=\"dtitle0\" class=\"dtitle\"><div class=\"dtxt\">\u57fa\u672c\u4fe1\u606f</div><div class=\"pullDown\"></div></div>\r\n						<table class=\"datatable\">\r\n							<colgroup><col width=\"25%\" /><col width=\"75%\" /></colgroup>\r\n							<tbody>		\r\n								<tr>\r\n									<td class=\"title\">\u540d\u79f0</td>\r\n									<td class=\"data\">\r\n								  		<input type=\"text\" class=\"input_def\" id=\"taskName\" name=\"taskName\" value=\"\"/>\r\n								  	</td>\r\n								</tr>\r\n								<tr>\r\n									<td class=\"title\">\u6807\u8bb0todo</td>\r\n									<td id=\"todo_td\" class=\"data\" style=\"padding-top: 2px;padding-left: 5px;\">\r\n									  	<a id=\"todo1\" class=\"slink ".toCharArray();
    _jsp_string20 = "\";\r\n	$(document).ready(function(){\r\n	\r\n		$(\"#tabblank\").height($(\"#topmain\").height());//\u5360\u4f4dfixed\u51fa\u6765\u7684\u7a7a\u95f4\r\n		\r\n		$('.scroller_date').scroller({//\u65e5\u5386\u63a7\u4ef6\u521d\u59cb\u5316\r\n	        preset: 'date',\r\n	        dateFormat:'yy-mm-dd',\r\n	        theme: 'default',\r\n	        display: 'bottom',\r\n	        mode: 'scroller',\r\n	        endYear:2020,\r\n	        nowText:'\u4eca\u5929',\r\n	        setText:'\u786e\u5b9a',\r\n	        cancelText:'\u53d6\u6d88',\r\n	        monthText:'\u6708',\r\n	        yearText:'\u5e74',\r\n	        dayText:'\u65e5',\r\n	        showNow:true,\r\n	        dateOrder: 'yymmdd'\r\n	    });  \r\n	    //\u63a7\u5236\u591a\u884c\u6587\u672c\u6846\u81ea\u52a8\u4f38\u7f29\r\n	    $(\"textarea\").textareaAutoHeight({minHeight:24});\r\n	    //\u5355\u884c\u6587\u672c\u8f93\u5165\u6846\u4e8b\u4ef6\u7ed1\u5b9a\r\n		$(\".input_def\").bind(\"mouseover\",function(){\r\n			$(this).addClass(\"input_over\");\r\n		}).bind(\"mouseout\",function(){\r\n			$(this).removeClass(\"input_over\");\r\n		}).bind(\"focus\",function(){\r\n			$(this).addClass(\"input_focus\");\r\n		}).bind(\"blur\",function(){\r\n			$(this).removeClass(\"input_focus\");\r\n		});\r\n		//\u591a\u884c\u6587\u672c\u8f93\u5165\u6846\u4e8b\u4ef6\u7ed1\u5b9a\r\n		$(\".content_def\").bind(\"mouseover\",function(){\r\n			$(this).addClass(\"content_over\");\r\n		}).bind(\"mouseout\",function(){\r\n			$(this).removeClass(\"content_over\");\r\n		}).bind(\"focus\",function(){\r\n			$(this).addClass(\"content_focus\");\r\n			tempval = $(this).html();\r\n		}).bind(\"blur\",function(){\r\n			$(this).removeClass(\"content_focus\");\r\n		});\r\n		//\u70b9\u51fb\u5c55\u793a\u9690\u85cf\u7684\u6807\u7b7e\u9875\u5185\u5bb9\r\n		$(\".dtitle\").click(function(){\r\n			if(!$(this).hasClass(\"noHide\")){\r\n				$(this).next().toggle();\r\n				if($(this).find(\".pullDown\").hasClass(\"pullUp\")){\r\n					$(this).find(\".pullDown\").removeClass(\"pullUp\");\r\n				}else{\r\n					$(this).find(\".pullDown\").addClass(\"pullUp\");\r\n				}\r\n			}\r\n			if($(this).attr(\"type\")==\"subTask\"){//\u5982\u679c\u662f\u7b2c\u4e00\u6b21\u5c55\u5f00\u4e0b\u7ea7\u4efb\u52a1\u5219\u52a0\u8f7d\u4e00\u6b21\r\n				showSubTask();\r\n				$(this).attr(\"type\",\"\");//\u518d\u6b21\u70b9\u51fb\u4e0d\u5728\u52a0\u8f7d\r\n			}	\r\n		});\r\n		//\u4e0b\u7ea7\u4efb\u52a1\u7ed1\u5b9a\r\n		var subIndex = 1;\r\n		$(\".subTask\").live(\"blur\",function(){\r\n			var value = $.trim($(this).val());\r\n			if(value!=\"\"&&$(this).hasClass(\"default_subTask\")){//\u6709\u5185\u5bb9\u5219\u5c06\u9ed8\u8ba4\u6807\u8bb0\u53bb\u9664\r\n				$(this).removeClass(\"default_subTask\");\r\n			}\r\n			if(value!=\"\"&&$(\".default_subTask\").length<=0){//\u6709\u5185\u5bb9\u5e76\u4e14\u6ca1\u6709\u9ed8\u8ba4\u8f93\u5165\u6846 \u65b0\u589e\u4e00\u4e2a\r\n				var name = \"subMan_\"+subIndex+\"_name\";\r\n				var id = \"subMan_\"+subIndex+\"_id\";\r\n				subIndex++;\r\n				var temp = '<div><table width=\"100%\"><tr>'+\r\n				'<td width=\"*\"><input type=\"text\" placeholder=\"\u65b0\u5efa\u4e0b\u7ea7\u4efb\u52a1\" class=\"input_def subTask default_subTask\" name=\"subTask\"/></td>'+\r\n				'<td width=\"50\"><div class=\"subLink\" id=\"'+name+'\" hid_id=\"'+id+'\">'+\r\n				'<span keyid=\"".toCharArray();
    _jsp_string21 = "</span></div>'+\r\n				'<input type=\"hidden\" id=\"'+id+'\" name=\"subMan\" value=\"".toCharArray();
    _jsp_string16 = "\" />\r\n								  	</td>\r\n								</tr>\r\n								<tr>\r\n									<td class=\"title\">\u53c2\u4e0e\u4eba</td>\r\n									<td class=\"data\">\r\n										<div class=\"txtlink\" id=\"partenr\"></div>\r\n										<div onclick=\"selectUser('partnerid','partenr',1)\" class=\"btn_browser\"></div>\r\n										<input type=\"hidden\" id=\"partnerid\" name=\"partnerid\" value=\"\" />\r\n								  	</td>\r\n								</tr>\r\n								<tr>\r\n									<td class=\"title\">\u7ed3\u675f\u65e5\u671f</td>\r\n									<td class=\"data\">\r\n										<input type=\"text\" class=\"scroller_date input_def\" name=\"enddate\" id=\"enddate\" value=\"".toCharArray();
    _jsp_string25 = "\r\n			var selids = $(\"#\"+rID).val();\r\n			var url = 'emobile:Browser:HRMRESOURCE:'+isMuti+':'+selids+':setBrowserData:'+rID+':'+rField+':\u8bf7\u9009\u62e9';\r\n			showDialog2(url);\r\n		".toCharArray();
    _jsp_string22 = "\" />'+\r\n				'</td></tr></table></div>';\r\n				$(\"#subTaskTd\").append(temp);\r\n			}\r\n		});\r\n		//\u4e0b\u7ea7\u4efb\u52a1\u8d23\u4efb\u4eba\u9009\u62e9\u4e8b\u4ef6\r\n		$(\".subLink\").live(\"click\",function(){\r\n			var name = $(this).attr(\"id\");\r\n			var id = $(this).attr(\"hid_id\");\r\n			selectUser(id,name,0)\r\n		});\r\n	});\r\n	function doSubmit(){//\u63d0\u4ea4\u8868\u5355\r\n		var name = $(\"#taskName\").val();\r\n		if(name==\"\"){\r\n			alert(\"\u4efb\u52a1\u540d\u79f0\u4e0d\u80fd\u4e3a\u7a7a\uff01\");\r\n			$(\"#taskName\").focus();\r\n			return;\r\n		}\r\n		$(\"#datetype\").val($(\"#todo\").val());\r\n		showLoading();\r\n		$(\"#form1\").ajaxSubmit({\r\n			dataType:\"json\",\r\n			success:function(data){\r\n				if(data.status==0){\r\n					window.location.href = \"/mobile/plugin/task/taskMain.jsp?".toCharArray();
    _jsp_string15 = "</span>\r\n										</div>\r\n										<div onclick=\"selectUser('dutyManId','dutyMan',0)\" class=\"btn_browser\"></div>\r\n										<input type=\"hidden\" id=\"dutyManId\" name=\"principalid\" value=\"".toCharArray();
    _jsp_string0 = "\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n".toCharArray();
    _jsp_string17 = "\" readonly=\"readonly\" />\r\n									</td>\r\n								</tr>\r\n							</tbody>\r\n				  		</table>\r\n				  		<div id=\"dtitle0\" class=\"dtitle\"><div class=\"dtxt\">\u4e0b\u7ea7\u4efb\u52a1</div><div class=\"pullDown\"></div></div>\r\n						<table class=\"datatable\">\r\n							<tr>\r\n								<td class=\"data\" id=\"subTaskTd\">\r\n									<div>\r\n										<table width=\"100%\">\r\n											<tr>\r\n												<td width=\"*\"><input type=\"text\" placeholder=\"\u65b0\u5efa\u4e0b\u7ea7\u4efb\u52a1\" class=\"input_def subTask\" name=\"subTask\"/></td>\r\n												<td width=\"50\">\r\n													<div class=\"subLink\" id=\"subMan_0_name\" hid_id=\"subMan_0_id\">\r\n														<span keyid=\"".toCharArray();
    _jsp_string1 = "\r\n\r\n\r\n\r\n\r\n".toCharArray();
    _jsp_string24 = "\r\n			var params = encodeURI('&returnIdField='+rID+'&returnShowField='+rField+'&isMuti='+isMuti+'&method=listUser');\r\n			showDialog('/mobile/plugin/browser.jsp',params);\r\n		".toCharArray();
    _jsp_string13 = "\"/>\r\n								  	</td>\r\n								</tr>\r\n								<tr>\r\n								  	<td class=\"title\">\u63cf\u8ff0</td>\r\n								  	<td class=\"data\">\r\n								  		<textarea class=\"content_def\" id=\"remark\" name=\"remark\"></textarea>\r\n								  	</td>\r\n								</tr>\r\n								<tr>\r\n									<td class=\"title\">\u8d23\u4efb\u4eba</td>\r\n									<td class=\"data\">\r\n										<div class=\"txtlink\" id=\"dutyMan\">\r\n											<span keyid=\"".toCharArray();
    _jsp_string23 = "\";\r\n				}else{\r\n					alert(data.msg);\r\n				}\r\n			},\r\n			error:function(data){\r\n				alert(data);\r\n			},\r\n			complete:function(){\r\n				hideLoading();\r\n			}\r\n		});\r\n	}\r\n	function setTodo(value){//\u6807\u8bb0\u4eca\u5929\u660e\u5929\r\n		$(\"#todo_td\").children(\".slink\").removeClass(\"sdlink\");\r\n		$(\"#todo\"+value).addClass(\"sdlink\");\r\n		$(\"#todo\").val(value);\r\n	}\r\n	function selectUser(rID,rField,isMuti){//\u9009\u62e9\u4eba\u5458\u5165\u53e3\r\n		".toCharArray();
    _jsp_string2 = "\r\n".toCharArray();
    _jsp_string27 = "\";\r\n	}\r\n	function getRightButton(){ \r\n		return \"1,\u4fdd\u5b58\";\r\n	}\r\n	function doRightButton(){\r\n		doSubmit();\r\n		return \"1\";\r\n	}\r\n	function doLeftButton(){\r\n		doBack();\r\n		return \"1\";\r\n	}\r\n	function doBack(){\r\n		window.location = \"/mobile/plugin/task/taskMain.jsp?\"+param;\r\n	}\r\n</script>\r\n</body>\r\n</html>".toCharArray();
    _jsp_string3 = "\r\n<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">\r\n<html xmlns=\"http://www.w3.org/1999/xhtml\">\r\n	<head>\r\n		<meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\" />\r\n		<meta name=\"author\" content=\"Weaver E-Mobile Dev Group\" />\r\n		<meta name=\"description\" content=\"Weaver E-mobile\" />\r\n		<meta name=\"keywords\" content=\"weaver,e-mobile\" />\r\n		<meta name=\"viewport\" content=\"width=device-width,minimum-scale=1.0, maximum-scale=1.0\" />\r\n		<script type='text/javascript' src='/mobile/plugin/task/js/jquery-1.8.3.js'></script>\r\n		<!-- ajax\u63d0\u4ea4form\u8868\u5355 -->\r\n		<script type='text/javascript' src='/mobile/plugin/task/js/jquery.form.js'></script>\r\n		<script type='text/javascript' src='/mobile/plugin/task/js/task.js'></script>\r\n		<!-- \u591a\u884c\u6587\u672c\u6846\u81ea\u52a8\u66f4\u6539\u9ad8\u5ea6 -->\r\n		<script type='text/javascript' src='/mobile/plugin/task/js/jquery.textarea.autoheight.js'></script>\r\n		<!--\u5f39\u51fa\u6846-->\r\n		<script type=\"text/javascript\" src=\"/js/mylibs/asyncbox/AsyncBox.v1.4.js\"></script>\r\n		<link rel=\"stylesheet\" href=\"/js/mylibs/asyncbox/skins/ZCMS/asyncbox.css\" />\r\n		<!--\u65e5\u671f\u65f6\u95f4\u63a7\u4ef6-->\r\n		<link rel=\"stylesheet\" href=\"/js/mylibs/mobiscroll/mobiscroll.min.css\" />\r\n		<script type=\"text/javascript\" src=\"/js/mylibs/mobiscroll/mobiscroll.min.js\"></script>\r\n		<!-- \u906e\u7f69\u5c42 -->\r\n		<script type='text/javascript' src='/mobile/plugin/task/js/showLoading/js/jquery.showLoading.js'></script>\r\n		<link rel=\"stylesheet\" href=\"/mobile/plugin/task/js/showLoading/css/showLoading.css\" />\r\n		\r\n		<link rel=\"stylesheet\" href=\"/mobile/plugin/task/css/task.css\" />\r\n		<link rel=\"stylesheet\" href=\"/mobile/plugin/task/css/add.css\" />\r\n		<style type=\"text/css\">\r\n			".toCharArray();
    _jsp_string7 = "sdlink".toCharArray();
    _jsp_string5 = "\r\n			.subLink{\r\n				line-height:26px;\r\n				border-bottom: 1px solid #f0f0f0;\r\n				color:blue;\r\n				cursor:pointer;\r\n				width:50px;\r\n				height:26px;\r\n			}\r\n		</style>\r\n		<title>\u65b0\u5efa\u4efb\u52a1</title>\r\n	</head>\r\n	<body id=\"body\">\r\n		<form id=\"form1\" name=\"form1\" action=\"/mobile/plugin/task/addOperation.jsp\" method=\"post\">\r\n		<input type=\"hidden\" id=\"operation\" name=\"operation\" value=\"add\"/>\r\n		<input type=\"hidden\" id=\"sorttype\" name=\"sorttype\" value=\"5\"/>\r\n		<input type=\"hidden\" id=\"relateadd\" name=\"relateadd\" value=\"1\"/>\r\n		<input type=\"hidden\" id=\"datetype\" name=\"datetype\" value=\"\"/>\r\n		<input type=\"hidden\" id=\"lev\" name=\"lev\" value=\"".toCharArray();
  }
}
